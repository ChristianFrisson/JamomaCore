max v2;
#N vpatcher 318 281 1477 978;
#P user lcd 35 44 123 10 0 0 0 0 1;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#N vpatcher 101 72 1440 786;
#P origin 30 -44;
#P window setfont "Sans Serif" 9.;
#P window linecount 0;
#P newex 1027 328 31 196617 == 0;
#P newex 635 359 47 196617 gate 1 1;
#P newex 171 359 47 196617 gate 1 1;
#P inlet 859 76 15 0;
#P inlet 397 76 15 0;
#P newex 859 99 75 196617 peakamp~ 125;
#P newex 397 100 75 196617 peakamp~ 125;
#P newex 1078 380 193 196617 send $1_FROM_GUI_AUDIO_COMPONENT;
#P newex 1078 358 144 196617 prepend audio_meters_freeze;
#P objectname audio_meter_freeze_prepend;
#P window linecount 2;
#P newex 816 289 433 196617 jcom.parameter audio/meters/freeze @type msg_toggle @range 0 1 @description "When active\\\, this attribute turns off the signal level meters in the module to conserve CPU.";
#P objectname audio/meters/freeze;
#P comment 1077 400 179 196617 this is sent to the js in the gui so that it can flag the menu item correctly.;
#P window linecount 1;
#P newex 41 202 21 196617 t 0;
#B color 1;
#P objectname jcom.parameter[4];
#P newex 52 174 166 196617 jcom.message audio/meters/clear;
#B color 1;
#P objectname jcom.parameter[3];
#N vpatcher 350 363 1169 752;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#P newex 360 226 22 196617 b 1;
#P window linecount 2;
#P message 101 254 62 196617 deletesprite myPeak;
#P window linecount 1;
#P newex 186 210 99 196617 scale 1 124 35 255;
#P newex 166 231 30 196617 pack;
#P newex 144 185 32 196617 sel 0;
#P newex 144 163 60 196617 split 0 123;
#P newex 144 141 40 196617 peak;
#P message 617 118 124 196617 drawsprite myMask \$1 0;
#P number 617 97 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 617 76 122 196617 scale -96 0 0 124 1.035;
#P newex 617 55 34 196617 atodb;
#P window linecount 3;
#P message 166 254 174 196617 recordsprite \, linesegment \$1 0 \$1 9 \$2 255 16 \, closesprite myPeak \, drawsprite myPeak 0 0;
#P inlet 174 34 15 0;
#P inlet 617 34 15 0;
#P outlet 166 332 15 0;
#P window linecount 2;
#P message 360 254 224 196617 recordsprite \, paintrect 119 0 123 10 250 0 0 \, closesprite myPeak \, drawsprite myPeak 0 0;
#P connect 11 0 14 0;
#P fasten 7 0 9 0 622 136 149 136;
#P connect 9 0 10 0;
#P connect 10 0 11 0;
#P connect 11 1 12 0;
#P connect 12 0 4 0;
#P fasten 0 0 1 0 365 319 171 319;
#P fasten 8 0 1 0 622 319 171 319;
#P connect 4 0 1 0;
#P connect 14 0 1 0;
#P connect 3 0 9 1;
#P connect 11 1 13 0;
#P connect 13 0 12 1;
#P connect 10 1 15 0;
#P connect 15 0 0 0;
#P connect 2 0 5 0;
#P connect 5 0 6 0;
#P connect 6 0 7 0;
#P connect 7 0 8 0;
#P pop;
#P newobj 208 288 128 196617 p dynamic_draw_right_ch;
#N vpatcher 350 363 1169 752;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#P newex 360 226 22 196617 b 1;
#P window linecount 2;
#P message 101 254 62 196617 deletesprite myPeak;
#P window linecount 1;
#P newex 186 210 99 196617 scale 1 124 35 255;
#P newex 166 231 30 196617 pack;
#P newex 144 185 32 196617 sel 0;
#P newex 144 163 60 196617 split 0 123;
#P newex 144 141 40 196617 peak;
#P message 617 118 124 196617 drawsprite myMask \$1 0;
#P number 617 97 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 617 76 122 196617 scale -96 0 0 124 1.035;
#P newex 617 55 34 196617 atodb;
#P window linecount 3;
#P message 166 254 174 196617 recordsprite \, linesegment \$1 0 \$1 9 \$2 255 16 \, closesprite myPeak \, drawsprite myPeak 0 0;
#P inlet 174 34 15 0;
#P inlet 617 34 15 0;
#P outlet 166 332 15 0;
#P window linecount 2;
#P message 360 254 224 196617 recordsprite \, paintrect 119 0 123 10 250 0 0 \, closesprite myPeak \, drawsprite myPeak 0 0;
#P connect 11 0 14 0;
#P fasten 7 0 9 0 622 136 149 136;
#P connect 9 0 10 0;
#P connect 10 0 11 0;
#P connect 11 1 12 0;
#P connect 12 0 4 0;
#P connect 14 0 1 0;
#P connect 4 0 1 0;
#P fasten 8 0 1 0 622 319 171 319;
#P fasten 0 0 1 0 365 319 171 319;
#P connect 3 0 9 1;
#P connect 11 1 13 0;
#P connect 13 0 12 1;
#P connect 10 1 15 0;
#P connect 15 0 0 0;
#P connect 2 0 5 0;
#P connect 5 0 6 0;
#P connect 6 0 7 0;
#P connect 7 0 8 0;
#P pop;
#P newobj 672 288 128 196617 p dynamic_draw_right_ch;
#P comment 526 487 100 196617 lower (right) meter;
#P outlet 635 487 15 0;
#P button 349 403 15 0;
#N vpatcher 11 96 806 530;
#P window setfont "Sans Serif" 9.;
#P window linecount 0;
#P message 63 384 110 196617 deletesprite myMask1;
#P window linecount 1;
#P message 45 123 40 196617 local 0;
#P window linecount 4;
#P message 91 123 118 196617 recordsprite \, paintrect 0 0 123 10 50 50 50 \, closesprite myMask \, drawsprite myMask 0 0;
#P window linecount 1;
#P newex 45 76 196 196617 b 5;
#P newex 260 271 30 196617 pack;
#P newex 280 247 99 196617 scale 0 125 35 255;
#P message 260 293 162 196617 linesegment \$1 0 \$1 9 \$2 255 16;
#P message 427 293 150 196617 linesegment \$1 0 \$1 9 250 0 0;
#P newex 260 194 177 196617 split 0 118;
#P comment 265 152 73 196617 meter 1 (left);
#P newex 260 171 75 196617 jcom.thru.mxt;
#P newex 218 124 53 196617 uzi 123 0;
#P message 624 138 33 196617 clear;
#P message 659 138 93 196617 brgb 170 170 170;
#P inlet 45 39 15 0;
#P outlet 45 384 15 0;
#P connect 1 0 12 0;
#P connect 12 0 14 0;
#P fasten 13 0 0 0 96 360 50 360;
#P fasten 9 0 0 0 265 360 50 360;
#P fasten 8 0 0 0 432 360 50 360;
#P fasten 14 0 0 0 50 360 50 360;
#P fasten 3 0 0 0 629 360 50 360;
#P fasten 2 0 0 0 664 360 50 360;
#P connect 15 0 0 0;
#P connect 12 1 13 0;
#P fasten 12 2 4 0 142 113 223 113;
#P connect 4 2 5 0;
#P connect 5 0 7 0;
#P connect 7 0 11 0;
#P connect 11 0 9 0;
#P connect 7 0 10 0;
#P connect 10 0 11 1;
#P connect 7 1 8 0;
#P fasten 12 3 3 0 188 104 629 104;
#P fasten 12 4 2 0 234 98 664 98;
#P pop;
#P newobj 349 424 73 196617 p static_draw;
#P window linecount 4;
#P newex 923 196 176 196617 jcom.return audio/amplitude/2 @type msg_float @range 0. 1. @description "Instant amplitude of the signal of track 2 (range 0. 1.)";
#P objectname audio/enveloppe/1[1];
#P window linecount 1;
#P newex 923 171 50 196617 gate 1 0;
#P window linecount 3;
#P newex 804 24 248 196617 jcom.parameter audio/enveloppe_follower/2 @type msg_toggle @range 0 1 @description "Turn on/off the enveloppe follower for track 2 of this module";
#P objectname audio/enveloppe_follower/2;
#P window linecount 5;
#P newex 459 196 155 196617 jcom.return audio/amplitude/1 @type msg_float @range 0. 1. @description "Instant amplitude of the signal of track 1 (range 0. 1.)";
#P objectname audio/enveloppe/1;
#P window linecount 1;
#P newex 459 171 47 196617 gate 1 0;
#P window linecount 3;
#P newex 340 24 248 196617 jcom.parameter audio/enveloppe_follower/1 @type msg_toggle @range 0 1 @description "Turn on/off the enveloppe follower for track 1 of this module";
#P objectname audio/enveloppe_follower/1;
#P window linecount 1;
#P comment 141 116 90 196617 defeat the meters;
#P toggle 123 136 15 0;
#P inlet 123 116 15 0;
#P comment 504 124 252 196617 these receive amplitude envelope info from jcom.out~;
#P inlet 41 115 15 0;
#P flonum 326 138 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 349 379 50 196617 jcom.init;
#P flonum 790 138 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P window linecount 2;
#P newex 790 100 66 196617 jcom.remote __meter__2;
#P newex 326 100 67 196617 jcom.remote __meter__1;
#P outlet 171 487 15 0;
#P comment 605 31 162 196617 For now we assume two meters - we can make this dynamic later...;
#P window linecount 1;
#P comment 59 115 59 196617 in from lcd;
#P comment 187 487 100 196617 upper (left) meter;
#P connect 26 0 27 0;
#P connect 9 0 27 0;
#P connect 11 0 12 0;
#P fasten 38 0 36 0 1032 350 176 350;
#P connect 20 0 3 0;
#P connect 36 0 3 0;
#P fasten 27 0 25 0 46 280 213 280;
#P connect 25 0 36 1;
#P connect 4 0 8 0;
#P fasten 32 0 8 0 402 134 331 134;
#P connect 8 0 25 1;
#P connect 7 0 21 0;
#P connect 21 0 20 0;
#P connect 34 0 32 0;
#P connect 14 1 15 0;
#P connect 15 0 16 0;
#P fasten 8 0 15 1 331 162 501 162;
#P fasten 38 0 37 0 1032 352 640 352;
#P connect 37 0 22 0;
#P connect 20 0 22 0;
#P fasten 27 0 24 0 46 279 677 279;
#P connect 24 0 37 1;
#P connect 5 0 6 0;
#P fasten 33 0 6 0 864 131 795 131;
#P connect 6 0 24 1;
#P connect 35 0 33 0;
#P connect 17 1 18 0;
#P fasten 18 0 19 0 928 192 928 192;
#P fasten 6 0 18 1 795 162 968 162;
#P connect 29 1 38 0;
#P fasten 29 1 30 0 1032 322 1083 322;
#P connect 30 0 31 0;
#P pop;
#P hidden newobj 46 267 77 196617 p metercontrol;
#P objectname metercontrol;
#P user lcd 35 28 123 10 0 0 0 0 1;
#P hidden message 57 158 191 196617 /preset/store 1 default \, /preset/write;
#B color 3;
#P hidden message 286 363 48 196617 set \$1 0;
#P hidden newex 286 342 51 196617 route set;
#B color 2;
#P objectname jcom.parameter.gain.mxt[3];
#P hidden newex 286 321 301 196617 jcom.parameter.gain.mxt audio/gain @description "master gain";
#B color 2;
#P objectname jcom.parameter.gain.mxt;
#P hidden newex 288 162 197 196617 unpack 0. 0.;
#B color 7;
#P hidden newex 475 256 40 196617 / 157.;
#P hidden newex 288 256 40 196617 / 157.;
#P hidden newex 475 276 96 196617 prepend set bottom;
#P hidden newex 288 236 51 196617 route set;
#P user jsui 20 72 161 26 1 0 0 jcom.twinsliderui.js;
#P hidden newex 288 276 79 196617 prepend set top;
#P hidden newex 475 236 51 196617 route set;
#P hidden message 5 122 41 196617 link \$1;
#P window linecount 2;
#P hidden newex 475 204 157 196617 jcom.parameter.gain.mxt gain_2 @description "right channel gain";
#B color 2;
#P objectname jcom.parameter.gain.mxt[2];
#P hidden newex 288 204 153 196617 jcom.parameter.gain.mxt gain_1 @description "left channel gain";
#B color 2;
#P objectname jcom.parameter.gain.mxt[1];
#P window linecount 1;
#P hidden newex 45 404 71 196617 jcom.out~ 2;
#P hidden newex 45 295 57 196617 jcom.in~;
#P hidden message 67 177 125 196617 /documentation/generate;
#P hidden newex 45 347 45 196617 pcontrol;
#P hidden newex 45 321 78 196617 jcom.pass open;
#P hidden newex 286 568 391 196617 jcom.message dsp_status @type msg_none @description "Open DSP Status window.";
#P window linecount 3;
#P hidden newex 9 204 204 196617 jcom.hub jmod.input~ @size 2U-half @module_type audio.no_panel @description "A generic module for audio input";
#P objectname jcom.hub;
#P window linecount 1;
#P hidden newex 286 650 100 196617 pvar filename_menu;
#B color 7;
#P user umenu 192 87 63 196647 3 64 103 0;
#X setrgb 198 198 198 221 221 221 255 255 255 221 221 221 170 170 170 119 119 119 187 187 187;
#X add PulzKick&Hat.aif;
#P objectname filename_menu;
#P hidden newex 286 627 98 196617 r $0_xxx_filename;
#B color 14;
#P user pictctrl 5 71 14 13 jcom.button.link_toggle.pct 0 13 1 1 26 0 1 0 14 13 128 0 1 10 2 1 1 270;
#P objectname Link;
#P hidden newex 286 126 63 196617 prepend link;
#B color 11;
#P hidden newex 286 59 51 196617 pvar Link;
#B color 7;
#P window linecount 2;
#P hidden newex 286 79 248 196617 jcom.parameter link @type msg_toggle @description "Link gain levels for left and right channels.";
#B color 2;
#P objectname link;
#P window linecount 1;
#P hidden newex 727 229 80 196617 r $0_xxx_done;
#B color 14;
#P hidden newex 288 183 41 196617 * 157.;
#B color 7;
#P user pictslider 20 100 161 13 2 0 2 0 jcom.slider.master.knob.top.pct 1 jcom.slider.master.bg.pct 1 609 0 8323072 157 1. 1.;
#P objectname gain_master;
#P hidden newex 475 183 41 196617 * 157.;
#B color 7;
#P user jsui 195 24 45 19 3 0 0 jsui_textbutton.js Open 225 225 225 68 68 68;
#P objectname Open_button;
#P user jsui 195 47 45 19 3 0 0 jcom.jsui_texttoggle.js Play Play 68 68 68 225 225 225 40 255 40 0 0 0;
#P objectname Play_button;
#P window setfont "Sans Serif" 12.;
#P hidden comment 286 391 210 196620 DSP and adc~ settings;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden newex 286 546 85 196617 pvar DSP_Status;
#B color 7;
#P hidden newex 286 514 95 196617 pvar Channel_Right;
#B color 7;
#P hidden newex 286 452 91 196617 pvar Channel_Left;
#B color 7;
#P hidden newex 286 483 408 196617 jcom.parameter ch_2 @type msg_int @description "Set logical input for right channel.";
#B color 2;
#P objectname ch_2;
#P hidden newex 286 420 404 196617 jcom.parameter ch_1 @type msg_int @description "Set logical input for left channel.";
#B color 2;
#P objectname ch_1;
#P user jsui 196 0 45 19 3 0 0 jsui_textbutton.js DSP 225 225 225 68 68 68;
#P objectname DSP_Status;
#P number 7 43 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Right;
#P number 7 26 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Left;
#P window linecount 2;
#P hidden message 36 508 69 196617 \; max refresh;
#P window linecount 1;
#P hidden message 195 177 37 196617 /init;
#P window setfont "Sans Serif" 12.;
#P hidden comment 286 7 210 196620 Volume control;
#B color 7;
#P hidden comment 667 343 39 196620 loop;
#B color 7;
#P hidden comment 667 258 39 196620 play;
#B color 7;
#P hidden comment 667 134 42 196620 open;
#B color 7;
#P hidden comment 667 65 56 196620 source;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden newex 139 404 94 196617 pvar Time_Display;
#N vpatcher 315 68 1255 806;
#P origin -88 15;
#P window setfont "Sans Serif" 9.;
#P newex 95 80 80 196617 prepend symbol;
#P user umenu 95 102 100 196647 1 64 118 0;
#X add none;
#X add live;
#X add soundfile;
#X add 1KHz;
#X add pink;
#P objectname input_menu;
#P window linecount 1;
#P newex 544 164 27 196617 != 4;
#P newex 453 164 27 196617 != 3;
#P newex 362 164 27 196617 != 2;
#P window linecount 0;
#P newex 271 164 27 196617 != 1;
#P window linecount 1;
#P newex 362 191 38 196617 mute~;
#P newex 271 191 38 196617 mute~;
#P newex 453 191 38 196617 mute~;
#P newex 544 191 38 196617 mute~;
#P window linecount 0;
#P newex 95 58 146 196617 jcom.oscroute /source_select;
#N vpatcher 185 98 808 500;
#P window setfont "Sans Serif" 9.;
#P message 475 163 30 196617 0 10;
#P newex 410 140 31 196617 sel 1;
#P newex 319 270 27 196617 *~;
#P newex 284 270 27 196617 *~;
#P message 410 163 43 196617 0 \, 1 10;
#P newex 410 189 31 196617 line~;
#P newex 410 112 53 196617 dspstate~;
#P comment 94 334 202 196617 NOTE: This fade is not displayed in the GUI.;
#P comment 24 75 145 196617 Quick fade in when audio start;
#P inlet 319 91 15 0;
#P inlet 284 91 15 0;
#P outlet 319 305 15 0;
#P outlet 284 305 15 0;
#P newex 475 112 81 196617 r jcom.audio.off;
#P comment 24 59 145 196617 Quick fade out when audio stop;
#P comment 24 95 245 196617 line~ is able to handle this. gain~ and matrix~ is not.;
#P connect 5 0 12 0;
#P connect 12 0 3 0;
#P connect 10 0 12 1;
#P connect 6 0 13 0;
#P connect 13 0 4 0;
#P connect 10 0 13 1;
#P connect 9 0 14 0;
#P connect 14 0 11 0;
#P connect 11 0 10 0;
#P connect 15 0 10 0;
#P connect 2 0 15 0;
#P pop;
#P newobj 20 512 161 196617 p smooth_in_out;
#P inlet 20 22 15 0;
#P comment 574 613 332 196617 By using opendialog it's made sure that any opendialog message that's reaching sfplay~ also has a filename argument.;
#P comment 574 641 332 196617 That way we know for sure that any "open" message reaching sfplay~ for sure implies that a new file is to be opened imideately \, and hence the Play button can be turned of instantly.;
#P comment 574 594 332 196617 The "Play" GUI button should be turned of when a new file is opened.;
#P comment 421 555 85 196617 Time marker;
#P comment 191 555 54 196617 signal R;
#P comment 39 555 54 196617 signal L;
#N comlet signal L;
#P outlet 20 555 15 0;
#N comlet signal R;
#P outlet 171 555 15 0;
#N comlet Time marker;
#P outlet 404 555 15 0;
#N vpatcher 642 166 1171 675;
#P inlet 50 61 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 50 106 243 196617 route /gain_1/midi /gain_2/midi /audio/gain/midi;
#P newex 50 173 69 196617 scale 0. 158. 0. 7.94321 1.071519;
#P newex 127 173 69 196617 scale 0. 158. 0. 7.94321 1.071519;
#P newex 204 173 67 196617 scale 0. 158. 0. 7.94321 1.071519;
#P newex 125 306 27 196617 * 0.;
#P newex 50 306 27 196617 * 0.;
#P newex 20 253 20 196617 t b;
#P comment 281 173 56 196617 MIDI to amplitude;
#P comment 393 461 54 196617 signal R;
#P comment 349 461 54 196617 signal L;
#P comment 418 39 54 196617 signal R;
#N comlet signal R;
#P outlet 397 438 15 0;
#N comlet signal L;
#P outlet 365 438 15 0;
#N comlet signal R;
#P inlet 430 61 15 0;
#N comlet signal L;
#P inlet 365 61 15 0;
#P newex 365 388 75 196617 matrix~ 2 2 0.;
#P message 50 329 39 196617 0 0 \$1;
#P message 125 329 39 196617 1 1 \$1;
#P comment 346 39 54 196617 signal L;
#P connect 15 0 12 0;
#P connect 19 0 18 0;
#P connect 18 0 17 0;
#P connect 12 0 13 0;
#P connect 17 0 13 0;
#P connect 13 0 2 0;
#P connect 15 0 13 1;
#P connect 12 0 14 0;
#P connect 16 0 14 0;
#P connect 14 0 1 0;
#P connect 18 1 16 0;
#P connect 15 0 14 1;
#P connect 18 2 15 0;
#P fasten 2 0 3 0 55 354 370 354;
#P fasten 1 0 3 0 130 354 370 354;
#P connect 4 0 3 0;
#P connect 3 0 6 0;
#P connect 3 1 7 0;
#P connect 5 0 3 1;
#P pop;
#P newobj 20 475 161 196617 p gain;
#P comment 43 587 111 196617 ----signal outputs----;
#P newex 170 430 66 196617 selector~ 4;
#P newex 95 430 66 196617 selector~ 4;
#P window linecount 1;
#N vpatcher 118 354 849 739;
#P window setfont "Sans Serif" 9.;
#P newex 429 299 29 196617 gate;
#P newex 429 124 31 196617 == 2;
#P inlet 429 30 15 0;
#P newex 429 322 236 196617 jcom.return sf_report @description "Report when sound file reach end point and loop to start point.";
#N vpatcher 592 57 1293 550;
#P window setfont "Sans Serif" 9.;
#P newex 371 243 58 196617 t loop_flag;
#P outlet 371 447 15 0;
#P newex 371 183 36 196617 edge~;
#P window linecount 1;
#P newex 371 158 46 196617 change~;
#P window linecount 0;
#P newex 371 136 46 196617 change~;
#P newex 30 320 45 196617 split 0 9;
#P newex 30 342 60 196617 sprintf O%i;
#P newex 30 366 49 196617 tosymbol;
#P newex 137 342 60 196617 sprintf O%i;
#P newex 137 366 49 196617 tosymbol;
#P newex 137 320 45 196617 split 0 9;
#P newex 244 342 60 196617 sprintf O%i;
#P newex 244 372 49 196617 tosymbol;
#P newex 244 320 45 196617 split 0 9;
#P outlet 30 447 15 0;
#P newex 30 398 225 196617 sprintf %s:%s:%s;
#P newex 30 422 89 196617 prepend setitem 0;
#P newex 164 162 68 196617 expr $f1-$i2;
#P newex 244 186 33 196617 * 60.;
#P newex 46 114 68 196617 expr $f1-$i2;
#P window setfont "Sans Serif" 36.;
#P comment 256 260 38 196644 s;
#P window setfont "Sans Serif" 9.;
#P newex 137 139 33 196617 * 60.;
#P window setfont "Sans Serif" 36.;
#P comment 146 260 38 196644 m;
#P window setfont "Sans Serif" 9.;
#P newex 30 91 62 196617 / 3600000.;
#P newex 30 71 80 196617 snapshot~ 1000;
#P inlet 30 27 15 0;
#P window setfont "Sans Serif" 36.;
#P comment 38 260 28 196644 h;
#P connect 1 0 2 0;
#P connect 2 0 3 0;
#P connect 3 0 21 0;
#P connect 21 0 20 0;
#P connect 20 0 19 0;
#P connect 21 1 19 0;
#P connect 19 0 11 0;
#P connect 11 0 10 0;
#P connect 10 0 12 0;
#P fasten 3 0 7 0 35 111 51 111;
#P fasten 3 0 7 1 35 110 109 110;
#P fasten 7 0 5 0 51 135 142 135;
#P connect 5 0 16 0;
#P connect 16 0 18 0;
#P connect 16 1 17 0;
#P connect 18 0 17 0;
#P connect 17 0 11 1;
#P fasten 5 0 9 0 142 158 169 158;
#P fasten 5 0 9 1 142 158 227 158;
#P fasten 9 0 8 0 169 183 249 183;
#P connect 8 0 13 0;
#P connect 13 0 15 0;
#P connect 15 0 14 0;
#P connect 13 1 14 0;
#P connect 14 0 11 2;
#P fasten 1 0 22 0 35 51 376 51;
#P connect 22 0 23 0;
#P connect 23 0 24 0;
#P connect 24 0 26 0;
#P connect 26 0 25 0;
#P pop;
#P newobj 266 239 59 196617 p h:m:s:ms;
#P message 284 89 42 196617 loop \$1;
#P newex 50 50 323 196617 jcom.oscroute /sf_open /play /direct /loop;
#P message 140 139 56 196617 modout 1;
#P newex 140 119 50 196617 jcom.init;
#N vpatcher 191 93 619 557;
#P window setfont "Sans Serif" 9.;
#P newex 237 243 55 196617 r jcom.init;
#P newex 237 292 39 196617 t clear;
#P newex 159 317 98 196617 s $0_xxx_filename;
#P newex 159 291 75 196617 prepend append;
#P newex 159 245 50 196617 strippath;
#P outlet 65 280 15 0;
#P inlet 65 144 15 0;
#P newex 65 253 65 196617 prepend open;
#P newex 65 210 83 196617 opendialog sound;
#P newex 65 173 104 196617 sel bang;
#P comment 39 62 332 196617 By using opendialog it's made sure that any opendialog message that's reaching sfplay~ also has a filename argument.;
#P comment 39 90 332 196617 That way we know for certain that any "open" message reaching sfplay~ implies that a new file is to be opened imideately. Hence the Play button can be turned of instantly.;
#P comment 39 43 332 196617 The "Play" GUI button should be turned of when a new file is opened.;
#P connect 6 0 3 0;
#P connect 3 0 4 0;
#P connect 4 0 5 0;
#P fasten 3 1 5 0 164 227;
#P connect 5 0 7 0;
#P connect 3 1 8 0;
#P connect 4 0 8 0;
#P connect 8 0 9 0;
#P connect 11 0 10 0;
#P connect 9 0 10 0;
#P connect 12 0 11 0;
#P connect 8 0 11 0;
#P pop;
#P newobj 50 78 65 196617 p open_stuff;
#P newex 333 112 30 196617 == 0;
#P newex 333 203 80 196617 s $0_xxx_done;
#B color 14;
#P newex 333 174 21 196617 t 0;
#P newex 333 147 27 196617 gate;
#N sfplay~ eple 2 403200 1 ;
#P newobj 206 117 100 196617 sfplay~ 2 403200 1;
#P inlet 50 30 15 0;
#P outlet 266 283 15 0;
#P outlet 236 283 15 0;
#P outlet 206 283 15 0;
#P connect 3 0 12 0;
#P connect 12 0 9 0;
#P connect 10 0 11 0;
#P fasten 9 0 4 0 55 106 211 106;
#P connect 13 0 4 0;
#P fasten 11 0 4 0 145 160 202 160 202 110 211 110;
#P connect 12 2 4 0;
#P fasten 12 1 4 0 133 106 211 106;
#P connect 4 0 0 0;
#P connect 4 1 1 0;
#P connect 4 2 14 0;
#P connect 14 0 2 0;
#P connect 12 3 13 0;
#P fasten 12 3 8 0 289 77 338 77;
#P connect 8 0 5 0;
#P fasten 9 0 6 0 55 171 338 171;
#P connect 5 0 6 0;
#P connect 6 0 7 0;
#P connect 4 3 5 1;
#P connect 16 0 17 0;
#P connect 17 0 18 0;
#P connect 18 0 15 0;
#P connect 14 1 18 1;
#P pop;
#P newobj 362 268 52 196617 p sfplay~;
#N vpatcher 35 59 635 459;
#P window setfont "Sans Serif" 9.;
#P newex 172 115 35 196617 t open;
#P message 111 116 45 196617 set 2 \$1;
#P message 50 116 45 196617 set 1 \$1;
#P newex 50 76 194 196617 jcom.oscroute /ch_1 /ch_2 /dsp_status;
#P newex 50 298 29 196617 adc~;
#P inlet 50 30 15 0;
#P outlet 69 320 15 0;
#P outlet 50 320 15 0;
#P connect 2 0 4 0;
#P connect 4 0 5 0;
#P connect 5 0 3 0;
#P connect 6 0 3 0;
#P connect 7 0 3 0;
#P connect 3 0 0 0;
#P connect 3 1 1 0;
#P connect 4 1 6 0;
#P connect 4 2 7 0;
#P pop;
#P newobj 271 268 55 196617 p audio_in;
#N vpatcher 35 59 635 459;
#P inlet 48 35 15 0;
#P window setfont "Sans Serif" 9.;
#P window linecount 2;
#P comment 147 87 212 196617 We don't need pass~ as this signal won't be selected~ anyway when it's muted.;
#P window linecount 1;
#P newex 48 105 51 196617 *~ 0.125;
#P newex 48 78 65 196617 cycle~ 1000;
#P outlet 48 127 15 0;
#P connect 1 0 2 0;
#P connect 2 0 0 0;
#P pop;
#P newobj 453 268 40 196617 p 1kHz;
#N vpatcher 35 59 635 459;
#P inlet 49 25 15 0;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#P newex 49 74 32 196617 pink~;
#P outlet 49 140 15 0;
#P window linecount 0;
#P comment 80 111 212 196617 We don't need pass~ as this signal won't be selected~ anyway when it's muted.;
#P connect 2 0 1 0;
#P pop;
#P newobj 544 268 42 196617 p pink~;
#P window linecount 0;
#P comment 597 174 100 196617 Avoid using more CPU than required;
#P connect 18 0 8 0;
#P connect 8 0 19 0;
#P connect 19 0 11 0;
#P connect 18 0 20 0;
#P connect 20 0 30 0;
#P connect 30 0 29 0;
#P connect 29 0 5 0;
#P lcolor 1;
#P connect 5 0 8 1;
#P fasten 3 0 5 1 276 309 114 309;
#P fasten 4 0 5 2 367 313 128 313;
#P fasten 2 0 5 3 458 318 142 318;
#P fasten 1 0 5 4 549 324 156 324;
#P fasten 29 0 6 0 100 240 175 240;
#P lcolor 1;
#P connect 6 0 8 2;
#P connect 8 1 19 1;
#P connect 19 1 10 0;
#P fasten 3 1 6 1 321 357 189 357;
#P lcolor 15;
#P fasten 4 1 6 2 388 361 203 361;
#P lcolor 15;
#P fasten 2 0 6 3 458 366 217 366;
#P lcolor 15;
#P fasten 1 0 6 4 549 371 231 371;
#P lcolor 15;
#P fasten 29 0 25 0 100 141 276 141;
#P lcolor 1;
#P connect 25 0 23 0;
#P fasten 20 1 3 0 236 256 276 256;
#P connect 23 0 3 0;
#P fasten 29 0 26 0 100 141 367 141;
#P lcolor 1;
#P connect 26 0 24 0;
#P connect 24 0 4 0;
#P fasten 20 1 4 0 236 253 367 253;
#P fasten 29 0 4 1 100 237 409 237;
#P lcolor 1;
#P connect 4 2 9 0;
#P fasten 29 0 27 0 100 141 458 141;
#P lcolor 1;
#P connect 27 0 22 0;
#P connect 22 0 2 0;
#P fasten 29 0 28 0 100 141 549 141;
#P lcolor 1;
#P connect 28 0 21 0;
#P connect 21 0 1 0;
#P pop;
#P hidden newobj 45 376 104 196617 p Sound_sources;
#P hidden newex 727 134 88 196617 pvar Open_button;
#B color 7;
#P hidden newex 727 363 85 196617 pvar Loop_toggle;
#B color 7;
#P hidden newex 727 279 85 196617 pvar Play_button;
#B color 7;
#P hidden newex 727 98 93 196617 pvar input_menu 2;
#B color 7;
#P window linecount 2;
#P hidden newex 727 155 394 196617 jcom.message sf_open @type msg_symbol @description "Open sound file specified by filename. Without a filename a standard open file dialog allows you to choose a file.";
#B color 2;
#P objectname jcom.parameter.mxb[10];
#P user umenu 81 1 100 196647 1 64 17 0;
#X setrgb 225 225 225 68 68 68 91 91 91 17 17 17 58 58 58 0 0 0 50 50 50;
#X add none;
#X add live;
#X add soundfile;
#X add 1KHz;
#X add pink;
#P objectname input_menu;
#P user fpic 26 18 160 52 jcom.bg.hgain.pct 0 0 0 0. 0 0 0;
#P hidden newex 727 65 238 196617 jcom.parameter source_select @type msg_symbol @description "Select what audio source to use.";
#B color 2;
#P objectname source_select;
#P hidden newex 727 401 377 196617 jcom.message direct @description container for various messages sent directly to the sfplay~ object. Refer to the MSP documentation for further details.;
#B color 2;
#P objectname jcom.parameter.mxb[9];
#P window linecount 1;
#P hidden newex 727 256 255 196617 jcom.parameter play @description "Play sound file.";
#B color 2;
#P objectname play;
#P hidden newex 727 342 335 196617 jcom.parameter loop @type msg_toggle @description "Loop soundfile.";
#B color 2;
#P objectname loop;
#P hidden comment 45 463 101 196617 ---signal outputs---;
#N comlet (signal) Right Channel;
#P hidden outlet 75 446 15 0;
#P hidden outlet 9 256 15 0;
#N comlet (signal) Left Channel;
#P hidden outlet 45 446 15 0;
#P hidden inlet 9 177 15 0;
#P user umenu 192 103 63 196644 3 64 119 0;
#X setrgb 198 198 198 221 221 221 255 255 255 221 221 221 170 170 170 119 119 119 187 187 187;
#X add O0:O0:O0;
#P objectname Time_Display;
#P window setfont "Sans Serif" 12.;
#P window linecount 2;
#P hidden comment 666 7 210 196620 All communication with interface is done using pvar;
#B color 7;
#P user radiogroup 193 70 42 16;
#X size 1;
#X offset 16;
#X inactive 0;
#X itemtype 1;
#X flagmode 0;
#X set 1;
#X done;
#P objectname Loop_toggle;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#P comment 207 73 29 196617 loop;
#B frgb 181 181 181;
#P window linecount 2;
#P hidden comment 286 28 248 196617 The set message is important to prevent feedback into jcom.parameter.gain from killing ongoing ramps;
#P bpatcher 0 0 256 121 0 0 jcom.gui.mxt 0;
#P objectname jcom.gui.mxt;
#P hidden connect 49 0 62 0;
#P hidden fasten 74 0 53 0 62 197 14 197;
#P hidden connect 6 0 53 0;
#P hidden fasten 57 0 53 0 72 197 14 197;
#P hidden fasten 29 0 53 0 200 197 14 197;
#P hidden connect 53 0 8 0;
#P hidden connect 62 0 65 0;
#P hidden connect 64 0 65 0;
#P hidden connect 67 0 65 0;
#P hidden connect 73 0 43 0;
#P hidden connect 76 0 75 0;
#P lcolor 2;
#P hidden connect 76 1 77 0;
#P lcolor 2;
#P hidden connect 58 0 55 0;
#P hidden connect 55 0 56 0;
#P hidden connect 56 0 22 0;
#P hidden fasten 55 1 22 0 118 370 50 370;
#P hidden connect 22 0 59 0;
#P hidden connect 59 0 7 0;
#P hidden connect 75 2 76 0;
#P lcolor 2;
#P hidden connect 77 2 76 0;
#P lcolor 2;
#P hidden connect 59 1 9 0;
#P hidden fasten 59 0 76 2 50 435 245 435 245 259 95 259;
#P hidden connect 22 1 59 1;
#P hidden fasten 59 1 76 3 80 431 239 431 239 263 117 263;
#P hidden connect 22 2 23 0;
#P hidden fasten 46 0 47 0 291 113 280 113 280 55 291 55;
#P hidden connect 47 0 46 0;
#P hidden fasten 46 1 48 0 410 120 291 120;
#P hidden connect 43 0 71 0;
#P hidden connect 71 0 72 0;
#P hidden connect 72 0 73 0;
#P hidden fasten 36 0 34 0 291 472 281 472 281 417 291 417;
#P hidden connect 34 0 36 0;
#P hidden fasten 37 0 35 0 291 534 281 534 281 479 291 479;
#P hidden connect 35 0 37 0;
#P hidden connect 38 0 54 0;
#P hidden connect 50 0 52 0;
#P hidden connect 65 0 70 0;
#P hidden connect 70 0 44 0;
#P hidden connect 44 0 60 0;
#P hidden connect 60 0 66 0;
#P hidden connect 66 0 68 0;
#P hidden connect 68 0 64 0;
#P hidden connect 70 1 42 0;
#P hidden connect 42 0 61 0;
#P hidden connect 61 0 63 0;
#P hidden connect 63 0 69 0;
#P hidden connect 69 0 67 0;
#P hidden fasten 18 1 14 0 815 118 723 118 723 58 732 58;
#P hidden connect 14 0 18 0;
#P connect 21 0 17 0;
#P hidden connect 45 0 12 0;
#P hidden fasten 19 0 12 0 732 300 723 300 723 252 732 252;
#P hidden connect 12 0 19 0;
#P hidden fasten 20 0 11 0 732 384 724 384 724 338 732 338;
#P hidden connect 11 0 20 0;
#P pop;
