max v2;#N vpatcher 182 44 1044 679;#P origin 0 10;#P window setfont "Sans Serif" 9.;#P window linecount 9;#P comment 171 415 345 196617 jmod.chromakey% measures the chromatic distance of all of the left input's cells(pixels) with a reference color. the total distance is calculated by summing the absolute value of each color channel's distance from the reference color's corresponding color channel. if the distance is less than or equal to the tolerated distance(tol) \, the right input cell is multiplied by maxkey. if the distance is greater than tol \, but less than tol + fade \, some value between minkey and maxkey is applied. any values of greater distance \, and the right input cell is multiplied by minkey. the left input is always multiplied by the additive inverse of the left input's multiplicand.;#P window linecount 2;#P comment 171 375 344 196617 Possible to chose the color with the R G and B values or by a click in the left screen (which will make the image appear) or using the color swatch;#P comment 171 527 345 196617 jmod.chromakey% works with all data types \, any number of planes \, but the planecount of all inputs and outputs must be equal.;#P window linecount 3;#P comment 170 554 344 196617 for char data \, the floating point input 0-1 is scaled to the range 0 to 255 \, for long data \, the floating point input is converted to int(truncated) for color \, tol \, and fade. long mode 0 output is in the range 0-255.;#P toggle 16 412 15 0;#P window linecount 1;#P hidden newex 54 412 83 196617 s jmod.op%.cmd;#P message 14 431 73 196617 /alpha \$1;#P flonum 15 374 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 54 373 83 196617 s jmod.op%.cmd;#P message 14 392 73 196617 /maxkey \$1;#P flonum 15 337 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 54 336 83 196617 s jmod.op%.cmd;#P message 14 355 73 196617 /minkey \$1;#P flonum 15 299 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 54 298 83 196617 s jmod.op%.cmd;#P message 14 317 73 196617 /fade \$1;#P flonum 16 264 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P hidden newex 61 262 83 196617 s jmod.op%.cmd;#P message 15 282 73 196617 /tolerance \$1;#P bpatcher 570 82 255 60 0 0 jmod.input%.mxt 0 /input%2;#P objectname /input%2;#P bpatcher 308 82 255 60 0 0 jmod.input%.mxt 0 /input%1;#P objectname /input%1;#P newex 311 147 83 196617 r jmod.op%.cmd;#P hidden newex 17 229 83 196617 s jmod.op%.cmd;#P bpatcher 13 75 231 146 0 0 jmod.video_params.mxt 0;#P comment 23 46 260 196617 Choke chromakey 2 sources;#B frgb 255 255 255;#P hidden newex 376 296 65 196617 loadmess set;#P message 311 318 231 196617 /minkey 1.;#P newex 311 296 61 196617 prepend set;#P user jit.pwindow 517 349 322 242 0 1 0 0 1 0;#P bpatcher 311 170 255 120 0 0 jmod.chromakey%.mxt 0 /chromakey%;#P objectname /chromakey%;#P window setfont "Sans Serif" 18.;#P comment 23 17 260 196626 jmod.chromakey%;#B frgb 255 255 255;#P user panel 17 5 366 63;#X brgb 67 65 107;#X frgb 128 11 10;#X border 0;#X rounded 0;#X shadow 0;#X done;#P connect 18 0 16 0;#P connect 21 0 19 0;#P connect 24 0 22 0;#P connect 27 0 25 0;#P connect 15 0 13 0;#P hidden connect 8 0 9 0;#P hidden connect 16 0 17 0;#P hidden connect 19 0 20 0;#P hidden connect 22 0 23 0;#P hidden connect 25 0 26 0;#P hidden connect 13 0 14 0;#P connect 10 0 2 0;#P connect 2 0 4 0;#P connect 4 0 5 0;#P hidden fasten 6 0 5 0 381 315 316 315;#P fasten 11 1 2 1 558 149 438 149;#P fasten 2 1 3 0 561 338 523 338;#P fasten 12 1 2 2 820 156 560 156;#P pop;