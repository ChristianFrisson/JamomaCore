max v2;#N vpatcher 35 56 847 614;#P window setfont "Sans Serif" 9.;#P hidden newex 482 53 48 196617 loadbang;#N vpatcher 816 235 1180 595;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P newex 39 83 77 196617 loadmess scalarmode 1;#P window linecount 0;#P newex 169 233 50 196617 minimum;#P newex 169 209 55 196617 pak 16 16;#P newex 130 257 49 196617 zl slice 16;#P newex 169 186 100 196617 route active voices;#P window linecount 1;#P newex 169 165 82 196617 r jsui_multigain;#P newex 130 311 82 196617 s jsui_multigain;#P newex 226 113 27 196617 * 3;#P newex 130 135 106 196617 vexpr $i1 + $i2;#N counter 2 0 10;#X flags 0 0;#P newobj 226 81 77 196617 counter 2 0 10;#P newex 130 281 75 196617 prepend levels;#P window linecount 4;#P message 130 76 72 196617 20 40 70 40 10 20 30 40 50 10 20 30 40 50 60 70;#P window linecount 1;#P newex 130 50 58 196617 metro 100;#P inlet 130 30 15 0;#P connect 0 0 1 0;#P connect 1 0 2 0;#P fasten 13 0 5 0 44 132 135 132;#P connect 2 0 5 0;#P connect 5 0 10 0;#P connect 10 0 3 0;#P connect 3 0 7 0;#P connect 8 0 9 0;#P connect 9 0 11 0;#P connect 11 0 12 0;#P connect 12 0 10 1;#P connect 9 1 11 1;#P fasten 1 0 4 0 135 72 231 72;#P connect 4 0 6 0;#P connect 6 0 5 1;#P pop;#P newobj 482 92 94 196617 p levels_simulator;#P comment 37 519 365 196617 - bang: Poll current gains;#P comment 37 501 365 196617 - set (list): Set gains \, but do not trigger output.;#P comment 37 489 365 196617 - gain (list): List of gains. Interpreted as MIDI or dB depending on the mode.;#P comment 37 477 319 196617 - level (list): List of volume levels to be displayed as mm [0 \, 100];#P window setfont "Sans Serif" 12.;#P comment 18 453 213 196620 Gain and level;#P window setfont "Sans Serif" 9.;#P comment 37 400 133 196617 - group (defaults to 0);#P comment 37 388 133 196617 - mode (defaults to MIDI);#P comment 37 376 133 196617 - active (defaults to 16);#P comment 137 302 308 196617 Anti-aliasing;#P comment 137 250 308 196617 Gains can be adjusted on a MIDI range [0 \, 157] or dB [-24 \, +24];#P comment 137 217 291 196617 Level display can be toggled on/off;#P comment 137 166 291 196617 Voices can be grouped visually to simplify orientation;#P comment 137 136 291 196617 Number of voices that are currently active;#P user umenu 29 248 105 196647 1 64 264 1;#X add MIDI [0\, 157];#X add db [-24\, +24];#P message 28 182 50 196617 group \$1;#P user umenu 28 164 100 196647 1 64 180 1;#X add none (default);#X add ambisonic;#X add in pairs;#X add in threes;#X add in fours;#X add in fives;#P newex 482 134 82 196617 r jsui_multigain;#P hidden newex 199 352 82 196617 s jsui_multigain;#P comment 14 43 259 196617 Adjust and monitor gains for multpiple audio channels.;#B frgb 255 255 255;#P window setfont "Sans Serif" 18.;#P comment 13 15 226 196626 jcom.jsui_multigain.js;#B frgb 255 255 255;#P user panel 5 5 273 63;#X brgb 67 65 107;#X frgb 128 11 10;#X border 0;#X rounded 0;#X shadow 0;#X done;#P toggle 482 73 15 0;#P window setfont "Sans Serif" 9.;#P message 29 266 48 196617 mode \$1;#P number 28 134 35 9 0 16 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 67 134 53 196617 active \$1;#P newex 482 267 76 196617 print multigain;#P button 566 134 15 0;#P toggle 28 214 15 0;#P message 45 214 65 196617 metering \$1;#P toggle 30 300 15 0;#P message 49 300 44 196617 fsaa \$1;#P number 28 116 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;#P message 67 116 54 196617 voices \$1;#P user jsui 482 167 236 93 1 0 0 jcom.jsui_multigain.js 16 16;#P window setfont "Sans Serif" 12.;#P comment 18 90 213 196620 Voices and display settings:;#P window setfont "Sans Serif" 9.;#P comment 137 118 291 196617 The number of voices that jsui is set up to display;#P window setfont "Sans Serif" 12.;#P comment 18 341 100 196620 Arguments:;#P window setfont "Sans Serif" 9.;#P comment 37 364 133 196617 - voices (defaults to 16);#P newex 683 399 90 196617 loadmess gain 0 0;#P message 580 335 77 196617 open \, 1 \, loop 1;#N sfplay~  2 120960 0 ;#P newobj 580 357 53 196617 sfplay~ 2;#P message 533 433 29 196617 stop;#P message 464 433 67 196617 startwindow;#P newex 580 469 31 196617 dac~;#P user jsui 622 428 42 85 1 0 0 jcom.jsui_multigain.js 2 2;#N vpatcher 43 74 480 417;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 253 257 75 196617 prepend levels;#P outlet 253 287 15 0;#P outlet 110 287 15 0;#P outlet 45 287 15 0;#P inlet 180 41 15 0;#P user gain~ 110 103 13 19 158 0 1.071519 7.94321 10.;#P user gain~ 45 103 13 19 158 0 1.071519 7.94321 10.;#P newex 180 61 64 196617 unpack 0. 0.;#P inlet 110 41 15 0;#P inlet 45 41 15 0;#P window linecount 1;#P newex 318 74 54 196617 dspstate~;#P newex 318 99 63 196617 qmetro 100;#P newex 253 214 67 196617 pack f f;#P newex 253 190 54 196617 peakamp~;#P newex 318 190 54 196617 peakamp~;#N vpatcher 43 74 524 334;#P outlet 49 227 15 0;#P inlet 49 80 15 0;#P window setfont "Sans Serif" 9.;#P newex 49 175 316 196617 vexpr (exp(($f1) * 0.0344014267) * 103.8194883) - 3.819488;#P newex 49 155 99 196617 vexpr min(0.\\\,$f1);#P newex 49 135 113 196617 vexpr max(-96.\\\,$f1);#P newex 49 115 125 196617 vexpr 20. * (log10($f1));#P comment 32 52 391 196617 A similar function for mapping amplitude to displayed levels as used by jcom.meter~;#P connect 5 0 1 0;#P connect 1 0 2 0;#P connect 2 0 3 0;#P connect 3 0 4 0;#P connect 4 0 6 0;#P pop;#P newobj 253 236 58 196617 p amp2mm;#P connect 6 0 9 0;#P fasten 8 0 9 0 185 90 50 90;#P connect 9 0 12 0;#P connect 7 0 10 0;#P fasten 8 1 10 0 239 94 115 94;#P connect 10 0 13 0;#P connect 11 0 8 0;#P connect 4 0 2 0;#P fasten 9 0 2 0 50 167 258 167;#P connect 2 0 3 0;#P connect 3 0 0 0;#P connect 0 0 15 0;#P connect 15 0 14 0;#P connect 1 0 3 1;#P connect 5 0 4 0;#P connect 4 0 1 0;#P fasten 10 0 1 0 115 161 323 161;#P pop;#P newobj 580 402 52 196617 p levels;#P user panel 451 323 334 207;#X brgb 223 223 223;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P user panel 451 56 334 254;#X brgb 223 223 223;#X frgb 0 0 0;#X border 0;#X rounded 0;#X shadow 0;#X done;#P connect 32 0 33 0;#P connect 34 0 25 0;#P hidden connect 20 0 19 0;#P hidden connect 18 0 17 0;#P hidden connect 16 0 15 0;#P hidden connect 24 0 23 0;#P hidden connect 17 0 30 0;#P hidden connect 25 0 30 0;#P hidden connect 19 0 30 0;#P hidden connect 33 0 30 0;#P hidden connect 15 0 30 0;#P hidden connect 23 0 30 0;#P hidden connect 49 0 26 0;#P connect 26 0 48 0;#P connect 31 0 14 0;#P fasten 21 0 14 0 571 158 487 158;#P connect 14 0 22 0;#P connect 8 0 7 0;#P connect 7 0 2 0;#P connect 2 0 4 0;#P fasten 6 0 4 0 538 458 585 458;#P fasten 5 0 4 0 469 458 585 458;#P connect 7 1 2 1;#P connect 2 1 4 1;#P fasten 3 0 2 2 627 519 671 519 671 395 627 395;#P connect 2 2 3 0;#P fasten 9 0 3 0 688 424 627 424;#P pop;