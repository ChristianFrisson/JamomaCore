max v2;#N vpatcher 23 44 385 430;#P origin 110 28;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 22 247 32 196617 print;#N comlet control messages;#P inlet 22 30 15 0;#N comlet sensor 8 on/off;#P inlet 215 30 15 0;#N comlet sensor 7 on/off;#P inlet 195 30 15 0;#N comlet sensor 6 on/off;#P inlet 175 30 15 0;#N comlet sensor 5 on/off;#P inlet 155 30 15 0;#N comlet sensor 4 on/off;#P inlet 135 30 15 0;#N comlet sensor 3 on/off;#P inlet 115 30 15 0;#N comlet sensor 2 on/off;#P inlet 95 30 15 0;#N comlet sensor 1 on/off;#P inlet 75 30 15 0;#N comlet sensor input 8;#P outlet 173 312 15 0;#N comlet sensor input 7;#P outlet 159 312 15 0;#N comlet sensor input 6;#P outlet 145 312 15 0;#N comlet sensor input 5;#P outlet 131 312 15 0;#N comlet sensor input 4;#P outlet 117 312 15 0;#N comlet sensor input 3;#P outlet 103 312 15 0;#N comlet sensor input 2;#P outlet 89 312 15 0;#N comlet sensor input 1;#P outlet 75 312 15 0;#N vpatcher 43 44 870 613;#P origin -30 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P message 131 463 14 196617 1;#P newex 104 412 20 196617 t b;#P newex 131 441 55 196617 delay 300;#P message 104 463 14 196617 0;#P message 104 463 14 196617 0;#N comlet serial output enable;#P outlet 104 502 15 0;#P newex 432 119 73 196617 route interval;#P newex 437 278 36 196617 buddy;#P newex 437 308 48 196617 pack 0 0;#P message 437 331 142 196617 240 \, 125 \, 0 \, 3 \, \$1 \, \$2 \, 247;#P newex 440 214 38 196617 * 128;#P newex 432 244 27 196617 - 1;#P newex 432 141 68 196617 clip 1 16383;#P newex 476 182 37 196617 / 128;#P newex 246 119 102 196617 jcom.pass port print;#P newex 37 139 30 196617 t b b;#P newex 37 119 50 196617 sel reset;#P message 56 185 127 196617 240 \, 125 \, 0 \, 90 \, 0 \, 247;#P message 37 164 116 196617 240 \, 125 \, 0 \, 34 \, 247;#N comlet all control messages \, except sensor on/off;#P inlet 26 37 15 0;#N comlet messages to serial object;#P outlet 315 502 15 0;#P inlet 637 37 15 0;#P newex 665 249 33 196617 pipe 5;#P newex 637 146 38 196617 swap;#P toggle 637 169 15 0;#P newex 637 118 38 196617 unpack;#P message 665 271 127 196617 240 \, 125 \, 0 \, 1 \, \$1 \, 247;#P newex 665 227 27 196617 |;#P newex 637 190 29 196617 << 6;#P window linecount 2;#P comment 687 294 100 196617 sensor input on/off messages;#P window linecount 4;#P comment 68 206 107 196617 upon getting a 'reset' message \, resets the wi-microdig and puts it in hostmode;#P window setfont "Sans Serif" 10.;#P window linecount 3;#P comment 52 37 207 196618 Formats messages for wi-microdig \, only allows certain types of messages to be sent to the serial object;#P window setfont "Sans Serif" 9.;#P comment 503 137 100 196617 ensures the range is between 1 and 16383;#P window linecount 4;#P comment 156 464 100 196617 temporarily blocks transmitted messages from serial object;#P fasten 14 0 17 0 31 85 42 85;#P connect 17 0 18 0;#P connect 18 0 15 0;#P connect 18 1 16 0;#P fasten 14 0 32 0 31 371 109 371;#P fasten 24 0 32 0 442 393 109 393;#P fasten 7 0 32 0 670 393 109 393;#P connect 32 0 29 0;#P connect 33 0 28 0;#P connect 29 0 28 0;#P fasten 32 0 31 0 109 435 136 435;#P connect 31 0 33 0;#P fasten 14 0 19 0 31 84 251 84;#P fasten 19 0 13 0 251 319 320 319;#P fasten 19 1 13 0 297 319 320 319;#P fasten 16 0 13 0 61 346 320 346;#P fasten 15 0 13 0 42 355 320 355;#P fasten 7 0 13 0 670 430 320 430;#P fasten 24 0 13 0 442 414 320 414;#P fasten 14 0 27 0 31 84 437 84;#P connect 27 0 21 0;#P connect 21 0 22 0;#P fasten 20 0 26 0 481 271 442 271;#P connect 26 0 25 0;#P connect 25 0 24 0;#P connect 20 0 23 0;#P fasten 23 0 22 1 445 237 454 237;#P connect 22 0 26 1;#P connect 26 1 25 1;#P fasten 21 0 20 0 437 178 481 178;#P fasten 12 0 8 0 642 62;#P connect 8 0 10 0;#P connect 10 0 9 0;#P connect 9 0 5 0;#P connect 8 1 10 1;#P connect 5 0 6 0;#P connect 6 0 11 0;#P connect 11 0 7 0;#P fasten 10 1 6 1 670 184 687 184;#P pop;#P newobj 88 171 107 196617 p message_formatter;#N vpatcher 389 63 689 445;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P comment 152 188 100 196617 max 13 bytes from wi-micro in low-res mode;#P window linecount 1;#P message 61 53 14 196617 0;#N comlet serial output enable;#P inlet 20 25 15 0;#P newex 61 218 29 196617 gate;#N comlet messages from serial notifier;#P inlet 250 25 15 0;#N comlet serial output 8;#P outlet 204 319 15 0;#N comlet serial output 7;#P outlet 185 319 15 0;#N comlet serial output 6;#P outlet 166 319 15 0;#N comlet serial output 5;#P outlet 146 319 15 0;#N comlet serial output 4;#P outlet 127 319 15 0;#N comlet serial output 3;#P outlet 107 319 15 0;#N comlet serial output 2;#P outlet 86 319 15 0;#N comlet serial output 1;#P outlet 65 319 15 0;#P message 80 53 14 196617 1;#P newex 80 25 45 196617 loadbang;#P message 136 81 41 196617 dtr 1;#P newex 61 240 170 196617 unpack 0 0 0 0 0 0 0 0 0 0 0 0 0;#P newex 80 183 61 196617 zl group 13;#P newex 92 154 44 196617 sel 240;#P newex 80 80 54 196617 metro 1;#P newex 80 122 109 196617 serial f 115200 8 1 0;#B color 5;#P window linecount 3;#P comment 160 148 100 196617 starts cycle when it sees a sysex begin message;#P fasten 7 0 20 0 85 46 66 46;#P fasten 20 0 18 0 66 210 66 210;#P fasten 19 0 18 0 25 210 66 210;#P connect 18 0 5 0;#P connect 5 4 9 0;#P connect 7 0 8 0;#P connect 8 0 2 0;#P fasten 17 0 1 0 255 114 85 114;#P fasten 6 0 1 0 141 109 85 109;#P fasten 2 0 1 0 85 106 85 106;#P connect 1 0 4 0;#P connect 3 0 4 0;#P connect 4 0 18 1;#P connect 5 5 10 0;#P connect 1 0 3 0;#P connect 5 6 11 0;#P connect 5 7 12 0;#P connect 7 0 6 0;#P connect 5 8 13 0;#P connect 5 9 14 0;#P connect 5 10 15 0;#P connect 5 11 16 0;#P pop;#P newobj 88 194 107 196617 p serial_parser;#N vpatcher 482 44 912 601;#P origin 0 22;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 276 432 93 196617 formats each sensor input into a connection message for router object;#P window linecount 1;#P newex 166 61 45 196617 loadbang;#P outlet 233 500 15 0;#P message 268 178 28 196617 clear;#P newex 217 398 27 196617 - 1;#P newex 200 363 27 196617 t b i;#P newex 173 431 52 196617 pack 0 0 1;#N counter;#X flags 0 0;#P newobj 138 398 66 196617 counter;#P newex 200 340 33 196617 pipe 1;#P message 166 254 14 196617 0;#P newex 166 104 20 196617 t b;#N counter;#X flags 0 0;#P newobj 73 324 66 196617 counter;#P newex 73 287 58 196617 zl slice 1;#P newex 32 237 45 196617 zl rev;#P newex 32 261 51 196617 route 0;#P newex 32 206 68 196617 listfunnel 1;#N comlet list of turned on sensors from listmaker;#P inlet 32 66 15 0;#P window linecount 0;#P comment 279 251 100 196617 turns the list from listmaker into a sequence of turned-on sensor inputs;#P comment 28 27 323 196617 creates router connection messages based on the list of turned on sensors;#P fasten 2 0 3 0 37 145 37 145;#P connect 3 0 5 0;#P connect 5 0 4 0;#P connect 4 1 6 0;#P connect 6 0 7 0;#P fasten 9 0 7 3 171 316 120 316;#P fasten 13 0 11 0 205 393 143 393;#P connect 17 0 8 0;#P fasten 2 0 8 0 37 89 171 89;#P connect 8 0 9 0;#P fasten 9 0 11 2 171 334 171 334;#P fasten 11 0 12 0 143 422 178 422;#P connect 7 0 11 4;#P fasten 14 0 12 1 222 421 199 421;#P connect 6 0 10 0;#P connect 10 0 13 0;#P connect 13 1 14 0;#P fasten 12 0 16 0 178 470 238 470;#P fasten 15 0 16 0 273 424 238 424;#P connect 17 0 15 0;#P connect 8 0 15 0;#P pop;#P newobj 75 132 98 196617 p router_controller;#N vpatcher 81 49 1117 539;#P inlet 155 60 15 0;#P inlet 136 60 15 0;#P inlet 118 60 15 0;#P inlet 99 60 15 0;#P inlet 81 60 15 0;#P inlet 62 60 15 0;#P inlet 44 60 15 0;#P inlet 25 60 15 0;#P toggle 367 181 15 0;#P toggle 315 181 15 0;#P toggle 263 181 15 0;#P toggle 211 181 15 0;#P toggle 171 181 15 0;#P toggle 129 181 15 0;#P toggle 77 181 15 0;#P toggle 25 181 15 0;#N comlet sensor on/off messages for serial object;#P outlet 438 437 15 0;#N comlet messages for routercontrol;#P outlet 25 437 14 0;#P window setfont "Sans Serif" 9.;#P message 389 288 14 196617 0;#P message 367 288 13 196617 8;#P window linecount 1;#P newex 367 260 32 196617 sel 1;#P window linecount 0;#P message 337 288 14 196617 0;#P message 315 288 14 196617 7;#P window linecount 1;#P newex 315 260 32 196617 sel 1;#P window linecount 0;#P message 285 288 14 196617 0;#P message 263 288 14 196617 6;#P window linecount 1;#P newex 263 260 32 196617 sel 1;#P window linecount 0;#P message 233 288 14 196617 0;#P message 211 288 14 196617 5;#P window linecount 1;#P newex 211 260 32 196617 sel 1;#P window linecount 0;#P message 193 288 14 196617 0;#P message 171 288 14 196617 4;#P window linecount 1;#P newex 171 260 32 196617 sel 1;#P window linecount 0;#P message 151 288 14 196617 0;#P message 129 288 14 196617 3;#P window linecount 1;#P newex 129 260 32 196617 sel 1;#P window linecount 0;#P message 99 288 14 196617 0;#P message 77 288 14 196617 2;#P window linecount 1;#P newex 77 260 32 196617 sel 1;#P window linecount 0;#P message 47 288 14 196617 0;#P message 25 288 14 196617 1;#P window linecount 1;#P newex 25 260 32 196617 sel 1;#P newex 25 397 374 196617 pak 0 0 0 0 0 0 0 0;#P comment 40 437 366 196617 outputs a list with the sensor number if that sensor is turned on \, 0 otherwise;#P window linecount 0;#P comment 402 176 257 196617 note: these toggle boxes are just intended to ensure only 1s and 0s pass through \, not to be used as controls;#P comment 22 40 205 196617 takes a 1 or 0 for each sensor input;#P window linecount 1;#P newex 799 260 39 196617 pak 7 0;#P newex 747 260 39 196617 pak 6 0;#P newex 697 260 39 196617 pak 5 0;#P newex 645 260 39 196617 pak 4 0;#P newex 593 260 39 196617 pak 3 0;#P newex 541 260 39 196617 pak 2 0;#P newex 490 260 39 196617 pak 1 0;#P window linecount 0;#P newex 438 260 39 196617 pak 0 0;#P comment 856 240 100 196617 sends an on or off message to the serial object messenger;#P fasten 47 0 39 0 30 118 30 118;#P fasten 39 0 13 0 30 226 30 226;#P connect 13 0 14 0;#P connect 15 0 12 0;#P connect 14 0 12 0;#P connect 12 0 37 0;#P connect 13 1 15 0;#P connect 48 0 40 0;#P fasten 40 0 16 0 82 227 82 227;#P connect 16 0 17 0;#P connect 18 0 12 1;#P connect 17 0 12 1;#P connect 16 1 18 0;#P connect 49 0 41 0;#P fasten 41 0 19 0 134 227 134 227;#P connect 19 0 20 0;#P connect 21 0 12 2;#P connect 20 0 12 2;#P connect 19 1 21 0;#P connect 50 0 42 0;#P fasten 42 0 22 0 176 226 176 226;#P connect 22 0 23 0;#P connect 24 0 12 3;#P connect 23 0 12 3;#P connect 22 1 24 0;#P connect 51 0 43 0;#P fasten 43 0 25 0 216 226 216 226;#P connect 25 0 26 0;#P connect 25 1 27 0;#P connect 27 0 12 4;#P connect 26 0 12 4;#P connect 52 0 44 0;#P fasten 44 0 28 0 268 226 268 226;#P connect 28 0 29 0;#P connect 28 1 30 0;#P connect 30 0 12 5;#P connect 29 0 12 5;#P connect 53 0 45 0;#P fasten 45 0 31 0 320 226 320 226;#P connect 31 0 32 0;#P connect 31 1 33 0;#P connect 33 0 12 6;#P connect 32 0 12 6;#P connect 54 0 46 0;#P fasten 46 0 34 0 372 226 372 226;#P connect 34 0 35 0;#P connect 34 1 36 0;#P connect 36 0 12 7;#P connect 35 0 12 7;#P fasten 8 0 38 0 804 357 443 357;#P fasten 7 0 38 0 752 357 443 357;#P fasten 6 0 38 0 702 357 443 357;#P fasten 5 0 38 0 650 357 443 357;#P fasten 4 0 38 0 598 357 443 357;#P fasten 3 0 38 0 546 357 443 357;#P fasten 2 0 38 0 495 357 443 357;#P connect 1 0 38 0;#P connect 39 0 1 1;#P connect 40 0 2 1;#P connect 41 0 3 1;#P connect 42 0 4 1;#P connect 43 0 5 1;#P connect 44 0 6 1;#P connect 45 0 7 1;#P connect 46 0 8 1;#P pop;#P newobj 75 86 156 196617 p listmaker;#P newex 75 248 120 196617 router 8 8;#P connect 2 0 22 0;#P connect 13 0 1 0;#P connect 1 0 2 0;#P connect 2 0 0 0;#P connect 0 0 5 0;#P fasten 2 0 4 0 80 161 93 161;#P connect 21 0 4 0;#P connect 4 0 3 0;#P connect 3 0 0 1;#P connect 0 1 6 0;#P connect 14 0 1 1;#P connect 3 1 0 2;#P connect 0 2 7 0;#P connect 3 2 0 3;#P connect 15 0 1 2;#P connect 0 3 8 0;#P connect 3 3 0 4;#P connect 0 4 9 0;#P connect 16 0 1 3;#P connect 3 4 0 5;#P connect 0 5 10 0;#P connect 3 5 0 6;#P connect 17 0 1 4;#P connect 0 6 11 0;#P connect 3 6 0 7;#P connect 0 7 12 0;#P connect 18 0 1 5;#P connect 3 7 0 8;#P fasten 1 1 4 1 226 137 190 137;#P connect 4 1 3 1;#P connect 19 0 1 6;#P connect 20 0 1 7;#P pop;