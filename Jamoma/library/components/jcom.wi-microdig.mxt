max v2;#N vpatcher 53 150 415 536;#P origin 110 28;#N comlet create port menu;#P outlet 239 320 15 0;#N comlet control messages;#P inlet 30 56 15 0;#N comlet sensor 8 on/off;#P inlet 222 56 15 0;#N comlet sensor 7 on/off;#P inlet 202 56 15 0;#N comlet sensor 6 on/off;#P inlet 182 56 15 0;#N comlet sensor 5 on/off;#P inlet 162 56 15 0;#N comlet sensor 4 on/off;#P inlet 142 56 15 0;#N comlet sensor 3 on/off;#P inlet 122 56 15 0;#N comlet sensor 2 on/off;#P inlet 102 56 15 0;#N comlet sensor 1 on/off;#P inlet 82 56 15 0;#N comlet sensor input 8;#P outlet 180 320 15 0;#N comlet sensor input 7;#P outlet 166 320 15 0;#N comlet sensor input 6;#P outlet 152 320 15 0;#N comlet sensor input 5;#P outlet 138 320 15 0;#N comlet sensor input 4;#P outlet 124 320 15 0;#N comlet sensor input 3;#P outlet 110 320 15 0;#N comlet sensor input 2;#P outlet 96 320 15 0;#N comlet sensor input 1;#P outlet 82 320 15 0;#P window setfont "Sans Serif" 9.;#N vpatcher 198 233 1156 862;#P origin -30 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#N vpatcher 317 239 561 584;#P inlet 54 41 15 0;#P outlet 54 266 15 0;#P window setfont "Sans Serif" 9.;#P message 171 145 14 196617 j;#P message 158 145 14 196617 i;#P message 145 145 14 196617 h;#P message 132 145 14 196617 g;#P message 119 145 14 196617 f;#P message 106 145 14 196617 e;#P message 93 145 14 196617 d;#P message 80 145 14 196617 c;#P message 67 145 14 196617 b;#P message 54 145 14 196617 a;#P newex 54 99 144 196617 select 0 1 2 3 4 5 6 7 8 9;#P newex 54 228 67 196617 prepend port;#P connect 13 0 1 0;#P connect 1 0 2 0;#P connect 11 0 0 0;#P connect 10 0 0 0;#P connect 9 0 0 0;#P connect 8 0 0 0;#P connect 7 0 0 0;#P connect 6 0 0 0;#P connect 5 0 0 0;#P connect 4 0 0 0;#P connect 3 0 0 0;#P connect 2 0 0 0;#P connect 0 0 12 0;#P connect 1 1 3 0;#P connect 1 2 4 0;#P connect 1 3 5 0;#P connect 1 4 6 0;#P connect 1 5 7 0;#P connect 1 6 8 0;#P connect 1 7 9 0;#P connect 1 8 10 0;#P connect 1 9 11 0;#P pop;#P newobj 359 221 63 196617 p changeport;#P message 176 537 14 196617 1;#P newex 148 487 20 196617 t b;#P newex 175 516 55 196617 delay 300;#P message 148 538 14 196617 0;#P message 148 538 14 196617 0;#N comlet serial output enable;#P outlet 152 573 15 0;#P newex 476 191 73 196617 route interval;#P newex 481 353 36 196617 buddy;#P newex 479 374 48 196617 pack 0 0;#P message 479 397 142 196617 240 \, 125 \, 0 \, 3 \, \$1 \, \$2 \, 247;#P newex 520 283 38 196617 * 128;#P newex 476 305 27 196617 - 1;#P number 476 216 55 9 1 16383 3 3 0 0 0 221 221 221 222 222 222 0 0 0;#P newex 520 263 37 196617 / 128;#P message 247 211 40 196617 print;#P newex 359 192 62 196617 route port;#P newex 247 192 68 196617 select print;#P newex 81 214 30 196617 t b b;#P newex 81 194 64 196617 select reset;#P message 100 260 127 196617 240 \, 125 \, 0 \, 90 \, 0 \, 247;#P message 81 239 116 196617 240 \, 125 \, 0 \, 34 \, 247;#N comlet all control messages \, except sensor on/off;#P inlet 70 112 15 0;#N comlet messages to serial object;#P outlet 359 567 15 0;#P inlet 752 111 15 0;#P newex 780 315 33 196617 pipe 5;#P newex 761 221 29 196617 swap;#P toggle 761 244 15 0;#P newex 752 193 38 196617 unpack;#P message 780 337 127 196617 240 \, 125 \, 0 \, 1 \, \$1 \, 247;#P newex 780 288 27 196617 |;#P newex 761 265 29 196617 << 6;#P window linecount 2;#P comment 802 360 100 196617 sensor input on/off messages;#P window linecount 4;#P comment 112 281 107 196617 upon getting a 'reset' message \, resets the wi-microdig and puts it in hostmode;#P window setfont "Sans Serif" 10.;#P window linecount 3;#P comment 67 60 252 196618 Formats messages for wi-microdig \, only allows certain types of messages to be sent to the serial object;#P window setfont "Sans Serif" 9.;#P comment 534 214 100 196617 ensures the range is between 1 and 16383;#P window linecount 4;#P comment 200 539 100 196617 temporarily blocks transmitted messages from serial object;#P fasten 14 0 17 0 75 160 86 160;#P connect 17 0 18 0;#P connect 18 0 15 0;#P connect 18 1 16 0;#P fasten 14 0 34 0 75 397 153 397;#P fasten 7 0 34 0 785 468 153 468;#P fasten 26 0 34 0 484 468 153 468;#P connect 34 0 31 0;#P connect 31 0 30 0;#P connect 35 0 30 0;#P fasten 34 0 33 0 153 510 180 510;#P connect 33 0 35 0;#P fasten 14 0 19 0 75 159 252 159;#P connect 19 0 21 0;#P fasten 14 0 20 0 75 159 364 159;#P connect 20 0 36 0;#P connect 36 0 13 0;#P fasten 26 0 13 0 484 489 364 489;#P fasten 7 0 13 0 785 505 364 505;#P fasten 15 0 13 0 86 410 364 410;#P fasten 16 0 13 0 105 421 364 421;#P fasten 21 0 13 0 252 437 364 437;#P fasten 14 0 29 0 75 159 481 159;#P connect 29 0 23 0;#P connect 23 0 24 0;#P connect 28 0 27 0;#P connect 27 0 26 0;#P fasten 22 0 28 0 525 346 486 346;#P fasten 25 0 24 1 525 302 498 302;#P fasten 24 0 28 1 481 338 512 338;#P connect 28 1 27 1;#P fasten 23 0 22 0 481 253 525 253;#P connect 22 0 25 0;#P fasten 12 0 8 0 757 137;#P connect 8 0 10 0;#P connect 10 0 9 0;#P connect 9 0 5 0;#P connect 8 1 10 1;#P connect 5 0 6 0;#P connect 6 0 11 0;#P connect 11 0 7 0;#P fasten 10 1 6 1 785 259 802 259;#P pop;#P newobj 95 179 107 196617 p message_formatter;#N vpatcher 161 493 737 904;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 434 224 46 196617 t l clear;#N comlet create port menu;#P outlet 434 341 15 0;#P newex 434 279 78 196617 prepend append;#P newex 434 257 25 196617 iter;#P newex 434 191 54 196617 route port;#P toggle 83 85 15 0;#P window linecount 0;#P comment 159 208 100 196617 max 13 bytes from wi-micro in low-res mode;#P window linecount 1;#P message 65 66 14 196617 0;#N comlet serial output enable;#P inlet 25 63 15 0;#P newex 71 238 29 196617 gate;#N comlet messages from serial notifier;#P inlet 251 64 15 0;#N comlet serial output 8;#P outlet 225 339 15 0;#N comlet serial output 7;#P outlet 206 339 15 0;#N comlet serial output 6;#P outlet 187 339 15 0;#N comlet serial output 5;#P outlet 167 339 15 0;#N comlet serial output 4;#P outlet 148 339 15 0;#N comlet serial output 3;#P outlet 128 339 15 0;#N comlet serial output 2;#P outlet 107 339 15 0;#N comlet serial output 1;#P outlet 86 339 15 0;#P message 83 65 14 196617 1;#P newex 83 39 45 196617 loadbang;#P message 139 106 41 196617 dtr 1;#P newex 71 260 170 196617 unpack 0 0 0 0 0 0 0 0 0 0 0 0 0;#P newex 90 203 61 196617 zl group 13;#P newex 102 173 65 196617 select 240;#P newex 83 105 54 196617 metro 1;#P newex 90 142 109 196617 serial f 115200 8 1 0;#B color 5;#P window linecount 3;#P comment 170 174 100 196617 starts cycle when it sees a sysex begin message;#P fasten 7 0 20 0 88 63 70 63;#P fasten 19 0 18 0 30 230 76 230;#P fasten 20 0 18 0 70 230 76 230;#P connect 18 0 5 0;#P connect 7 0 8 0;#P connect 8 0 22 0;#P connect 22 0 2 0;#P connect 5 4 9 0;#P fasten 2 0 1 0 88 126 95 126;#P fasten 6 0 1 0 144 125 95 125;#P fasten 17 0 1 0 256 134 95 134;#P connect 1 0 4 0;#P connect 3 0 4 0;#P connect 4 0 18 1;#P connect 1 0 3 0;#P connect 5 5 10 0;#P connect 5 6 11 0;#P connect 7 0 6 0;#P connect 5 7 12 0;#P connect 5 8 13 0;#P connect 5 9 14 0;#P connect 5 10 15 0;#P connect 5 11 16 0;#P fasten 1 1 23 0 194 169 439 169;#P connect 23 0 27 0;#P connect 27 0 24 0;#P connect 24 0 25 0;#P fasten 27 1 26 0 521 277 521 311;#P connect 25 0 26 0;#P pop;#P newobj 95 202 107 196617 p serial_parser;#N vpatcher 486 81 1075 822;#P origin 0 22;#P window setfont "Sans Serif" 9.;#P window linecount 4;#P comment 235 534 93 196617 formats each sensor input into a connection message for router object;#P window linecount 1;#P newex 188 159 45 196617 loadbang;#P outlet 214 598 15 0;#P message 290 276 28 196617 clear;#P newex 191 495 27 196617 - 1;#P newex 181 461 27 196617 t b i;#P newex 154 525 52 196617 pack 0 0 1;#N counter;#X flags 0 0;#P newobj 119 496 66 196617 counter;#P newex 181 438 33 196617 pipe 1;#P message 188 352 14 196617 0;#P button 188 192 15 0;#N counter;#X flags 0 0;#P newobj 94 409 66 196617 counter;#P newex 92 385 58 196617 zl slice 1;#P newex 63 335 45 196617 zl rev;#P newex 64 359 51 196617 route 0;#P newex 54 304 68 196617 listfunnel 1;#N comlet list of turned on sensors from listmaker;#P inlet 54 164 15 0;#P window linecount 0;#P comment 197 378 100 196617 turns the list from listmaker into a sequence of turned-on sensor inputs;#P comment 50 125 323 196617 creates router connection messages based on the list of turned on sensors;#P fasten 2 0 3 0 59 243 59 243;#P connect 3 0 5 0;#P connect 5 0 4 0;#P connect 4 1 6 0;#P connect 6 0 7 0;#P fasten 13 0 11 0 186 491 124 491;#P fasten 9 0 7 3 193 374 141 374;#P fasten 9 0 11 2 193 432 152 432;#P fasten 11 0 12 0 124 520 159 520;#P fasten 7 0 11 4 99 487 180 487;#P fasten 14 0 12 1 196 519 180 519;#P fasten 6 0 10 0 97 406 186 406;#P connect 10 0 13 0;#P connect 17 0 8 0;#P fasten 2 0 8 0 59 187 193 187;#P fasten 8 0 9 0 193 279 193 279;#P connect 13 1 14 0;#P fasten 15 0 16 0 295 522 219 522;#P fasten 12 0 16 0 159 568 219 568;#P fasten 8 0 15 0 193 241 295 241;#P fasten 17 0 15 0 193 227 295 227;#P pop;#P newobj 82 140 98 196617 p router_controller;#N vpatcher 306 48 985 571;#P inlet 201 40 15 0;#P inlet 182 40 15 0;#P inlet 164 40 15 0;#P inlet 145 40 15 0;#P inlet 127 40 15 0;#P inlet 108 40 15 0;#P inlet 90 40 15 0;#P inlet 71 40 15 0;#P toggle 366 181 15 0;#P toggle 317 181 15 0;#P toggle 268 181 15 0;#P toggle 219 181 15 0;#P toggle 171 181 15 0;#P toggle 124 181 15 0;#P toggle 74 181 15 0;#P toggle 25 181 15 0;#N comlet sensor on/off messages for serial object;#P outlet 444 440 15 0;#P window setfont "Sans Serif" 9.;#N vpatcher 146 50 746 450;#P outlet 70 251 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 431 178 39 196617 pak 7 0;#P newex 379 178 39 196617 pak 6 0;#P newex 329 179 39 196617 pak 5 0;#P newex 277 179 39 196617 pak 4 0;#P newex 225 179 39 196617 pak 3 0;#P newex 173 179 39 196617 pak 2 0;#P newex 122 179 39 196617 pak 1 0;#P window linecount 0;#P newex 70 179 39 196617 pak 0 0;#P inlet 460 118 15 0;#P inlet 408 118 15 0;#P inlet 358 118 15 0;#P inlet 306 118 15 0;#P inlet 254 118 15 0;#P inlet 202 118 15 0;#P inlet 151 118 15 0;#P inlet 99 118 15 0;#P comment 35 58 100 196617 sends an on or off message to the serial object messenger;#P fasten 9 0 17 0 75 224 75 224;#P fasten 10 0 17 0 127 224 75 224;#P fasten 11 0 17 0 178 224 75 224;#P fasten 12 0 17 0 230 224 75 224;#P fasten 13 0 17 0 282 224 75 224;#P fasten 14 0 17 0 334 224 75 224;#P fasten 15 0 17 0 384 224 75 224;#P fasten 16 0 17 0 436 224 75 224;#P fasten 1 0 9 1 104 155 104 155;#P fasten 2 0 10 1 156 155 156 155;#P fasten 3 0 11 1 207 155 207 155;#P fasten 4 0 12 1 259 155 259 155;#P fasten 5 0 13 1 311 155 311 155;#P fasten 6 0 14 1 363 155 363 155;#P fasten 7 0 15 1 413 154 413 154;#P fasten 8 0 16 1 465 154 465 154;#P pop;#P newobj 444 270 153 196617 p serialnotifier;#N comlet messages for routercontrol;#P outlet 59 453 14 0;#P message 397 288 14 196617 0;#P message 366 288 13 196617 8;#P newex 366 260 41 196617 select 1;#P message 348 288 14 196617 0;#P message 317 288 14 196617 7;#P newex 317 260 41 196617 select 1;#P message 299 288 14 196617 0;#P message 268 288 14 196617 6;#P newex 268 260 41 196617 select 1;#P message 250 288 14 196617 0;#P message 219 288 14 196617 5;#P newex 219 260 41 196617 select 1;#P message 202 288 14 196617 0;#P message 171 288 14 196617 4;#P newex 171 260 41 196617 select 1;#P message 155 288 14 196617 0;#P message 124 288 14 196617 3;#P newex 124 260 41 196617 select 1;#P message 105 288 14 196617 0;#P message 74 288 14 196617 2;#P newex 74 260 41 196617 select 1;#P message 56 288 14 196617 0;#P message 26 288 14 196617 1;#P newex 25 260 41 196617 select 1;#P window linecount 1;#P newex 59 397 105 196617 pak 0 0 0 0 0 0 0 0;#P comment 14 481 366 196617 outputs a list with the sensor number if that sensor is turned on \, 0 otherwise;#P window linecount 0;#P comment 386 157 172 196617 note: these toggle boxes are just intended to ensure only 1s and 0s pass through \, not to be used as controls;#P comment 15 22 205 196617 takes a 1 or 0 for each sensor input;#P fasten 39 0 31 0 76 59;#P fasten 31 0 4 0 30 226 30 226;#P connect 4 0 5 0;#P connect 4 1 6 0;#P fasten 5 0 3 0 31 351 64 351;#P fasten 6 0 3 0 61 351 64 351;#P connect 3 0 28 0;#P fasten 8 0 3 1 79 351 77 351;#P fasten 9 0 3 1 110 351 77 351;#P connect 40 0 32 0;#P fasten 32 0 7 0 79 227 79 227;#P connect 7 0 8 0;#P fasten 11 0 3 2 129 351 90 351;#P fasten 12 0 3 2 160 351 90 351;#P fasten 14 0 3 3 176 351 103 351;#P fasten 15 0 3 3 207 351 103 351;#P connect 7 1 9 0;#P fasten 17 0 3 4 224 351 116 351;#P fasten 18 0 3 4 255 351 116 351;#P connect 41 0 33 0;#P fasten 33 0 10 0 129 227 129 227;#P connect 10 0 11 0;#P fasten 20 0 3 5 273 351 129 351;#P fasten 21 0 3 5 304 351 129 351;#P fasten 23 0 3 6 322 351 142 351;#P fasten 24 0 3 6 353 351 142 351;#P fasten 26 0 3 7 371 351 155 351;#P fasten 27 0 3 7 402 351 155 351;#P connect 10 1 12 0;#P connect 42 0 34 0;#P fasten 34 0 13 0 176 226 176 226;#P connect 13 0 14 0;#P connect 13 1 15 0;#P connect 43 0 35 0;#P fasten 35 0 16 0 224 226 224 226;#P connect 16 0 17 0;#P connect 16 1 18 0;#P connect 44 0 36 0;#P fasten 36 0 19 0 273 226 273 226;#P connect 19 0 20 0;#P connect 19 1 21 0;#P connect 45 0 37 0;#P fasten 37 0 22 0 322 226 322 226;#P connect 22 0 23 0;#P connect 22 1 24 0;#P connect 46 0 38 0;#P fasten 38 0 25 0 371 226 371 226;#P connect 25 0 26 0;#P connect 25 1 27 0;#P fasten 31 0 29 0 30 231 449 231;#P connect 29 0 30 0;#P fasten 32 0 29 1 79 231 469 231;#P fasten 33 0 29 2 129 231 489 231;#P fasten 34 0 29 3 176 231 509 231;#P fasten 35 0 29 4 224 231 529 231;#P fasten 36 0 29 5 273 231 549 231;#P fasten 37 0 29 6 322 231 569 231;#P fasten 38 0 29 7 371 231 589 231;#P pop;#P newobj 82 94 156 196617 p listmaker;#P newex 82 256 120 196617 router 8 8;#P connect 13 0 1 0;#P connect 1 0 2 0;#P connect 2 0 0 0;#P connect 0 0 5 0;#P fasten 21 0 4 0 35 169 100 169;#P fasten 2 0 4 0 87 169 100 169;#P connect 4 0 3 0;#P connect 3 0 0 1;#P connect 0 1 6 0;#P connect 14 0 1 1;#P connect 3 1 0 2;#P connect 0 2 7 0;#P connect 3 2 0 3;#P connect 15 0 1 2;#P connect 0 3 8 0;#P connect 3 3 0 4;#P connect 0 4 9 0;#P connect 16 0 1 3;#P connect 3 4 0 5;#P connect 0 5 10 0;#P connect 3 5 0 6;#P connect 17 0 1 4;#P connect 0 6 11 0;#P connect 3 6 0 7;#P connect 0 7 12 0;#P connect 18 0 1 5;#P connect 3 7 0 8;#P fasten 1 1 4 1 233 145 197 145;#P connect 4 1 3 1;#P connect 19 0 1 6;#P connect 20 0 1 7;#P fasten 3 8 22 0 196 227 244 227;#P pop;