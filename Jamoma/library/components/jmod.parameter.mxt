max v2;
#N vpatcher 325 121 1186 777;
#P origin 0 -5;
#P window setfont "Sans Serif" 9.;
#P newex 205 329 72 196617 route int float;
#B color 14;
#P newex 59 538 43 196617 qlim 65;
#P outlet 152 563 15 0;
#P newex 59 513 61 196617 prepend set;
#N vpatcher 296 241 839 552;
#P window setfont Verdana 9.;
#P message 312 177 66 472055817 -2000000.;
#P window setfont "Sans Serif" 9.;
#P comment 29 35 127 196617 Filter duplicates?;
#P inlet 295 67 15 0;
#P newex 312 157 55 196617 r jmod.init;
#P comment 380 159 127 196617 this allows the first zero value to make it through;
#P newex 94 203 211 196617 jmod.change;
#P outlet 59 249 15 0;
#P inlet 94 67 15 0;
#P newex 116 97 20 196617 t b;
#P newex 116 118 123 196617 pv jmod.parameter.dupes;
#P newex 59 170 45 196617 gate 2 1;
#P connect 1 0 0 0;
#P connect 0 0 4 0;
#P connect 5 0 4 0;
#P connect 3 0 0 1;
#P connect 0 1 5 0;
#P connect 3 0 2 0;
#P connect 2 0 1 0;
#P connect 10 0 5 1;
#P connect 8 0 5 1;
#P connect 7 0 10 0;
#P pop;
#P newobj 59 398 131 196617 p dupes_filter;
#P newex 117 366 71 196617 jmod.line.mxt;
#P newex 59 342 68 196617 gate 2;
#P newex 59 316 27 196617 + 1;
#P comment 533 279 175 196617 Register this parameter with the module hub;
#N vpatcher 10 59 610 459;
#P outlet 155 59 15 0;
#P inlet 155 35 15 0;
#P connect 0 0 1 0;
#P pop;
#P newobj 361 110 35 196617 p thru;
#P newex 408 83 55 196617 r jmod.init;
#P newex 361 83 45 196617 loadbang;
#P message 625 136 88 196617 ramp_enable 0 \, type generic \, special n/a \, filter_dupes 0 \, conversion none;
#N vpatcher 24 57 251 306;
#P origin 0 34;
#P inlet 103 40 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 103 106 27 196617 int;
#N vpatcher 10 59 489 323;
#P window setfont "Sans Serif" 9.;
#P newex 13 132 31 196617 sel 1;
#P newex 13 112 27 196617 i;
#P newex 30 93 53 196617 dspstate~;
#P newex 13 170 50 196617 tosymbol;
#P message 13 152 429 196617 sr-ratio: RESTART DSP FOR CHANGE TO TAKE EFFECT;
#P newex 13 190 164 196617 jmod.post.mxt "JMOD Parameter";
#P newex 13 69 31 196617 sel 1;
#P inlet 13 37 15 0;
#P connect 0 0 1 0;
#P connect 1 0 6 0;
#P connect 6 0 7 0;
#P connect 7 0 3 0;
#P connect 3 0 4 0;
#P connect 4 0 2 0;
#P connect 5 0 6 1;
#P pop;
#P newobj 17 206 139 196617 p NOTIFY_TO_RESTART_DSP;
#P newex 34 158 27 196617 i;
#P message 145 84 14 196617 1;
#P message 103 84 14 196617 0;
#P newex 17 185 27 196617 gate;
#P newex 103 62 95 196617 sel n/a RestartDSP;
#P inlet 34 40 15 0;
#P fasten 7 0 2 0 108 143 22 143;
#P connect 2 0 6 0;
#P connect 0 0 5 0;
#P connect 5 0 2 1;
#P fasten 4 0 5 1 150 146 56 146;
#P connect 8 0 1 0;
#P connect 1 0 3 0;
#P connect 3 0 7 0;
#P connect 4 0 7 0;
#P connect 1 1 4 0;
#P pop;
#P newobj 421 536 50 196617 p restart;
#N vpatcher 34 89 302 255;
#P window setfont "Sans Serif" 9.;
#P number 111 76 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P comment 79 25 100 196617 set flag;
#P inlet 80 46 15 0;
#P newex 80 101 123 196617 pv jmod.parameter.dupes;
#P newex 80 76 27 196617 + 1;
#P connect 2 0 0 0;
#P connect 0 0 1 0;
#P connect 0 0 4 0;
#P pop;
#P newobj 511 237 42 196617 p dupes;
#P comment 537 514 175 196617 flag indicating dupes attribute;
#P newex 537 530 123 196617 pv jmod.parameter.dupes;
#N vpatcher 34 89 334 323;
#P button 69 132 15 0;
#P window setfont "Sans Serif" 9.;
#P number 54 199 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P comment 97 43 100 196617 set flag;
#P newex 98 181 118 196617 pv jmod.parameter.type;
#P inlet 98 68 15 0;
#P message 135 141 14 196617 2;
#P message 98 141 14 196617 1;
#P newex 98 114 84 196617 sel generic menu;
#P connect 4 0 6 0;
#P connect 3 0 0 0;
#P connect 0 0 1 0;
#P connect 7 0 4 0;
#P connect 2 0 4 0;
#P connect 1 0 4 0;
#P connect 0 1 2 0;
#P pop;
#P newobj 411 237 35 196617 p type;
#P comment 537 475 175 196617 flag indicating type attribute;
#P newex 537 491 118 196617 pv jmod.parameter.type;
#N vpatcher 227 131 638 573;
#P window setfont "Sans Serif" 9.;
#P comment 44 72 165 196617 + dealing with the type flag;
#P newex 59 164 118 196617 pv jmod.parameter.type;
#B color 14;
#P newex 350 66 20 196617 t b;
#B color 14;
#P newex 81 191 145 196617 pv jmod.parameter.conversion;
#B color 14;
#P newex 59 358 55 196617 switch 2 1;
#N vpatcher 10 59 410 359;
#P window setfont "Sans Serif" 9.;
#P newex 165 128 21 196617 t 0;
#B color 3;
#P newex 86 163 76 196617 pack;
#B color 3;
#P newex 86 99 76 196617 unpack;
#B color 3;
#P newex 86 119 64 196617 expr ($f1 * (10./6.)) + 127;
#B color 3;
#P comment 170 152 80 196617 decibels to midi conversion;
#P outlet 148 236 15 0;
#P inlet 144 36 15 0;
#P connect 0 0 4 0;
#P connect 4 0 3 0;
#P lcolor 4;
#P connect 3 0 5 0;
#P lcolor 4;
#P connect 5 0 1 0;
#P connect 4 1 5 1;
#P lcolor 4;
#P connect 6 0 5 1;
#P lcolor 4;
#P connect 4 1 6 0;
#P lcolor 4;
#P pop;
#P newobj 116 284 65 196617 p db_to_midi;
#P newex 81 264 45 196617 gate 2 1;
#P newex 103 337 98 196617 jmod.menuprep.mxt;
#P outlet 59 391 15 0;
#P inlet 331 36 15 0;
#P comment 44 53 165 196617 convertion of db to midi if required;
#P fasten 8 0 9 0 355 158 64 158;
#P lcolor 15;
#P connect 9 0 6 0;
#P lcolor 15;
#P connect 6 0 2 0;
#P fasten 8 0 7 0 355 186 86 186;
#P lcolor 15;
#P connect 7 0 4 0;
#P lcolor 15;
#P connect 5 0 6 1;
#P connect 4 0 6 1;
#P connect 4 0 3 0;
#P connect 3 0 6 2;
#P fasten 1 0 4 1 336 255 121 255;
#P connect 4 1 5 0;
#P connect 1 0 8 0;
#P lcolor 15;
#P pop;
#P newobj 59 473 131 196617 p conversion_type_handler;
#N vpatcher 312 85 779 394;
#P outlet 139 246 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 182 140 145 196617 pv jmod.parameter.conversion;
#P newex 182 118 20 196617 t b;
#P inlet 139 79 15 0;
#N vpatcher 10 59 410 359;
#P window setfont "Sans Serif" 9.;
#P newex 61 108 27 196617 + 1;
#P newex 61 129 69 196617 gate 2 1;
#P newex 61 87 35 196617 < -76.;
#P inlet 61 36 15 0;
#P outlet 61 198 15 0;
#P newex 120 157 48 196617 t -120.;
#P newex 61 60 145 196617 expr ((127 - $f1) /10.) * -6.;
#B color 3;
#P connect 3 0 0 0;
#P connect 0 0 4 0;
#P connect 4 0 6 0;
#P connect 6 0 5 0;
#P connect 5 0 2 0;
#P connect 1 0 2 0;
#P fasten 0 0 5 1 66 83 125 83;
#P connect 5 1 1 0;
#P pop;
#P newobj 139 197 65 196617 p midi_to_db;
#P newex 104 177 45 196617 gate 2 1;
#P comment 89 40 158 196617 midi_2_db convertion if required;
#P connect 5 0 1 0;
#P connect 3 0 1 1;
#P connect 1 1 2 0;
#P connect 1 0 6 0;
#P connect 2 0 6 0;
#P connect 3 0 4 0;
#P connect 4 0 5 0;
#P pop;
#P newobj 117 120 105 196617 p conversion_handler;
#P newex 537 574 145 196617 pv jmod.parameter.conversion;
#P comment 537 558 175 196617 flag indicating conversion attribute;
#N vpatcher 34 89 399 379;
#P window setfont "Sans Serif" 9.;
#P number 119 154 35 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P newex 89 183 145 196617 pv jmod.parameter.conversion;
#P inlet 89 78 15 0;
#P newex 89 153 27 196617 int;
#P message 125 127 14 196617 2;
#P message 89 127 14 196617 1;
#P newex 89 106 83 196617 sel none db2midi;
#P comment 85 42 100 196617 set flag;
#P connect 5 0 1 0;
#P connect 1 0 2 0;
#P connect 3 0 4 0;
#P connect 2 0 4 0;
#P connect 4 0 6 0;
#P connect 4 0 7 0;
#P connect 1 1 3 0;
#P pop;
#P newobj 561 237 65 196617 p conversion;
#P newex 537 449 112 196617 pv jmod.parameter.set;
#P newex 59 425 121 196617 pattr $2 @autorestore 0;
#X prestore 1 0 0;
#P objectname $2;
#P outlet 59 563 15 0;
#P newex 361 213 260 196617 route ramp_enable type special filter_dupes conversion;
#P newex 361 136 261 196617 patcherargs $0_ mod_name @ramp_enable 0 @type generic @special n/a @filter_dupes 0 @conversion none;
#P newex 537 345 137 196617 send $1_register;
#P message 537 327 132 196617 $2;
#P newex 537 307 140 196617 receive $1_query;
#P newex 152 193 141 196617 route $2;
#P newex 152 170 139 196617 receive $1_instruction;
#P inlet 117 77 15 0;
#P comment 537 433 175 196617 flag indicating if it's a "set" message;
#P connect 8 0 29 0;
#P connect 29 0 30 0;
#P connect 30 0 32 0;
#P fasten 31 0 32 0 122 388 64 388;
#P connect 32 0 10 0;
#P connect 10 0 16 0;
#P connect 16 0 33 0;
#P connect 33 0 35 0;
#P connect 35 0 9 0;
#P connect 1 0 15 0;
#P connect 15 0 30 1;
#P fasten 3 0 30 1 157 220 122 220;
#P connect 30 1 31 0;
#P connect 2 0 3 0;
#P fasten 16 0 34 0 64 501 157 501;
#P connect 36 1 31 1;
#P lcolor 15;
#P connect 36 0 31 1;
#P lcolor 15;
#P connect 36 1 32 1;
#P lcolor 15;
#P connect 36 0 32 1;
#P lcolor 15;
#P fasten 10 0 36 0 64 456 282 456 282 324 210 324;
#P lcolor 15;
#P connect 25 0 27 0;
#P fasten 26 0 27 0 413 105 366 105;
#P connect 27 0 7 0;
#P fasten 24 0 8 0 630 207 366 207;
#P fasten 7 1 8 0 617 205 366 205;
#P connect 8 1 19 0;
#P connect 8 2 23 1;
#P connect 8 3 22 0;
#P connect 4 0 5 0;
#P connect 5 0 6 0;
#P connect 8 4 12 0;
#P fasten 27 0 24 0 366 131 630 131;
#P pop;
