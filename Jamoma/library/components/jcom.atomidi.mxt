max v2;#N vpatcher 20 74 620 474;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P message 38 132 17 196617 0.;#P newex 57 264 62 196617 clip 0. 158.;#P newex 42 104 41 196617 sel 0 1;#P newex 57 132 59 196617 float;#P newex 57 79 27 196617 > 0.;#P message 165 206 31 196617 10.;#P newex 165 223 27 196617 / 6.;#P newex 165 186 48 196617 loadbang;#P comment 191 276 157 196617 obsolete when Unitlib is ready :);#P newex 57 169 34 196617 atodb;#P newex 57 243 117 196617 expr ($f1 * $f2) + 127;#P comment 98 170 100 196617 db to midi;#P inlet 57 37 15 0;#P outlet 57 286 15 0;#P comment 102 33 274 196617 linear amplitude to midi value gain conversion;#P comment 189 249 140 196617 expr ($f1 * (10./6.)) + 127;#P window linecount 3;#P comment 4 308 100 196617 ...so that a linear gain of zero is also a midi value of zero;#P connect 14 0 16 0;#P connect 12 0 14 0;#P connect 4 0 12 0;#P connect 14 1 13 0;#P connect 13 0 7 0;#P connect 7 0 6 0;#P connect 6 0 15 0;#P connect 15 0 3 0;#P fasten 16 0 3 0 43 283 62 283;#P fasten 4 0 13 1 62 72 111 72;#P connect 10 0 6 1;#P connect 9 0 11 0;#P connect 11 0 10 0;#P pop;