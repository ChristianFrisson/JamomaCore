max v2;#N vpatcher 90 90 989 437;#P origin 0 66;#P window setfont "Sans Serif" 9.;#P newex 118 137 32 196617 print;#N comlet Q - third;#P inlet 805 29 15 0;#P objectname in[16];#N comlet P - third;#P inlet 767 29 15 0;#P objectname in[15];#N comlet O - third;#P inlet 729 29 15 0;#P objectname in[14];#N comlet N - third;#P inlet 691 29 15 0;#P objectname in[13];#N comlet M - third;#P inlet 653 29 15 0;#P objectname in[12];#N comlet L - third;#P inlet 615 29 15 0;#P objectname in[11];#N comlet K - third;#P inlet 577 29 15 0;#P objectname in[10];#N comlet V - second;#P inlet 539 29 15 0;#P objectname in[9];#N comlet U - second;#P inlet 501 29 15 0;#P objectname in[8];#N comlet T - second;#P inlet 463 29 15 0;#P objectname in[7];#N comlet S - second;#P inlet 425 29 15 0;#P objectname in[6];#N comlet R - second;#P inlet 387 29 15 0;#P objectname in[5];#N vpatcher 44 74 606 447;#P window setfont "Sans Serif" 9.;#P newex 98 187 152 196617 poly~ jmod.ambi.decode.coeffs2.mxt 16;#P window linecount 2;#P newex 34 114 54 196617 loadmess target 0;#P window linecount 0;#P newex 311 248 63 196617 prepend aed;#P newex 98 134 294 196617 jmod.oscroute /setcoefs /gain/midi /voices /aed;#P inlet 98 114 15 0;#P outlet 98 294 15 0;#P comment 34 28 242 196617 Changing /omni \, /first \, /second or /third will always cause /setcoeffs to update \, so it is sufficient to route that message to the ICST ambiencode~ external.;#P connect 2 0 3 0;#P connect 3 0 6 0;#P connect 5 0 6 0;#P connect 6 0 1 0;#P fasten 4 0 1 0 316 280 103 280;#P connect 3 1 6 1;#P connect 3 2 6 2;#P connect 3 3 4 0;#P pop;#P newobj 118 85 61 196617 p messages;#P objectname messages;#P inlet 26 30 15 0;#N vpatcher 99 101 1066 595;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 166 65 146 196617 jmod.oscroute /voices /order;#P window linecount 2;#P comment 198 172 134 196617 Changes can not take place while audio is running;#P window linecount 0;#P newex 147 254 58 196617 unpack 0 0;#P newex 147 230 175 196617 if $i1 != $i3 || $i2 !=$i4 then $i1 $i2;#P window linecount 1;#P newex 166 90 40 196617 change;#P window linecount 0;#P newex 348 115 27 196617 t b i;#B color 6;#N vpatcher 44 74 644 474;#P window setfont "Sans Serif" 9.;#P newex 80 122 216 196617 sprintf script connect pass[%ld] 0 out[%ld] 0;#P newex 332 103 27 196617 - 1;#P newex 332 126 218 196617 sprintf script connect decode %ld pass[%ld] 0;#P newex 50 63 40 196617 uzi;#P inlet 50 30 15 0;#P outlet 80 163 15 0;#P connect 1 0 2 0;#P connect 2 2 5 0;#P connect 3 0 0 0;#P connect 5 0 0 0;#P fasten 2 2 5 1 85 95 291 95;#P fasten 2 2 4 0 85 92 337 92;#P connect 4 0 3 0;#P fasten 2 2 3 1 85 89 545 89;#P pop;#P newobj 147 350 116 196617 p connect_from_decode;#N vpatcher 44 74 644 474;#P window setfont "Sans Serif" 9.;#P window linecount 0;#N coll ;#T flags 1 0;#T 1 4;#T 2 9;#T 3 16;#P newobj 353 57 53 196617 coll;#P inlet 353 31 15 0;#P window linecount 1;#P newex 50 115 27 196617 i 4;#P message 65 211 171 196617 script connect messages 0 decode 0;#P newex 444 184 27 196617 - 1;#P newex 248 207 206 196617 sprintf script connect in[%ld] 0 decode %ld;#P newex 50 141 40 196617 uzi 4;#P inlet 50 30 15 0;#P outlet 65 270 15 0;#P connect 1 0 6 0;#P connect 6 0 2 0;#P connect 2 1 5 0;#P connect 3 0 0 0;#P connect 5 0 0 0;#P connect 8 0 6 1;#P fasten 2 2 3 0 85 169 253 169;#P connect 7 0 8 0;#P fasten 2 2 4 0 85 165 449 165;#P connect 4 0 3 1;#P pop;#P newobj 271 350 103 196617 p connect_to_decode;#N vpatcher 44 74 644 474;#P inlet 202 30 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 50 100 27 196617 i 1;#P newex 50 60 27 196617 t b i;#P window linecount 1;#P newex 50 139 363 196617 sprintf script new decode newex 252 153 209 196617 ambidecode~ %ld %ld \;;#P inlet 50 30 15 0;#P outlet 50 168 15 0;#P connect 1 0 3 0;#P connect 3 0 4 0;#P connect 4 0 2 0;#P connect 2 0 0 0;#P connect 5 0 4 1;#P connect 3 1 2 1;#P pop;#P newobj 381 350 72 196617 p new_decode;#N vpatcher 44 74 644 474;#P window setfont "Sans Serif" 9.;#P message 50 50 100 196617 script delete decode;#P inlet 50 30 15 0;#P outlet 50 70 15 0;#P connect 1 0 2 0;#P connect 2 0 0 0;#P pop;#P newobj 479 350 81 196617 p delete_decode;#N vpatcher 44 74 644 474;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 50 57 27 196617 t i b;#P window linecount 1;#P newex 80 152 149 196617 sprintf script delete pass[%ld];#P newex 50 125 40 196617 uzi;#P newex 50 90 27 196617 i 16;#P inlet 50 30 15 0;#P outlet 80 174 15 0;#P connect 1 0 5 0;#P connect 5 1 2 0;#P connect 2 0 3 0;#P connect 5 0 2 1;#P connect 3 2 4 0;#P connect 4 0 0 0;#P pop;#P newobj 667 350 71 196617 p delete_pass;#N vpatcher 44 74 630 402;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 50 51 40 196617 uzi;#P window linecount 1;#P newex 366 96 117 196617 expr 252 + ($i1-1)*38;#P newex 80 121 296 196617 sprintf script new pass[%ld] newex %ld 230 36 196617 pass~;#P inlet 50 23 15 0;#P outlet 80 151 15 0;#P connect 1 0 4 0;#P connect 4 2 2 0;#P connect 2 0 0 0;#P connect 4 2 3 0;#P connect 3 0 2 1;#P pop;#P newobj 585 350 62 196617 p new_pass;#P newex 30 41 48 196617 loadbang;#P newex 88 102 31 196617 == 0;#P outlet 147 395 15 0;#P newex 147 316 531 196617 t i b i b i i;#P inlet 166 44 15 0;#P newex 166 166 27 196617 i;#P newex 147 187 29 196617 gate;#P newex 30 102 32 196617 sel 0;#P newex 30 69 54 196617 dspstate~;#P comment 188 44 100 196617 voices;#P comment 371 227 151 196617 Only apply script if either voices and/or order is changed;#P connect 10 0 2 0;#P connect 2 0 3 0;#P fasten 2 0 9 0 35 92 93 92;#P connect 9 0 4 0;#P connect 4 0 19 0;#P connect 19 0 20 0;#P connect 20 0 7 0;#P connect 7 0 16 0;#P fasten 11 0 8 0 590 381 152 381;#P fasten 12 0 8 0 672 381 152 381;#P fasten 13 0 8 0 484 381 152 381;#P fasten 14 0 8 0 386 381 152 381;#P fasten 15 0 8 0 276 381 152 381;#P connect 16 0 8 0;#P connect 6 0 22 0;#P connect 22 0 18 0;#P fasten 3 0 5 0 35 131 171 131;#P fasten 17 0 5 0 353 149 171 149;#P lcolor 7;#P connect 18 0 5 0;#P connect 5 0 4 1;#P fasten 17 1 19 1 370 201 207 201;#P lcolor 7;#P fasten 20 0 19 2 152 281 344 281 344 220 262 220;#P connect 7 1 15 0;#P fasten 20 1 19 3 200 278 341 278 341 223 317 223;#P fasten 22 1 17 0 239 90 353 90;#P lcolor 7;#P fasten 20 1 15 1 200 310 369 310;#P connect 7 2 14 0;#P fasten 20 1 14 1 200 307 448 307;#P connect 7 3 13 0;#P connect 7 4 11 0;#P connect 7 5 12 0;#P pop;#P newobj 26 85 78 196617 p scripting;#N comlet Z - first;#P inlet 349 29 15 0;#P objectname in[4];#N comlet Y - first;#P inlet 311 29 15 0;#P objectname in[3];#N comlet X - first;#P inlet 273 29 15 0;#P objectname in[2];#N thispatcher;#Q end;#P newobj 26 109 61 196617 thispatcher;#P outlet 805 264 15 0;#P objectname out[16];#P outlet 767 264 15 0;#P objectname out[15];#P outlet 729 264 15 0;#P objectname out[14];#P outlet 691 264 15 0;#P objectname out[13];#P outlet 653 264 15 0;#P objectname out[12];#P outlet 615 264 15 0;#P objectname out[11];#P outlet 577 264 15 0;#P objectname out[10];#P outlet 539 264 15 0;#P objectname out[9];#P outlet 501 264 15 0;#P objectname out[8];#P outlet 463 264 15 0;#P objectname out[7];#P outlet 425 264 15 0;#P objectname out[6];#P outlet 387 264 15 0;#P objectname out[5];#P outlet 349 264 15 0;#P objectname out[4];#P outlet 311 264 15 0;#P objectname out[3];#P outlet 273 264 15 0;#P objectname out[2];#P outlet 235 264 15 0;#P objectname out[1];#N comlet W - omni;#P inlet 235 29 15 0;#P objectname in[1];#P newex 235 212 36 196617 pass~;#P objectname pass[1];#P newex 273 212 36 196617 pass~;#P objectname pass[2];#P newex 311 212 36 196617 pass~;#P objectname pass[3];#P newex 349 212 36 196617 pass~;#P objectname pass[4];#P newex 387 212 36 196617 pass~;#P objectname pass[5];#P newex 425 212 36 196617 pass~;#P objectname pass[6];#P newex 463 212 36 196617 pass~;#P objectname pass[7];#P newex 501 212 36 196617 pass~;#P objectname pass[8];#P newex 539 212 36 196617 pass~;#P objectname pass[9];#P newex 577 212 36 196617 pass~;#P objectname pass[10];#P newex 615 212 36 196617 pass~;#P objectname pass[11];#P newex 653 212 36 196617 pass~;#P objectname pass[12];#P newex 691 212 36 196617 pass~;#P objectname pass[13];#P newex 729 212 36 196617 pass~;#P objectname pass[14];#P newex 767 212 36 196617 pass~;#P objectname pass[15];#P newex 805 212 36 196617 pass~;#P objectname pass[16];#P newex 235 148 209 196617 ambidecode~ 1 16;#P objectname decode;#P connect 39 0 38 0;#P connect 38 0 34 0;#P connect 39 0 40 0;#P connect 40 0 53 0;#P connect 40 0 0 0;#P connect 17 0 0 0;#P connect 0 0 16 0;#P connect 16 0 18 0;#P connect 0 1 15 0;#P connect 15 0 19 0;#P connect 35 0 0 1;#P connect 0 2 14 0;#P connect 14 0 20 0;#P connect 0 3 13 0;#P connect 13 0 21 0;#P connect 36 0 0 2;#P connect 0 4 12 0;#P connect 12 0 22 0;#P connect 0 5 11 0;#P connect 11 0 23 0;#P connect 37 0 0 3;#P connect 0 6 10 0;#P connect 10 0 24 0;#P connect 0 7 9 0;#P connect 9 0 25 0;#P connect 0 8 8 0;#P connect 8 0 26 0;#P connect 0 9 7 0;#P connect 7 0 27 0;#P connect 0 10 6 0;#P connect 6 0 28 0;#P connect 0 11 5 0;#P connect 5 0 29 0;#P connect 0 12 4 0;#P connect 4 0 30 0;#P connect 0 13 3 0;#P connect 3 0 31 0;#P connect 0 14 2 0;#P connect 2 0 32 0;#P connect 0 15 1 0;#P connect 1 0 33 0;#P pop;