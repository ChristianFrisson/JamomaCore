max v2;#N vpatcher 52 44 969 850;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P hidden message 329 89 76 196617 /preset/write;#P hidden message 184 89 142 196617 /preset/store 1 "mydefault";#P window linecount 2;#P hidden newex 434 347 164 196617 jcom.return delete @type msg_int @description "Delete Nth voice.";#P hidden newex 305 389 317 196617 jcom.return aed @type msg_list @description "Position of Nth voice as list of polar coordinates (index\\\, azi\\\, ele\\\, dist\\\, active).";#P window linecount 1;#P hidden newex 150 172 43 196617 jcom.in;#P comment 4 46 74 196617 Channel offset;#B frgb 255 255 255;#P hidden newex 150 244 47 196617 pcontrol;#P hidden newex 150 220 37 196617 t open;#P hidden newex 150 196 151 196617 jcom.oscroute /open_inspector;#N vpatcher 100 100 700 635;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P comment 518 34 24 196617 z;#B frgb 198 198 198;#P comment 463 34 24 196617 y;#B frgb 198 198 198;#P bpatcher 295 486 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 32;#P objectname jcom.sur.ch.xyz_setup.mxt[16];#P bpatcher 295 457 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 31;#P objectname jcom.sur.ch.xyz_setup.mxt[17];#P bpatcher 295 428 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 30;#P objectname jcom.sur.ch.xyz_setup.mxt[18];#P bpatcher 295 399 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 29;#P objectname jcom.sur.ch.xyz_setup.mxt[19];#P bpatcher 295 370 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 28;#P objectname jcom.sur.ch.xyz_setup.mxt[20];#P bpatcher 295 341 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 27;#P objectname jcom.sur.ch.xyz_setup.mxt[21];#P bpatcher 295 312 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 26;#P objectname jcom.sur.ch.xyz_setup.mxt[22];#P bpatcher 295 283 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 25;#P objectname jcom.sur.ch.xyz_setup.mxt[23];#P bpatcher 295 254 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 24;#P objectname jcom.sur.ch.xyz_setup.mxt[24];#P bpatcher 295 225 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 23;#P objectname jcom.sur.ch.xyz_setup.mxt[25];#P bpatcher 295 196 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 22;#P objectname jcom.sur.ch.xyz_setup.mxt[26];#P bpatcher 295 167 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 21;#P objectname jcom.sur.ch.xyz_setup.mxt[27];#P bpatcher 295 138 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 20;#P objectname jcom.sur.ch.xyz_setup.mxt[28];#P bpatcher 295 109 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 19;#P objectname jcom.sur.ch.xyz_setup.mxt[29];#P bpatcher 295 80 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 18;#P objectname jcom.sur.ch.xyz_setup.mxt[30];#P bpatcher 295 51 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 17;#P objectname jcom.sur.ch.xyz_setup.mxt[31];#P comment 408 34 24 196617 x;#B frgb 198 198 198;#P hidden outlet 773 135 15 0;#P hidden inlet 773 57 15 0;#P window linecount 0;#P hidden message 21 87 214 196617 window size 100 100 700 635 \, window exec;#P hidden message 21 54 239 196617 window flags nogrow \, savewindow 1 \, window exec;#P hidden message 21 70 158 196617 window flags grow \, window exec;#N thispatcher;#Q window flags grow close zoom nofloat;#Q window size 100 100 700 635;#Q window title;#Q window exec;#Q savewindow 1;#Q end;#P hidden newobj 21 125 59 196617 thispatcher;#P comment 231 34 24 196617 z;#B frgb 198 198 198;#P comment 176 34 24 196617 y;#B frgb 198 198 198;#P bpatcher 8 486 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 16;#P objectname jcom.sur.ch.xyz_setup.mxt[15];#P bpatcher 8 457 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 15;#P objectname jcom.sur.ch.xyz_setup.mxt[14];#P bpatcher 8 428 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 14;#P objectname jcom.sur.ch.xyz_setup.mxt[13];#P bpatcher 8 399 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 13;#P objectname jcom.sur.ch.xyz_setup.mxt[12];#P bpatcher 8 370 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 12;#P objectname jcom.sur.ch.xyz_setup.mxt[11];#P bpatcher 8 341 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 11;#P objectname jcom.sur.ch.xyz_setup.mxt[10];#P bpatcher 8 312 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 10;#P objectname jcom.sur.ch.xyz_setup.mxt[9];#P bpatcher 8 283 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 9;#P objectname jcom.sur.ch.xyz_setup.mxt[8];#P bpatcher 8 254 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 8;#P objectname jcom.sur.ch.xyz_setup.mxt[7];#P bpatcher 8 225 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 7;#P objectname jcom.sur.ch.xyz_setup.mxt[6];#P bpatcher 8 196 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 6;#P objectname jcom.sur.ch.xyz_setup.mxt[5];#P bpatcher 8 167 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 5;#P objectname jcom.sur.ch.xyz_setup.mxt[4];#P bpatcher 8 138 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 4;#P objectname jcom.sur.ch.xyz_setup.mxt[3];#P bpatcher 8 109 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 3;#P objectname jcom.sur.ch.xyz_setup.mxt[2];#P bpatcher 8 80 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 2;#P objectname jcom.sur.ch.xyz_setup.mxt[1];#P bpatcher 8 51 282 23 0 0 jcom.sur.ch.xyz_setup.mxt 0 1;#P objectname jcom.sur.ch.xyz_setup.mxt;#P hidden newex 773 81 88 196617 bgcolor 80 80 80;#P comment 121 34 24 196617 x;#B frgb 198 198 198;#P comment 88 12 115 196617 jcom.sur.speaker.setup;#B frgb 198 198 198;#P hidden connect 24 0 21 0;#P hidden connect 23 0 21 0;#P hidden connect 22 0 21 0;#P hidden connect 3 0 26 0;#P hidden connect 4 0 26 0;#P hidden connect 5 0 26 0;#P hidden connect 6 0 26 0;#P hidden connect 7 0 26 0;#P hidden connect 8 0 26 0;#P hidden connect 9 0 26 0;#P hidden connect 10 0 26 0;#P hidden connect 11 0 26 0;#P hidden connect 12 0 26 0;#P hidden connect 13 0 26 0;#P hidden connect 14 0 26 0;#P hidden connect 15 0 26 0;#P hidden connect 16 0 26 0;#P hidden connect 17 0 26 0;#P hidden connect 18 0 26 0;#P pop;#P hidden newobj 150 276 60 196617 p inspector;#P objectname inspector;#P comment 4 27 74 196617 Voices;#B frgb 255 255 255;#P hidden newex 305 244 45 196617 pcontrol;#P hidden newex 305 197 78 196617 jcom.pass open;#P hidden message 38 89 125 196617 /documentation/generate;#P number 85 25 35 9 0 32 8227 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname Offset;#P window linecount 2;#P hidden message 16 377 65 196617 \; max refresh;#P hidden message 16 340 75 196617 \; jcom.init bang;#P window linecount 1;#N vpatcher 8 147 606 667;#P outlet 245 458 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 245 416 51 196617 zl slice 1;#P newex 273 360 27 196617 + 1;#P window linecount 2;#P comment 336 336 210 196617 Filtered to only pass the positions of active voices \, the rest are set to inactive;#P outlet 138 458 15 0;#P window linecount 1;#P newex 245 117 51 196617 zl join;#P newex 286 95 94 196617 jcom.xyz2aed.mxt;#P newex 245 74 51 196617 zl slice 1;#P newex 270 157 38 196617 t l l;#P newex 245 278 38 196617 t l l;#P newex 13 186 46 196617 t dump i;#N coll ;#P newobj 270 237 53 196617 coll;#P newex 270 198 38 196617 zl join;#P message 270 179 20 196617 \$1;#P newex 138 393 117 196617 gate 2;#P newex 273 336 27 196617 >;#P message 273 305 20 196617 \$1;#P inlet 245 49 15 0;#P newex 13 162 112 196617 jcom.oscroute /voices;#P inlet 13 49 15 0;#P comment 245 27 130 196617 List of index \, azi \, ele \, dist;#P window linecount 2;#P comment 336 234 210 196617 All positions are dumped if number of voices is changed \, in order to update active status.;#P window linecount 1;#P comment 336 418 183 196617 The others are set to inactive;#P connect 3 0 4 0;#P connect 4 0 12 0;#P fasten 20 0 8 0 278 385 143 385;#P connect 8 0 18 0;#P connect 5 0 15 0;#P connect 15 0 17 0;#P connect 17 0 13 0;#P connect 11 0 13 0;#P connect 13 0 8 1;#P connect 8 1 21 0;#P connect 21 0 22 0;#P connect 17 0 14 0;#P connect 14 0 9 0;#P connect 9 0 10 0;#P connect 10 0 11 0;#P fasten 12 0 11 0 18 231 275 231;#P connect 13 1 6 0;#P connect 6 0 7 0;#P connect 7 0 20 0;#P connect 15 1 16 0;#P connect 16 0 17 1;#P fasten 12 1 7 1 54 330 295 330;#P connect 14 1 10 1;#P pop;#P hidden newobj 305 322 139 196617 p jalg.sur.speaker.setup.mxt;#P hidden newex 528 73 62 196617 pvar Offset;#P window linecount 2;#P hidden newex 16 114 372 196617 jcom.hub jmod.sur.speaker.setup @size 1U-half @module_type control @inspector 1 @description "Describe speaker setup as sets of xyz coordinates.";#P objectname jcom.hub;#P hidden inlet 16 90 13 0;#P hidden outlet 16 293 13 0;#P hidden newex 528 93 344 196617 jcom.parameter voices @repetitions 0 @type msg_int @range 0 32 @clipmode both @priority 1 @description "Number of voices to transmit.";#P objectname voices;#P bpatcher 0 0 256 62 0 0 jcom.gui.mxt 0;#P objectname jcom.gui.1Uh.a.stereo.mxt;#P hidden connect 3 0 4 0;#P hidden fasten 10 0 4 0 43 108 21 108;#P hidden fasten 22 0 4 0 189 109 21 109;#P hidden fasten 23 0 4 0 334 109 21 109;#P hidden connect 4 0 2 0;#P hidden connect 19 0 15 0;#P hidden connect 15 0 16 0;#P hidden connect 16 0 17 0;#P hidden connect 17 0 14 0;#P hidden connect 15 1 11 0;#P hidden connect 11 0 12 0;#P hidden connect 12 0 6 0;#P hidden fasten 11 1 6 0 378 265 310 265;#P hidden connect 6 0 20 0;#P hidden fasten 14 0 6 1 155 305 439 305;#P hidden connect 6 1 21 0;#P hidden fasten 1 0 5 0 533 125 521 125 521 68 533 68;#P hidden connect 5 0 1 0;#P pop;