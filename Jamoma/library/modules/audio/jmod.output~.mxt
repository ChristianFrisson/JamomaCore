max v2;
#N vpatcher 40 52 1217 749;
#P window setfont "Sans Serif" 9.;
#P hidden newex 346 161 51 196617 route set;
#P window linecount 2;
#P hidden newex 199 166 57 196617 jcom.out~ 0;
#P window linecount 1;
#P hidden newex 143 165 53 196617 jcom.in~ 2;
#P window linecount 2;
#P hidden newex 346 128 272 196617 jcom.parameter.gain.mxt audio/gain @description "master gain";
#B color 2;
#P objectname jcom.parameter.gain.mxt;
#P window linecount 1;
#P hidden comment 25 645 265 196617 - record 0: stops recording.;
#P window linecount 2;
#P hidden comment 25 616 258 196617 - record (filename): starts recording to the sound file specified;
#P hidden comment 25 586 265 196617 - record 1: starts recording to a previously specified sound file. If no sound file is psecified \, it's to bad...;
#P hidden comment 25 556 265 196617 - open with no argument: bring up the open dialog??? (Or should we forget about this one?);
#P hidden comment 25 527 265 196617 - open filename: open the soundfile specified \, but do not start recording;
#P window linecount 3;
#P hidden comment 25 485 265 196617 - samptype and filetype can be set beforehand using messages "samptype $1" and "filetype $1" \, and is remembered.;
#P window linecount 1;
#P hidden newex 360 635 320 196617 jcom.message dsp_status @description " Open DSP Status window.";
#P hidden message 34 312 125 196617 /documentation/generate;
#P hidden newex 27 236 45 196617 pcontrol;
#P hidden newex 27 213 84 196617 jcom.pass /open;
#P hidden newex 346 106 89 196617 pvar gain_master;
#B color 7;
#P user pictslider 26 70 161 13 2 0 2 0 jcom.slider.ch.knob.bottom.pct 1 jcom.slider.ch.bg.pct 1 2657 0 0 157 1. 1.;
#P objectname gain_master;
#P hidden newex 468 356 229 196617 jcom.parameter record @type msg_toggle;
#P objectname record;
#P window linecount 3;
#P hidden newex 15 338 296 196617 jcom.hub jmod.output~ @size 2U-half @module_type audio.no_panel @description "A generic module for stereo audio output. Includes saturation \\\, limiter and recording device";
#P objectname jcom.hub;
#P window linecount 1;
#P hidden comment 25 466 244 196617 - left channel jcom-meter~ tends to die;
#P hidden newex 346 377 90 196617 s $0_xxx_record;
#B color 14;
#P comment 146 105 68 196617 Release (ms);
#B frgb 198 198 198;
#P hidden newex 750 233 65 196617 pvar Preamp;
#P comment 146 88 66 196617 Preamp (dB);
#B frgb 198 198 198;
#P hidden newex 750 373 65 196617 pvar Release;
#P hidden user umenu 680 484 66 196647 1 64 500 1;
#X add exponential;
#X add linear;
#P hidden newex 750 184 95 196617 pvar LimiterToggle;
#P user jcom.meter~ 35 28 123 10;
#P user jcom.meter~ 35 44 123 10;
#P hidden newex 750 205 443 196617 jcom.parameter limiter/active @type msg_toggle @description "Limiter: Active or bypassed.";
#P objectname limiter/active;
#P hidden flonum 703 443 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 215 103 37 9 0. 10000. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Release;
#P hidden number 703 339 43 9 0 256 3 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P hidden flonum 704 301 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 215 86 36 9 0. 48. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Preamp;
#P window setfont "Sans Serif" 12.;
#P hidden comment 324 183 210 196620 Sound File Record;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P window linecount 2;
#P hidden newex 750 476 301 196617 jcom.parameter limiter/mode @type msg_symbol @description "Limiter: Set the function to be used for calculating the scaling.";
#P objectname limiter/mode;
#P hidden newex 750 434 352 196617 jcom.parameter limiter/threshold @ramp linear @range -24 48 @clipmode none @type msg_float @description "Limiter: Set threshold as dB.";
#P objectname limiter/threshold;
#P hidden newex 750 393 337 196617 jcom.parameter limiter/release @ramp linear @type msg_float @range 0 3000 @clipmode low @description "Limiter: Set release time as ms.";
#P objectname limiter/release;
#P hidden newex 750 330 374 196617 jcom.parameter limiter/lookahead @ramp linear @range 0 256 @clipmode both @type msg_int @description "Limiter: The number of samples to look ahead.";
#P objectname limiter/lookahead;
#P hidden newex 750 293 345 196617 jcom.parameter limiter/postamp @ramp linear @range -24 48 @clipmode none @type msg_float @description "Limiter: Postamp as dB.";
#P objectname limiter/postamp;
#P hidden newex 750 255 332 196617 jcom.parameter limiter/preamp @ramp linear @range 0 48 @clipmode none @type msg_float @description "Limiter: Preamp as dB.";
#P objectname limiter/preamp;
#P window linecount 1;
#P comment 19 105 57 196617 Limiter;
#B frgb 198 198 198;
#P window setfont "Sans Serif" 12.;
#P hidden comment 730 158 353 196620 Limiter (not all parameters are exposed in the interface);
#B color 7;
#P hidden comment 730 11 210 196620 Saturation;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P window linecount 2;
#P hidden newex 750 122 434 196617 jcom.parameter saturation/active @type msg_toggle @description "Saturation: Active or bypassed.";
#P objectname saturation/active;
#P window linecount 1;
#P hidden newex 750 100 109 196617 pvar SaturationToggle;
#P hidden newex 750 35 105 196617 pvar SaturationDepth;
#P window linecount 2;
#P hidden newex 750 57 347 196617 jcom.parameter saturation/depth @ramp linear @repetitions 0 @type msg_float @range 0 99 @clipmode both @description "Saturation: Depth.";
#P objectname saturation/depth;
#P number 80 86 21 9 0 99 8227 3 198 198 189 221 221 221 222 222 222 0 0 0;
#P objectname SaturationDepth;
#P window linecount 1;
#P comment 100 88 18 196617 %;
#B frgb 198 198 198;
#P hidden newex 346 294 109 196617 pvar SamptypeMenu 2;
#P window linecount 2;
#P hidden newex 346 317 275 196617 jcom.parameter record/samptype @type msg_symbol @description "Recording: Set sample type for sound files.";
#P objectname record/samptype;
#P hidden newex 346 253 259 196617 jcom.parameter record/filetype @type msg_symbol @description "Recording: Set file type for sound files.";
#B color 2;
#P objectname record/filetype;
#P window linecount 1;
#N vpatcher 14 59 614 459;
#P outlet 60 265 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 60 218 75 196617 prepend append;
#P newex 60 60 55 196617 r jcom.init;
#P message 111 175 98 196617 aiff \, au \, raw \, wave;
#P message 60 192 121 196617 aiff \, au \, raw \, wave \, sd2;
#P newex 222 164 39 196617 t clear;
#P newex 60 151 112 196617 sel macintosh windows;
#P newex 60 130 45 196617 route os;
#P newex 60 99 123 196617 js jcom.js_systeminfo.js;
#P connect 6 0 0 0;
#P connect 0 0 1 0;
#P connect 1 0 2 0;
#P connect 2 0 4 0;
#P connect 4 0 7 0;
#P connect 5 0 7 0;
#P connect 7 0 8 0;
#P fasten 3 0 8 0 227 250 65 250;
#P connect 2 1 5 0;
#P fasten 6 0 3 0 65 89 227 89;
#P pop;
#P hidden newobj 346 202 60 196617 p FileTypes;
#P user umenu 191 46 61 196647 1 64 62 0;
#X add aiff;
#X add au;
#X add raw;
#X add wave;
#X add sd2;
#P objectname FiletypeMenu;
#P hidden newex 346 230 101 196617 pvar FiletypeMenu 2;
#P user umenu 191 64 61 196647 1 64 80 0;
#X add int8;
#X add int16;
#X add int24;
#X add int32;
#X add float32;
#X add float64;
#X add mulaw;
#X add alaw;
#P objectname SamptypeMenu;
#P hidden inlet 186 146 15 0;
#P hidden inlet 143 146 15 0;
#P hidden number 455 536 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P hidden number 458 587 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P hidden message 346 86 45 196617 set \$1 0;
#P hidden number 438 108 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P user jsui 196 24 45 19 1 0 0 jcom.jsui_texttoggle.js Record Record 204 204 204 0 0 0 255 40 40;
#P objectname RecordButton;
#P window setfont "Sans Serif" 12.;
#P hidden comment 337 484 210 196620 DSP and dac~ settings;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden comment 24 451 100 196617 Bugs/required fixes:;
#P hidden newex 360 613 85 196617 pvar DSP_Status;
#B color 7;
#P hidden newex 360 586 95 196617 pvar Channel_Right;
#B color 7;
#P hidden newex 360 535 91 196617 pvar Channel_Left;
#B color 7;
#P hidden newex 360 564 417 196617 jcom.parameter ch_2 @type msg_int @description " Set logical output for right channel.";
#B color 2;
#P objectname ch_2;
#P hidden newex 360 513 413 196617 jcom.parameter ch_1 @type msg_int @description " Set logical output for left channel.";
#B color 2;
#P objectname ch_1;
#P user jsui 196 0 45 19 1 0 0 jsui_textbutton.js DSP;
#P objectname DSP_Status;
#P number 7 43 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Right;
#P number 7 26 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Left;
#P hidden toggle 126 395 15 0;
#P hidden message 88 395 35 196617 1 100;
#P hidden message 49 395 35 196617 0 100;
#P window linecount 2;
#P hidden message 213 305 69 196617 \; max refresh;
#P window linecount 1;
#P hidden message 162 312 37 196617 /init;
#P hidden newex 49 419 84 196617 s jcom.dsptoggle;
#P window setfont "Sans Serif" 12.;
#P hidden comment 324 13 210 196620 Volume;
#B color 7;
#P hidden user led 441 355 17 17 1 150;
#P window setfont "Sans Serif" 9.;
#N vpatcher 41 276 701 729;
#P origin -88 11;
#P window setfont "Sans Serif" 9.;
#P newex 325 119 236 196617 jcom.oscroute /saturation /limiter /audio/gain /record;
#P outlet 131 366 15 0;
#P outlet 111 366 15 0;
#N vpatcher 14 59 614 459;
#P window setfont "Sans Serif" 9.;
#P window linecount 1;
#P newex 230 163 35 196617 t open;
#P window linecount 0;
#P newex 30 186 75 196617 r $0_xxx_dac;
#B color 14;
#P inlet 180 55 15 0;
#P inlet 107 55 15 0;
#P outlet 434 255 15 0;
#P newex 366 163 61 196617 prepend set;
#P newex 298 163 61 196617 prepend set;
#P inlet 230 55 15 0;
#P newex 230 135 216 196617 jcom.oscroute /dsp_status /ch_1 /ch_2;
#P newex 107 241 83 196617 dac~ 1 2;
#P connect 3 0 0 0;
#P connect 8 0 0 0;
#P connect 6 0 0 0;
#P connect 9 0 0 0;
#P connect 4 0 0 1;
#P connect 7 0 0 1;
#P connect 2 0 1 0;
#P connect 1 0 9 0;
#P connect 1 1 3 0;
#P connect 1 2 4 0;
#P connect 1 3 5 0;
#P pop;
#P newobj 179 366 157 196617 p dac;
#N vpatcher 78 86 752 405;
#P window setfont "Sans Serif" 9.;
#P newex 521 149 79 196617 prepend bypass;
#P newex 521 128 31 196617 == 0;
#P newex 521 107 111 196617 jcom.oscroute /active;
#P newex 215 79 320 196617 jcom.pass /preamp /postamp /threshold /lookahead /release /mode;
#P inlet 215 46 15 0;
#P outlet 122 256 15 0;
#P outlet 72 256 15 0;
#P inlet 172 46 15 0;
#P inlet 72 46 15 0;
#P newex 72 202 110 196617 jcom.limiter~ @bypass_dcblocker 1;
#P connect 9 0 0 0;
#P connect 6 0 0 0;
#P connect 6 5 0 0;
#P connect 6 4 0 0;
#P connect 6 3 0 0;
#P connect 6 2 0 0;
#P connect 6 1 0 0;
#P connect 1 0 0 0;
#P connect 0 0 3 0;
#P connect 0 1 4 0;
#P connect 2 0 0 1;
#P connect 5 0 6 0;
#P connect 6 6 7 0;
#P connect 7 0 8 0;
#P connect 8 0 9 0;
#P pop;
#P newobj 179 198 156 196617 p limiter;
#N vpatcher 417 152 1017 552;
#P window setfont "Sans Serif" 9.;
#P newex 396 209 79 196617 prepend bypass;
#P newex 396 186 31 196617 == 0;
#P window linecount 1;
#P newex 396 164 111 196617 jcom.oscroute /active;
#P window linecount 0;
#P newex 266 121 120 196617 expr 1./(1. - $f1*0.01);
#P outlet 136 309 15 0;
#P outlet 172 309 15 0;
#P inlet 208 50 15 0;
#P inlet 136 50 15 0;
#P newex 266 151 92 196617 prepend overdrive;
#P newex 266 75 140 196617 jcom.oscroute /depth;
#P inlet 266 50 15 0;
#P newex 136 268 82 196617 jcom.saturation~;
#P connect 11 0 0 0;
#P connect 3 0 0 0;
#P connect 4 0 0 0;
#P connect 0 0 7 0;
#P connect 0 1 6 0;
#P connect 5 0 0 1;
#P connect 1 0 2 0;
#P connect 2 0 8 0;
#P connect 8 0 3 0;
#P connect 2 1 9 0;
#P connect 9 0 10 0;
#P connect 10 0 11 0;
#P pop;
#P newobj 179 169 157 196617 p saturation;
#P inlet 27 32 15 0;
#P inlet 252 136 15 0;
#P inlet 179 136 15 0;
#N vpatcher 185 98 808 500;
#P window setfont "Sans Serif" 9.;
#P message 475 163 30 196617 0 10;
#P newex 410 140 31 196617 sel 1;
#P newex 319 270 27 196617 *~;
#P newex 284 270 27 196617 *~;
#P message 410 163 43 196617 0 \, 1 10;
#P newex 410 189 31 196617 line~;
#P newex 410 112 53 196617 dspstate~;
#P comment 94 334 202 196617 NOTE: This fade is not displayed in the GUI.;
#P comment 24 75 145 196617 Quick fade in when audio start;
#P inlet 319 91 15 0;
#P inlet 284 91 15 0;
#P outlet 319 305 15 0;
#P outlet 284 305 15 0;
#P newex 475 112 81 196617 r jcom.audio.off;
#P comment 24 59 145 196617 Quick fade out when audio stop;
#P comment 24 95 245 196617 line~ is able to handle this. gain~ and matrix~ is not.;
#P connect 5 0 12 0;
#P connect 12 0 3 0;
#P connect 10 0 12 1;
#P connect 6 0 13 0;
#P connect 13 0 4 0;
#P connect 10 0 13 1;
#P connect 9 0 14 0;
#P connect 14 0 11 0;
#P connect 15 0 10 0;
#P connect 11 0 10 0;
#P connect 2 0 15 0;
#P pop;
#P newobj 179 290 83 196617 p smooth_in_out;
#N vpatcher 759 82 1072 489;
#P inlet 177 42 15 0;
#P outlet 64 318 15 0;
#P outlet 93 318 15 0;
#P inlet 64 44 15 0;
#P inlet 93 44 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 177 78 102 196617 jcom.oscroute /midi;
#P user gain~ 64 130 24 100 158 0 1.071519 7.94321 10.;
#P user gain~ 93 131 24 100 158 0 1.071519 7.94321 10.;
#P connect 2 0 1 0;
#P connect 4 0 1 0;
#P connect 1 0 6 0;
#P connect 3 0 0 0;
#P connect 2 0 0 0;
#P connect 0 0 5 0;
#P connect 7 0 2 0;
#P pop;
#P newobj 179 227 156 196617 p gain;
#N vpatcher 316 274 1264 806;
#P origin 0 80;
#P window setfont "Sans Serif" 9.;
#P window linecount 0;
#P newex 453 203 20 196617 t b;
#P newex 453 225 36 196617 zl reg;
#P newex 479 132 107 196617 jcom.pass /samptype;
#P comment 549 282 78 196617 FROM REMOTE:;
#P comment 549 459 265 196617 - record 0: stops recording.;
#P window linecount 2;
#P comment 549 430 265 196617 - record (filename): starts recording to the sound file specified;
#P comment 549 400 265 196617 - record 1: starts recording to a previously specified sound file. If no sound file has been specified \, it's to bad...;
#P comment 549 370 265 196617 - open with no argument: bring up the open dialog??? (Or should we forget about this one?);
#P comment 549 341 265 196617 - open filename: open the soundfile specified \, but do not start recording;
#P window linecount 3;
#P comment 549 299 265 196617 - samptype and filetype can be set beforehand using messages "samptype $1" and "filetype $1" \, and is remembered.;
#P window linecount 1;
#P newex 261 147 120 196617 pack open aiff;
#P newex 371 87 118 196617 jcom.oscroute /filetype;
#P newex 261 92 90 196617 r $0_xxx_record;
#B color 14;
#P newex 261 121 31 196617 sel 1;
#P inlet 371 60 15 0;
#P inlet 80 91 15 0;
#P inlet 153 91 15 0;
#P newex 80 278 83 196617 sfrecord~ 2;
#P comment 504 214 271 196617 <- required to avoid an error message during initialisation;
#P connect 8 0 1 0;
#P connect 6 0 1 0;
#P connect 17 0 1 0;
#P connect 3 0 1 0;
#P connect 2 0 1 1;
#P connect 6 0 5 0;
#P connect 5 0 8 0;
#P connect 4 0 7 0;
#P connect 7 0 8 1;
#P connect 8 0 18 0;
#P connect 18 0 17 0;
#P connect 7 1 16 0;
#P connect 16 0 17 1;
#P pop;
#P newobj 365 366 139 196617 p record;
#P connect 2 0 9 0;
#P connect 2 1 10 0;
#P connect 3 0 6 0;
#P connect 6 0 7 0;
#P connect 7 0 1 0;
#P connect 1 0 2 0;
#P connect 2 0 8 0;
#P connect 4 0 6 1;
#P fasten 6 1 7 1 331 192 257 192;
#P fasten 7 1 1 1 330 221 257 221;
#P fasten 1 1 2 1 330 267 257 267;
#P connect 2 1 8 1;
#P fasten 5 0 11 0 32 68 330 68;
#P connect 11 0 6 2;
#P connect 11 1 7 2;
#P connect 11 2 1 2;
#P connect 11 4 8 2;
#P connect 2 0 0 0;
#P connect 2 1 0 1;
#P connect 11 3 0 2;
#P pop;
#P hidden newobj 101 263 95 196617 p Sound_processing;
#P hidden newex 346 355 93 196617 pvar RecordButton;
#B color 7;
#P user fpic 26 18 160 52 jcom.bg.hgain.pct 0 0 0 0. 0 0 0;
#P hidden outlet 15 389 15 0;
#P hidden inlet 15 312 15 0;
#P window linecount 3;
#P hidden comment 324 34 202 196617 The set message is important to prevent feedback into jcom.parameter.gain from killing ongoing ramps;
#P window linecount 1;
#P hidden comment 146 129 77 196617 -- audio in --;
#P comment 19 88 57 196617 Saturation;
#B frgb 198 198 198;
#P user radiogroup 5 85 75 16;
#X size 1;
#X offset 16;
#X inactive 0;
#X itemtype 1;
#X flagmode 0;
#X set 1;
#X done;
#P objectname SaturationToggle;
#P user radiogroup 5 102 75 16;
#X size 1;
#X offset 16;
#X inactive 0;
#X itemtype 1;
#X flagmode 0;
#X set 1;
#X done;
#P objectname LimiterToggle;
#P bpatcher 0 0 255 120 0 0 jcom.gui.mxt 0;
#P objectname jcom.gui.mxt;
#P hidden fasten 81 0 75 0 39 332 20 332;
#P hidden connect 6 0 75 0;
#P hidden fasten 14 0 75 0 167 334 20 334;
#P hidden connect 75 0 7 0;
#P hidden connect 90 2 79 0;
#P hidden connect 79 0 80 0;
#P hidden fasten 10 0 66 0 106 291 266 291 266 22 40 22;
#P hidden fasten 10 1 65 0 191 286 261 286 261 35 40 35;
#P hidden fasten 18 0 13 0 131 414 54 414;
#P hidden fasten 17 0 13 0 93 414 54 414;
#P hidden fasten 16 0 13 0 54 414 54 414;
#P hidden fasten 80 0 10 0 32 259 106 259;
#P hidden connect 79 1 10 0;
#P hidden connect 34 0 90 0;
#P hidden connect 90 0 10 1;
#P hidden fasten 90 1 10 2 162 223 190 223;
#P hidden connect 35 0 90 1;
#P hidden fasten 92 0 31 0 351 181 338 181 338 75 351 75;
#P hidden connect 31 0 78 0;
#P hidden connect 78 0 89 0;
#P hidden connect 89 0 92 0;
#P hidden fasten 40 0 37 0 351 285 339 285 339 223 351 223;
#P hidden connect 39 0 37 0;
#P hidden fasten 37 1 40 0 442 250 351 250;
#P hidden fasten 41 0 42 0 351 348 339 348 339 290 351 290;
#P hidden fasten 42 1 41 0 450 314 351 314;
#P hidden connect 76 0 9 0;
#P hidden connect 9 0 73 0;
#P hidden fasten 24 0 22 0 365 556 355 556 355 510 365 510;
#P hidden connect 22 0 24 0;
#P hidden fasten 25 0 23 0 365 607 355 607 355 560 365 560;
#P hidden connect 23 0 25 0;
#P hidden connect 26 0 82 0;
#P hidden connect 78 0 30 0;
#P hidden connect 9 0 11 0;
#P hidden connect 24 0 33 0;
#P hidden connect 25 0 32 0;
#P hidden connect 9 0 76 0;
#P hidden connect 57 0 68 0;
#P hidden connect 54 0 61 0;
#P hidden connect 56 0 63 0;
#P hidden connect 53 0 60 0;
#P hidden fasten 45 0 46 0 755 92 745 92 745 32 755 32;
#P hidden connect 46 0 45 0;
#P hidden fasten 48 0 47 0 755 154 745 154 745 97 755 97;
#P hidden connect 47 0 48 0;
#P hidden fasten 64 0 67 0 755 227 744 227 744 182 755 182;
#P hidden connect 67 0 64 0;
#P hidden fasten 52 0 71 0 755 289 743 289 743 230 755 230;
#P hidden connect 71 0 52 0;
#P hidden connect 60 0 53 0;
#P hidden connect 61 0 54 0;
#P hidden fasten 55 0 69 0 755 428 745 428 745 370 755 370;
#P hidden connect 69 0 55 0;
#P hidden connect 63 0 56 0;
#P hidden connect 68 1 57 0;
#P pop;
