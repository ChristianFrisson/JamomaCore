max v2;
#N vpatcher 6 44 1005 762;
#P window setfont "Sans Serif" 9.;
#P hidden comment 599 649 244 196617 added the parameter object 2005.05.17 TAP;
#P hidden newex 442 648 155 196617 jmod.parameter.mxt $0_ record;
#P objectname jmod.parameter.mxt[12];
#P hidden newex 9 172 165 196617 jmod.hub.mxt $0_ jmod.output~ @size 2U @module_type audio @num_inputs 2 @num_outputs 0 @options no_panel;
#P hidden comment 9 570 244 196617 - left channel jmod-meter~ tends to die;
#P hidden newex 321 676 90 196617 s $0_xxx_record;
#B color 14;
#P comment 479 70 25 196617 ms;
#B frgb 198 198 198;
#P comment 393 69 47 196617 Release;
#B frgb 198 198 198;
#P hidden newex 616 328 65 196617 pvar Preamp;
#P comment 480 54 24 196617 dB;
#B frgb 198 198 198;
#P comment 393 53 50 196617 Preamp;
#B frgb 198 198 198;
#P hidden newex 616 437 65 196617 pvar Release;
#P hidden user umenu 543 500 66 196647 1 64 516 1;
#X add exponential;
#X add linear;
#P hidden newex 616 270 95 196617 pvar LimiterToggle;
#P comment 343 62 47 196617 On/Off;
#B frgb 198 198 198;
#P user jmod.meter~ 35 28 123 10;
#P user jmod.meter~ 35 44 123 10;
#P toggle 325 60 15 0;
#P objectname LimiterToggle;
#P hidden newex 616 289 158 196617 jmod.parameter.mxt $0_ limiter;
#P objectname jmod.parameter.mxt[11];
#P hidden flonum 566 483 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 443 69 37 9 0. 10000. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Release;
#P hidden number 566 405 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P hidden flonum 566 385 43 9 0 0 0 3 0 0 0 221 221 221 222 222 222 0 0 0;
#P flonum 443 52 36 9 0. 48. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Preamp;
#P window setfont "Sans Serif" 12.;
#P hidden comment 298 487 210 196620 Sound File Record;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden newex 616 500 245 196617 jmod.parameter.mxt $0_ limiter_shape @type menu;
#P objectname jmod.parameter.mxt[10];
#P hidden newex 616 480 283 196617 jmod.parameter.mxt $0_ limiter_threshold @ramp_enable 1;
#P objectname jmod.parameter.mxt[9];
#P hidden newex 616 457 274 196617 jmod.parameter.mxt $0_ limiter_release @ramp_enable 1;
#P objectname jmod.parameter.mxt[8];
#P hidden newex 616 404 284 196617 jmod.parameter.mxt $0_ limiter_lookahead @ramp_enable 1;
#P objectname jmod.parameter.mxt[7];
#P hidden newex 616 383 278 196617 jmod.parameter.mxt $0_ limiter_postamp @ramp_enable 1;
#P objectname jmod.parameter.mxt[6];
#P hidden newex 616 349 274 196617 jmod.parameter.mxt $0_ limiter_preamp @ramp_enable 1;
#P objectname jmod.parameter.mxt[5];
#P comment 261 98 60 196617 Record;
#B frgb 198 198 198;
#P comment 262 62 60 196617 Limiter;
#B frgb 198 198 198;
#P window setfont "Sans Serif" 12.;
#P hidden comment 594 244 353 196620 Limiter (not all parameters are exposed in the interface);
#B color 7;
#P hidden comment 594 103 210 196620 Saturation;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden newex 614 206 173 196617 jmod.parameter.mxt $0_ saturation;
#P objectname jmod.parameter.mxt[4];
#P hidden newex 614 186 109 196617 pvar SaturationToggle;
#P hidden newex 614 132 105 196617 pvar SaturationDepth;
#P hidden newex 614 153 355 196617 jmod.parameter.mxt $0_ saturation_depth @ramp_enable 1 @filter_dupes 1;
#P objectname jmod.parameter.mxt[2];
#P number 456 24 23 9 0 99 8227 3 198 198 189 221 221 221 222 222 222 0 0 0;
#P objectname SaturationDepth;
#P comment 343 26 45 196617 On/Off;
#B frgb 198 198 198;
#P comment 480 26 18 196617 %;
#B frgb 198 198 198;
#P hidden newex 321 597 109 196617 pvar SamptypeMenu 2;
#P hidden newex 321 620 225 196617 jmod.parameter.mxt $0_ samptype @type menu;
#P objectname jmod.parameter.mxt[3];
#P hidden newex 321 558 219 196617 jmod.parameter.mxt $0_ filetype @type menu;
#B color 2;
#P objectname jmod.parameter.mxb[1];
#N vpatcher 14 59 614 459;
#P outlet 60 265 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 60 218 75 196617 prepend append;
#P newex 60 60 55 196617 r jmod.init;
#P message 111 175 98 196617 aiff \, au \, raw \, wave;
#P message 60 192 121 196617 aiff \, au \, raw \, wave \, sd2;
#P newex 222 164 39 196617 t clear;
#P newex 60 151 112 196617 sel macintosh windows;
#P newex 60 130 45 196617 route os;
#N js jmod.js_systeminfo.js;
#P newobj 60 99 123 196617 js jmod.js_systeminfo.js;
#P connect 6 0 0 0;
#P connect 0 0 1 0;
#P connect 1 0 2 0;
#P connect 2 0 4 0;
#P connect 5 0 7 0;
#P connect 4 0 7 0;
#P fasten 3 0 8 0 227 250 65 250;
#P connect 7 0 8 0;
#P connect 2 1 5 0;
#P fasten 6 0 3 0 65 89 227 89;
#P pop;
#P hidden newobj 321 507 60 196617 p FileTypes;
#P user umenu 377 97 61 196647 1 64 113 0;
#X add aiff;
#X add au;
#X add raw;
#X add wave;
#X add sd2;
#P objectname FiletypeMenu;
#P hidden newex 321 535 101 196617 pvar FiletypeMenu 2;
#P user umenu 439 97 61 196647 1 64 113 0;
#X add int8;
#X add int16;
#X add int24;
#X add int32;
#X add float32;
#X add float64;
#X add mulaw;
#X add alaw;
#P objectname SamptypeMenu;
#P hidden inlet 197 349 15 0;
#P hidden inlet 155 349 15 0;
#P hidden number 416 321 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P hidden number 419 380 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P hidden message 321 197 45 196617 set \$1 0;
#P hidden number 412 217 35 9 0 0 0 3 0 0 0 74 156 97 222 222 222 0 0 0;
#P user pictslider 21 71 161 13 2 0 2 0 jmod.slider.master.knob.top.pct 1 jmod.slider.master.bg.pct 1 609 0 8323072 157 1. 1.;
#P objectname gain_master;
#P hidden newex 321 216 89 196617 pvar gain_master;
#B color 7;
#P hidden newex 321 237 165 196617 jmod.parameter.gain.mxt $0_ gain;
#B color 2;
#P objectname jmod.parameter.gain.mxt;
#P user jsui 325 95 45 19 1 0 0 jmod.jsui_texttoggle.js Record Record 204 204 204 0 0 0 255 40 40;
#P objectname RecordButton;
#P window setfont "Sans Serif" 12.;
#P hidden comment 298 271 210 196620 DSP and dac~ settings;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden comment 8 555 100 196617 Bugs/required fixes:;
#P hidden newex 321 436 35 196617 t open;
#P hidden newex 321 416 85 196617 pvar DSP_Status;
#B color 7;
#P hidden newex 321 457 75 196617 s $0_xxx_dac;
#B color 14;
#P hidden newex 321 379 95 196617 pvar Channel_Right;
#B color 7;
#P hidden newex 321 320 91 196617 pvar Channel_Left;
#B color 7;
#P hidden newex 321 359 169 196617 jmod.parameter.mxt $0_ set_ch_2;
#B color 2;
#P objectname jmod.parameter.mxt[1];
#P hidden newex 321 300 169 196617 jmod.parameter.mxt $0_ set_ch_1;
#B color 2;
#P objectname jmod.parameter.mxt;
#P user jsui 196 0 45 19 1 0 0 jsui_textbutton.js DSP;
#P objectname DSP_Status;
#P number 7 43 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Right;
#P number 7 26 30 9 1 512 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;
#P objectname Channel_Left;
#P hidden toggle 85 425 15 0;
#P hidden message 47 425 35 196617 1 100;
#P hidden message 8 425 35 196617 0 100;
#P hidden message 8 509 69 196617 \; max refresh;
#P hidden message 8 477 72 196617 \; jmod.init bang;
#P hidden newex 8 449 84 196617 s jmod.dsptoggle;
#P window setfont "Sans Serif" 12.;
#P hidden comment 298 130 210 196620 Volume;
#B color 7;
#P hidden user led 416 654 17 17 1 150;
#P window setfont "Sans Serif" 9.;
#N vpatcher 643 328 1175 757;
#P origin -88 11;
#P outlet 102 342 15 0;
#P outlet 82 342 15 0;
#P window setfont "Sans Serif" 9.;
#N vpatcher 14 59 614 459;
#P window setfont "Sans Serif" 9.;
#P newex 30 186 75 196617 r $0_xxx_dac;
#B color 14;
#P inlet 180 55 15 0;
#P inlet 107 55 15 0;
#P outlet 364 275 15 0;
#P newex 297 165 61 196617 prepend set;
#P newex 230 165 61 196617 prepend set;
#P inlet 230 55 15 0;
#P newex 230 135 144 196617 route set_ch_1 set_ch_2;
#P newex 107 241 83 196617 dac~ 1 2;
#P connect 3 0 0 0;
#P connect 6 0 0 0;
#P connect 8 0 0 0;
#P connect 4 0 0 1;
#P connect 7 0 0 1;
#P connect 2 0 1 0;
#P connect 1 0 3 0;
#P connect 1 1 4 0;
#P connect 1 2 5 0;
#P pop;
#P newobj 150 342 157 196617 p dac;
#N vpatcher 78 86 641 583;
#P window setfont "Sans Serif" 9.;
#P newex 215 115 30 196617 == 0;
#P newex 420 292 80 196617 prepend release;
#P newex 379 257 90 196617 prepend lookahead;
#P newex 338 229 89 196617 prepend threshold;
#P newex 297 197 84 196617 prepend postamp;
#P newex 256 170 80 196617 prepend preamp;
#P newex 215 142 78 196617 prepend bypass;
#P newex 215 79 299 196617 route limiter limiter_preamp limiter_postamp limiter_threshold limiter_lookahead limiter_release limiter_shape;
#P newex 461 324 70 196617 prepend mode;
#P outlet 502 423 15 0;
#P inlet 215 46 15 0;
#P outlet 122 423 15 0;
#P outlet 72 423 15 0;
#P inlet 172 46 15 0;
#P inlet 72 46 15 0;
#P newex 72 369 110 196617 blue.limiter~ @bypass_dcblocker 1;
#P connect 1 0 0 0;
#P connect 7 0 0 0;
#P connect 9 0 0 0;
#P connect 10 0 0 0;
#P connect 11 0 0 0;
#P connect 12 0 0 0;
#P connect 13 0 0 0;
#P connect 14 0 0 0;
#P connect 0 0 3 0;
#P connect 0 1 4 0;
#P connect 2 0 0 1;
#P connect 5 0 8 0;
#P connect 8 0 15 0;
#P connect 15 0 9 0;
#P connect 8 1 10 0;
#P connect 8 2 11 0;
#P connect 8 3 12 0;
#P connect 8 4 13 0;
#P connect 8 5 14 0;
#P connect 8 6 7 0;
#P connect 8 7 6 0;
#P pop;
#P newobj 150 174 156 196617 p limiter;
#N vpatcher 611 367 1211 767;
#P window setfont "Sans Serif" 9.;
#P newex 407 121 30 196617 == 0;
#P newex 266 121 120 196617 expr 1./(1. - $f1*0.01);
#P outlet 136 278 15 0;
#P outlet 172 278 15 0;
#P inlet 208 50 15 0;
#P inlet 136 50 15 0;
#P newex 266 151 92 196617 prepend overdrive;
#P outlet 548 278 15 0;
#P newex 407 150 78 196617 prepend bypass;
#P newex 266 94 292 196617 route saturation_depth saturation;
#P inlet 266 50 15 0;
#P newex 136 237 82 196617 blue.saturation~;
#P connect 5 0 0 0;
#P connect 3 0 0 0;
#P connect 6 0 0 0;
#P connect 0 0 9 0;
#P connect 0 1 8 0;
#P connect 7 0 0 1;
#P connect 1 0 2 0;
#P connect 2 0 10 0;
#P connect 10 0 5 0;
#P connect 2 1 11 0;
#P connect 11 0 3 0;
#P connect 2 2 4 0;
#P pop;
#P newobj 150 145 157 196617 p saturation;
#P inlet 55 56 15 0;
#P inlet 223 112 15 0;
#P inlet 150 112 15 0;
#N vpatcher 480 147 923 501;
#P window setfont "Sans Serif" 9.;
#P comment 74 301 202 196617 NOTE: This fade is not displayed in the GUI.;
#P comment 74 84 145 196617 Quick fade in when audio start;
#P inlet 329 58 15 0;
#P inlet 264 58 15 0;
#P outlet 296 272 15 0;
#P outlet 264 272 15 0;
#P newex 264 231 75 196617 matrix~ 2 2 0.;
#P message 106 198 75 196617 0 0 \$1 \, 1 1 \$1;
#P newex 106 162 60 196617 unpack 0 0.;
#P message 191 198 45 196617 ramp \$1;
#P newex 191 162 21 196617 t 0;
#P newex 106 122 84 196617 r jmod.dsptoggle;
#P comment 74 68 145 196617 Quick fade out when audio stop;
#P connect 1 0 4 0;
#P connect 4 0 5 0;
#P connect 1 0 2 0;
#P connect 2 0 3 0;
#P connect 4 1 3 0;
#P connect 3 0 6 0;
#P connect 5 0 6 0;
#P connect 9 0 6 0;
#P connect 6 0 7 0;
#P connect 6 1 8 0;
#P connect 10 0 6 1;
#P pop;
#P newobj 150 266 83 196617 p smooth_in_out;
#N vpatcher 759 82 1072 489;
#P outlet 246 318 15 0;
#P inlet 177 42 15 0;
#P outlet 64 318 15 0;
#P outlet 93 318 15 0;
#P inlet 64 44 15 0;
#P inlet 93 44 15 0;
#P window setfont "Sans Serif" 9.;
#P newex 177 78 79 196617 route gain_midi;
#P user gain~ 64 130 24 100 158 0 1.071519 7.94321 10.;
#P user gain~ 93 131 24 100 158 0 1.071519 7.94321 10.;
#P connect 2 0 1 0;
#P connect 4 0 1 0;
#P connect 1 0 6 0;
#P connect 3 0 0 0;
#P connect 2 0 0 0;
#P connect 0 0 5 0;
#P connect 7 0 2 0;
#P connect 2 1 8 0;
#P pop;
#P newobj 150 203 156 196617 p gain;
#N vpatcher 509 398 1109 798;
#P origin 0 80;
#P window setfont "Sans Serif" 9.;
#P newex 423 113 90 196617 r $0_xxx_record;
#B color 14;
#P newex 423 142 31 196617 sel 1;
#P newex 423 165 35 196617 t open;
#P newex 242 120 138 196617 jmod.pass filetype samptype;
#P inlet 242 91 15 0;
#P inlet 80 91 15 0;
#P inlet 153 91 15 0;
#P newex 80 278 83 196617 sfrecord~ 2;
#P connect 7 0 0 0;
#P connect 2 0 0 0;
#P connect 4 0 0 0;
#P connect 4 1 0 0;
#P connect 5 0 0 0;
#P connect 1 0 0 1;
#P connect 3 0 4 0;
#P connect 7 0 6 0;
#P connect 6 0 5 0;
#P pop;
#P newobj 328 342 157 196617 p record;
#P connect 2 0 9 0;
#P connect 2 1 10 0;
#P connect 3 0 6 0;
#P connect 6 0 7 0;
#P connect 7 0 1 0;
#P connect 1 0 2 0;
#P connect 2 0 8 0;
#P connect 4 0 6 1;
#P connect 6 1 7 1;
#P connect 7 1 1 1;
#P connect 1 1 2 1;
#P connect 2 1 8 1;
#P fasten 5 0 6 2 60 84 301 84;
#P connect 6 2 7 2;
#P connect 7 2 1 2;
#P connect 1 2 8 2;
#P connect 2 0 0 0;
#P connect 2 1 0 1;
#P connect 1 2 0 2;
#P pop;
#P hidden newobj 113 378 95 196617 p Sound_processing;
#P hidden newex 321 654 93 196617 pvar RecordButton;
#B color 7;
#P hidden newex 187 175 81 196617 pattrstorage @autorestore 0 @savemode 0;
#X client_rect 54 290 488 814;
#X storage_rect 0 0 640 240;
#P objectname jmod.output~;
#P user fpic 26 18 160 52 jmod.bg.hgain.pct 0 0 0 0. 0 0 0;
#P hidden comment 32 153 79 196617 command input;
#P hidden outlet 9 232 15 0;
#P hidden inlet 9 154 15 0;
#P window setfont "Sans Serif" 12.;
#P hidden comment 627 41 210 196620 All communication with interface is done using pvar;
#B color 7;
#P window setfont "Sans Serif" 9.;
#P hidden comment 298 151 202 196617 The set message is important to prevent feedback into jmod.parameter.gain from killing ongoing ramps;
#P hidden comment 149 332 100 196617 -- audio in --;
#P comment 262 26 60 196617 Saturation;
#B frgb 198 198 198;
#P toggle 325 24 15 0;
#P objectname SaturationToggle;
#P user panel 255 18 252 34;
#X brgb 0 0 0;
#X frgb 0 0 0;
#X border 0;
#X rounded 0;
#X shadow 0;
#X done;
#P user panel 255 87 252 34;
#X brgb 0 0 0;
#X frgb 0 0 0;
#X border 0;
#X rounded 0;
#X shadow 0;
#X done;
#P user panel 255 52 252 35;
#X brgb 83 83 83;
#X frgb 0 0 0;
#X border 0;
#X rounded 0;
#X shadow 0;
#X done;
#P bpatcher 0 0 510 121 0 0 jmod.gui.mxt 0 $0_;
#P objectname jmod.gui.mxt;
#P hidden fasten 21 0 18 0 13 444 13 444;
#P hidden fasten 22 0 18 0 52 444 13 444;
#P hidden fasten 23 0 18 0 90 444 13 444;
#P hidden connect 9 0 91 0;
#P hidden connect 91 0 10 0;
#P hidden connect 15 0 79 0;
#P hidden connect 15 1 78 0;
#P hidden connect 91 1 15 0;
#P hidden connect 44 0 15 1;
#P lcolor 6;
#P hidden connect 13 0 91 1;
#P hidden connect 91 2 13 0;
#P hidden connect 45 0 15 2;
#P lcolor 6;
#P hidden fasten 37 0 41 0 326 258 316 258 316 193 326 193;
#P hidden connect 41 0 38 0;
#P hidden connect 38 0 37 0;
#P hidden fasten 29 0 27 0 326 341 316 341 316 297 326 297;
#P hidden connect 27 0 29 0;
#P hidden fasten 30 0 28 0 326 400 316 400 316 355 326 355;
#P hidden connect 28 0 30 0;
#P hidden connect 32 0 33 0;
#P hidden connect 33 0 31 0;
#P hidden connect 49 0 47 0;
#P hidden fasten 50 0 47 0 326 580 314 580 314 528 326 528;
#P hidden fasten 47 1 50 0 417 555 326 555;
#P hidden fasten 51 0 52 0 326 640 314 640 314 593 326 593;
#P hidden fasten 52 1 51 0 425 617 326 617;
#P hidden connect 92 0 14 0;
#P hidden connect 14 0 89 0;
#P hidden connect 38 0 40 0;
#P hidden connect 29 0 43 0;
#P hidden connect 14 0 16 0;
#P hidden connect 30 0 42 0;
#P hidden connect 14 0 92 0;
#P hidden connect 69 0 82 0;
#P hidden connect 65 0 72 0;
#P hidden connect 66 0 73 0;
#P hidden connect 68 0 75 0;
#P hidden fasten 56 0 57 0 619 174 609 174 609 126 619 126;
#P hidden connect 57 0 56 0;
#P hidden fasten 59 0 58 0 619 227 609 227 609 181 619 181;
#P hidden connect 58 0 59 0;
#P hidden fasten 76 0 81 0 621 308 610 308 610 268 621 268;
#P hidden connect 81 0 76 0;
#P hidden fasten 64 0 86 0 621 370 610 370 610 324 621 324;
#P hidden connect 86 0 64 0;
#P hidden connect 72 0 65 0;
#P hidden connect 73 0 66 0;
#P hidden fasten 67 0 83 0 621 477 611 477 611 433 621 433;
#P hidden connect 83 0 67 0;
#P hidden connect 75 0 68 0;
#P hidden connect 82 1 69 0;
#P pop;
