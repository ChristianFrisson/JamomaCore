max v2;#N vpatcher 142 48 1157 691;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P newex 31 385 47 196617 pcontrol;#N vpatcher 53 89 653 489;#P outlet 140 109 15 0;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 50 74 37 196617 t open;#P window linecount 1;#P newex 50 50 100 196617 sel /open_inspector;#P inlet 50 30 15 0;#P outlet 50 109 15 0;#P connect 1 0 2 0;#P connect 2 0 3 0;#P connect 3 0 0 0;#P connect 2 1 4 0;#P pop;#P newobj 31 364 83 196617 p inspector_ctrl;#N vpatcher 76 59 329 517;#P origin 0 76;#P window setfont "Sans Serif" 9.;#P window linecount 3;#P comment 33 77 192 196617 This is useful for experimenting with unusual setups and mathematical methods.;#B frgb 172 172 172;#P window linecount 4;#P comment 33 24 193 196617 Other formulas than the symetrical decoding formula used by default \, can be used by setting coefficients separately for each ambisonic channel.;#B frgb 172 172 172;#P window linecount 1;#P comment 48 416 54 196617 Q - third;#B frgb 172 172 172;#P comment 48 397 54 196617 P - third;#B frgb 172 172 172;#P comment 48 378 54 196617 O - third;#B frgb 172 172 172;#P comment 48 359 54 196617 N - third;#B frgb 172 172 172;#P comment 48 340 56 196617 M - third;#B frgb 172 172 172;#P comment 48 321 53 196617 L - third;#B frgb 172 172 172;#P comment 48 302 54 196617 K - third;#B frgb 172 172 172;#P comment 48 283 62 196617 V - second;#B frgb 172 172 172;#P comment 48 264 62 196617 U - second;#B frgb 172 172 172;#P comment 48 245 62 196617 T - second;#B frgb 172 172 172;#P comment 48 226 62 196617 S - second;#B frgb 172 172 172;#P comment 48 207 66 196617 R - second;#B frgb 172 172 172;#P comment 48 188 52 196617 Z - first;#B frgb 172 172 172;#P comment 48 169 53 196617 Y - first;#B frgb 172 172 172;#P comment 48 131 55 196617 W - omni;#B frgb 172 172 172;#P hidden newex 63 470 88 196617 bgcolor 35 35 35;#P window linecount 0;#P hidden newex 240 488 384 196617 jmod.parameter $0_ /setcoeffs @type msg_list @description "Other formulas than the symetrical decoding formula used by default\\\, can be used by setting coefficients separately for each ambisonic channel. This is useful for experimenting with unusual setups and mathematical methods. To do so\\\, provide a list of 16 coefficients for omni (W)\\\, first (X-Z)\\\, second (R-U) and third (K-Q).";#P objectname jmod.parameter;#P hidden message 240 612 54 196617 \$1 set \$2;#P hidden newex 240 590 52 196617 listfunnel;#P hidden newex 240 568 51 196617 route set;#P window linecount 1;#P hidden newex 240 463 217 196617 pak 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0. 0.;#P window linecount 0;#P hidden newex 249 76 222 196617 route 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;#P flonum 118 414 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 395 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 376 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 357 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 338 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 319 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 300 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 281 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 262 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 243 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 224 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 205 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 186 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 167 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 148 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P flonum 118 129 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P hidden newex 472 226 204 196617 jmod.oscroute /omni /first /second /third;#P hidden inlet 472 198 15 0;#P comment 48 150 53 196617 X - first;#B frgb 172 172 172;#P hidden connect 19 0 3 0;#P hidden connect 19 1 4 0;#P hidden connect 19 2 5 0;#P hidden connect 19 3 6 0;#P hidden connect 19 4 7 0;#P hidden connect 19 5 8 0;#P hidden connect 19 6 9 0;#P hidden connect 19 7 10 0;#P hidden connect 19 8 11 0;#P hidden connect 19 9 12 0;#P hidden connect 19 10 13 0;#P hidden connect 19 11 14 0;#P hidden connect 19 12 15 0;#P hidden connect 19 13 16 0;#P hidden connect 19 14 17 0;#P hidden connect 19 15 18 0;#P hidden connect 3 0 20 0;#P hidden connect 2 0 20 0;#P hidden connect 20 0 24 0;#P hidden connect 24 0 21 0;#P hidden connect 21 0 22 0;#P hidden connect 22 0 23 0;#P hidden fasten 23 0 19 0 245 650 822 650 822 67 254 67;#P hidden connect 4 0 20 1;#P hidden connect 2 1 20 1;#P hidden connect 5 0 20 2;#P hidden connect 2 1 20 2;#P hidden connect 6 0 20 3;#P hidden connect 2 1 20 3;#P hidden connect 2 2 20 4;#P hidden connect 7 0 20 4;#P hidden connect 8 0 20 5;#P hidden connect 2 2 20 5;#P hidden connect 9 0 20 6;#P hidden connect 2 2 20 6;#P hidden connect 10 0 20 7;#P hidden connect 2 2 20 7;#P hidden connect 11 0 20 8;#P hidden connect 2 2 20 8;#P hidden connect 2 3 20 9;#P hidden connect 12 0 20 9;#P hidden connect 13 0 20 10;#P hidden connect 2 3 20 10;#P hidden connect 14 0 20 11;#P hidden connect 2 3 20 11;#P hidden connect 15 0 20 12;#P hidden connect 2 3 20 12;#P hidden connect 16 0 20 13;#P hidden connect 2 3 20 13;#P hidden connect 17 0 20 14;#P hidden connect 2 3 20 14;#P hidden connect 18 0 20 15;#P hidden connect 2 3 20 15;#P hidden connect 1 0 2 0;#P pop;#P newobj 31 413 102 196617 p "i - ambi.decode~";#P objectname "decode~ inspector";#P message 98 121 50 196617 /autodoc;#P newex 80 251 84 196617 jmod.pass open;#P newex 80 276 47 196617 pcontrol;#N vpatcher 38 82 638 482;#P outlet 233 293 15 0;#P inlet 61 61 15 0;#P user gain~ 233 150 24 100 158 0 1.071519 7.94321 10.;#P inlet 233 74 15 0;#P window setfont "Sans Serif" 9.;#P newex 61 117 126 196617 jmod.oscroute /gain/midi;#P connect 3 0 0 0;#P connect 1 0 2 0;#P connect 0 0 2 0;#P connect 2 0 4 0;#P pop;#P newobj 154 412 74 196617 p display_gain;#P window linecount 2;#P hidden newex 557 522 274 196617 jmod.message.mxt $0_ /aed @type msg_list @description "index\\\, azimuth\\\, elevation\\\, distance for one speaker.";#P window linecount 1;#P hidden newex 557 423 58 196617 pvar Third;#P window linecount 2;#P hidden newex 557 445 360 196617 jmod.parameter.mxt $0_ /third @type msg_float @ramp 0 @repetitions 0 @range 0. 2. @clipmode both @description "Zeroth order weight (KLMNOPQ).";#P objectname jmod.parameter[5];#P window linecount 1;#P hidden newex 557 359 65 196617 pvar Second;#P window linecount 2;#P hidden newex 557 381 355 196617 jmod.parameter.mxt $0_ /second @type msg_float @ramp 0 @repetitions 0 @range 0. 2. @clipmode both @description "Zeroth order weight (RSTUV).";#P objectname jmod.parameter[4];#P window linecount 1;#P hidden newex 557 295 56 196617 pvar First;#P window linecount 2;#P hidden newex 557 317 343 196617 jmod.parameter.mxt $0_ /first @type msg_float @ramp 0 @repetitions 0 @range 0. 2. @clipmode both @description "Zeroth order weight (XYZ).";#P objectname jmod.parameter[3];#P window linecount 1;#P hidden newex 557 231 56 196617 pvar Omni;#P window linecount 2;#P hidden newex 557 253 337 196617 jmod.parameter.mxt $0_ /omni @type msg_float @ramp 0 @repetitions 0 @range 0. 2. @clipmode both @description "Zeroth order weight (W).";#P objectname jmod.parameter[2];#P number 45 39 35 9 1 24 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname Order;#P flonum 125 39 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname First;#P flonum 205 39 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname Third;#P flonum 205 21 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname Second;#P window linecount 1;#P comment 173 41 31 196617 3rd;#B frgb 172 172 172;#P comment 173 23 31 196617 2nd;#B frgb 172 172 172;#P comment 88 41 37 196617 1st;#B frgb 172 172 172;#P comment 88 23 37 196617 Omni;#B frgb 172 172 172;#P comment 3 41 41 196617 Order;#B frgb 172 172 172;#N comlet Channel 16;#P hidden outlet 491 438 13 0;#N comlet Channel 15;#P hidden outlet 476 438 13 0;#N comlet Channel 14;#P hidden outlet 461 438 13 0;#N comlet Channel 13;#P hidden outlet 446 438 13 0;#N comlet Channel 12;#P hidden outlet 431 438 13 0;#N comlet Channel 11;#P hidden outlet 416 438 13 0;#N comlet Channel 10;#P hidden outlet 401 438 13 0;#N comlet Channel 9;#P hidden outlet 386 438 13 0;#N comlet Channel 8;#P hidden outlet 371 438 13 0;#N comlet Channel 7;#P hidden outlet 356 438 13 0;#N comlet Channel 6;#P hidden outlet 341 438 13 0;#N comlet Channel 5;#P hidden outlet 326 438 13 0;#N comlet Channel 4;#P hidden outlet 311 438 13 0;#N comlet Channel 3;#P hidden outlet 296 438 13 0;#N comlet Channel 2;#P hidden outlet 281 438 13 0;#N comlet Channel 1;#P hidden outlet 266 438 13 0;#N comlet Q - third;#P hidden inlet 490 316 13 0;#N comlet P - third;#P hidden inlet 476 316 13 0;#N comlet O - third;#P hidden inlet 462 316 13 0;#N comlet N - third;#P hidden inlet 448 316 13 0;#N comlet M - third;#P hidden inlet 434 316 13 0;#N comlet L - third;#P hidden inlet 420 316 13 0;#N comlet K - third;#P hidden inlet 406 316 13 0;#N comlet V - second;#P hidden inlet 392 316 13 0;#N comlet U - second;#P hidden inlet 378 316 13 0;#N comlet T - second;#P hidden inlet 364 316 13 0;#N comlet S - second;#P hidden inlet 350 316 13 0;#N comlet R - second;#P hidden inlet 336 316 13 0;#N comlet Z - first;#P hidden inlet 322 316 13 0;#N comlet Y - first;#P hidden inlet 308 316 13 0;#N comlet X - first;#P hidden inlet 294 316 13 0;#N comlet W - omni;#P hidden inlet 280 316 13 0;#P hidden comment 340 293 105 196617 ----signal inputs----;#P message 154 336 20 196617 \$2;#P newex 154 313 59 196617 route mute;#P newex 154 356 38 196617 mute~;#P hidden newex 266 398 234 196617 jmod.ambi.decode~.alg;#P window linecount 2;#P message 28 528 65 196617 \; max refresh;#P window linecount 1;#P hidden newex 557 144 60 196617 pvar Order;#P window linecount 8;#P newex 0 140 171 196617 jmod.hub $0_ jmod.ambi.decode~ @size 1U-half @module_type audio.ambisonic @inspector 1 @num_inputs 16 @num_outputs 16 @description "Decoding ambisonic signal to multispeaker setup. <br>NOTE: The positions of the speakers are not maintained by this module.";#P objectname jmod.hub;#P window linecount 1;#P comment 14 121 79 196617 command input;#P inlet 0 121 13 0;#P window linecount 2;#P message 28 496 72 196617 \; jmod.init bang;#P window linecount 3;#P newex 176 140 79 196617 pattrstorage @autorestore 0 @savemode 0;#X client_rect 34 59 714 575;#X storage_rect 0 0 640 240;#P objectname jmod.ambi.decode~;#P flonum 125 21 40 9 0. 1. 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname Omni;#P hidden newex 557 166 332 196617 jmod.parameter.mxt $0_ /order @type msg_int @ramp 0 @repetitions 0 @range 1 3 @clipmode both @description "Order of decoding for ambisonic signal.  Changes only take effect when audio is off.";#P objectname jmod.parameter[1];#P window linecount 1;#P comment 3 23 41 196617 Voices;#B frgb 172 172 172;#P number 45 21 35 9 1 24 8227 3 198 198 198 221 221 221 222 222 222 0 0 0;#P objectname Voices;#P outlet 0 246 13 0;#P hidden comment 340 456 101 196617 ---signal outputs---;#P hidden newex 557 48 63 196617 pvar Voices;#P window linecount 3;#P hidden newex 557 73 365 196617 jmod.parameter.mxt $0_ /voices @type msg_int @ramp 0 @repetitions 0 @range 1 16 @clipmode both @description "The number of audio channels that the ambisonic signal is diffused to. Changes only take effect when audio is off.";#P objectname jmod.parameter;#P bpatcher 0 0 255 60 0 0 jmod.gui.mxt 0 $0_;#P objectname jmod.gui.1Uh.a.stereo.mxt;#P hidden fasten 71 0 0 0 159 477 530 477 530 -5 5 -5;#P fasten 74 0 13 0 103 138 5 138;#P connect 11 0 13 0;#P connect 13 0 4 0;#P fasten 13 1 76 0 85 246 36 246;#P connect 76 0 77 0;#P connect 77 0 75 0;#P fasten 76 1 75 0 109 408 36 408;#P connect 13 1 73 0;#P connect 73 0 72 0;#P connect 73 1 18 0;#P connect 18 0 19 0;#P connect 19 0 17 0;#P connect 17 0 71 0;#P connect 9 0 13 1;#P connect 13 2 9 0;#P connect 21 0 71 1;#P hidden connect 17 0 16 0;#P hidden connect 18 1 16 0;#P fasten 72 0 16 0 85 300 271 300;#P hidden connect 16 0 37 0;#P hidden connect 21 0 16 1;#P hidden connect 16 1 38 0;#P hidden connect 22 0 16 2;#P hidden connect 16 2 39 0;#P hidden connect 23 0 16 3;#P hidden connect 16 3 40 0;#P hidden connect 24 0 16 4;#P hidden connect 16 4 41 0;#P hidden connect 25 0 16 5;#P hidden connect 16 5 42 0;#P hidden connect 26 0 16 6;#P hidden connect 16 6 43 0;#P hidden connect 27 0 16 7;#P hidden connect 16 7 44 0;#P hidden connect 28 0 16 8;#P hidden connect 16 8 45 0;#P hidden connect 29 0 16 9;#P hidden connect 16 9 46 0;#P hidden connect 30 0 16 10;#P hidden connect 16 10 47 0;#P hidden connect 31 0 16 11;#P hidden connect 16 11 48 0;#P hidden connect 32 0 16 12;#P hidden connect 16 12 49 0;#P hidden connect 33 0 16 13;#P hidden connect 16 13 50 0;#P hidden connect 34 0 16 14;#P hidden connect 35 0 16 15;#P hidden connect 16 14 51 0;#P hidden connect 36 0 16 16;#P hidden connect 16 15 52 0;#P hidden fasten 1 0 2 0 562 118 552 118 552 41 562 41;#P hidden connect 2 0 1 0;#P hidden fasten 7 0 14 0 562 210 552 210 552 140 562 140;#P hidden connect 14 0 7 0;#P hidden fasten 62 0 63 0 562 286 552 286 552 227 562 227;#P hidden connect 63 0 62 0;#P hidden fasten 64 0 65 0 562 350 552 350 552 291 562 291;#P hidden connect 65 0 64 0;#P hidden fasten 66 0 67 0 562 414 552 414 552 355 562 355;#P hidden connect 67 0 66 0;#P hidden fasten 68 0 69 0 562 478 552 478 552 419 562 419;#P hidden connect 69 0 68 0;#P pop;