max v2;#N vpatcher 130 44 1013 783;#P origin -179 -173;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P hidden message 254 174 125 196617 /preset/store 1 default;#B color 3;#P hidden newex 161 379 57 196617 jcom.out;#P hidden newex 193 326 139 196617 jcom.in 3;#P hidden newex 227 416 50 196617 pvar key;#P number 66 73 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname mask;#P number 67 56 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname target;#P number 67 38 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname key;#P hidden newex 227 435 106 196617 switch 3;#P hidden inlet 323 307 13 0;#P window linecount 2;#P hidden newex 482 609 313 196617 jcom.parameter key/blue @repetitions 0 @type msg_float @range 0. 1. @description "blue level of the chromakey";#P objectname key/blue;#P window linecount 1;#P hidden newex 482 581 40 196617 pvar B;#P window linecount 2;#P hidden newex 482 531 320 196617 jcom.parameter key/green @repetitions 0 @type msg_float @range 0. 1. @description "green level of the chromakey";#P objectname key/green;#P window linecount 1;#P hidden newex 482 503 40 196617 pvar G;#P window linecount 2;#P hidden newex 482 450 310 196617 jcom.parameter key/red @repetitions 0 @type msg_float @range 0. 1. @description "red level of the chromakey";#P objectname key/red;#P window linecount 1;#P hidden newex 482 422 40 196617 pvar R;#P hidden newex 277 558 40 196617 pvar B;#P hidden newex 236 558 40 196617 pvar G;#P hidden newex 195 558 40 196617 pvar R;#P hidden newex 195 484 57 196617 pvar color;#P hidden newex 195 531 93 196617 unpack 0. 0. 0.;#P hidden newex 195 508 77 196617 vexpr $i1/255.;#P toggle 69 91 15 0;#P objectname alphaignore;#P flonum 156 53 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname B;#P flonum 157 36 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname G;#P flonum 155 19 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname R;#P comment 139 55 13 196617 B;#B frgb 255 255 255;#P comment 140 38 13 196617 G;#B frgb 255 255 255;#P comment 140 21 13 196617 R;#B frgb 255 255 255;#P comment 0 91 65 196617 Mode :;#B frgb 255 255 255;#P comment 1 73 65 196617 Mask :;#B frgb 255 255 255;#P comment 0 56 65 196617 Target :;#B frgb 255 255 255;#P comment 0 39 65 196617 Key :;#B frgb 255 255 255;#P hidden newex 482 354 85 196617 pvar alphaignore;#P window linecount 2;#P hidden newex 482 374 299 196617 jcom.parameter mode @repetitions 0 @type msg_toggle @range 0 1 @description "keying mode";#P objectname mode;#P window linecount 1;#P hidden newex 482 285 57 196617 pvar mask;#P window linecount 2;#P hidden newex 482 307 294 196617 jcom.parameter mask @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as mask";#P objectname mask[1];#P window linecount 1;#P hidden newex 482 218 62 196617 pvar target;#P window linecount 2;#P hidden newex 482 238 294 196617 jcom.parameter target @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as target";#P objectname target[1];#P window linecount 1;#P hidden newex 483 129 50 196617 pvar key;#P window linecount 3;#P hidden newex 483 149 263 196617 jcom.parameter key @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as key";#P objectname key[1];#P hidden inlet 256 306 13 0;#P user swatch 125 84 129 33;#P objectname color;#P user suckah 196 19 62 41;#P window linecount 2;#P hidden message 34 306 65 196617 \; max refresh;#P window linecount 1;#P comment 1 22 65 196617 Tolerance :;#B frgb 255 255 255;#P hidden newex 483 59 46 196617 pvar tol;#P window linecount 2;#P hidden newex 483 81 338 196617 jcom.parameter tolerance @repetitions 0 @type msg_float @range 0. 1. @clipmode both @description "Tolerance of the chromakey";#P objectname tolerance;#P window linecount 1;#P hidden message 113 173 125 196617 /documentation/generate;#B color 3;#P window linecount 3;#P hidden newex 7 195 306 196617 jcom.hub jmod.keyscreen% @size 2U-half @module_type video @algorithm_type jitter @description "Choke chromakey 3 sources";#P objectname jcom.hub;#P window linecount 1;#P hidden comment 176 400 75 196617 VIDEO OUTPUT;#P hidden outlet 161 400 13 0;#P hidden inlet 193 307 13 0;#P hidden comment 197 292 70 196617 VIDEO INPUTs;#P hidden newex 161 359 106 196617 jalg.keyscreen%.mxt;#P window linecount 2;#P hidden message 34 271 72 196617 \; jcom.init bang;#P window linecount 1;#P hidden comment 21 170 79 196617 command input;#P hidden outlet 7 257 13 0;#P hidden inlet 7 170 13 0;#P flonum 68 21 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname tol;#P bpatcher 1 0 255 119 0 0 jcom.gui.mxt 0 $0_;#P objectname jcom.gui.1Uh.v.mxb;#P hidden fasten 59 0 11 0 259 192 12 192;#P hidden connect 2 0 11 0;#P hidden fasten 12 0 11 0 118 192 12 192;#P hidden connect 11 0 3 0;#P hidden fasten 17 0 18 0 201 82 130 82;#P hidden connect 57 3 6 0;#P hidden connect 6 0 58 0;#P hidden connect 58 0 9 0;#P hidden connect 8 0 57 0;#P hidden connect 57 0 6 1;#P hidden connect 41 0 39 0;#P hidden connect 39 0 40 0;#P hidden connect 40 0 42 0;#P hidden connect 57 1 6 2;#P hidden connect 56 0 52 0;#P hidden connect 40 1 43 0;#P hidden connect 19 0 57 1;#P hidden connect 57 2 6 3;#P hidden connect 8 0 52 1;#P hidden connect 40 2 44 0;#P hidden connect 19 0 52 2;#P hidden connect 51 0 57 2;#P hidden connect 51 0 52 3;#P hidden fasten 22 0 23 0 487 271 475 271 475 213 487 213;#P hidden connect 23 0 22 0;#P hidden fasten 24 0 25 0 487 340 475 340 475 282 487 282;#P hidden connect 25 0 24 0;#P hidden fasten 26 0 27 0 487 407 475 407 475 349 487 349;#P hidden connect 27 0 26 0;#P hidden fasten 46 0 45 0 487 484 472 484 472 418 487 418;#P hidden connect 45 0 46 0;#P hidden fasten 48 0 47 0 487 565 472 565 472 499 487 499;#P hidden connect 47 0 48 0;#P hidden fasten 50 0 49 0 487 643 471 643 471 577 487 577;#P hidden connect 49 0 50 0;#P hidden fasten 13 0 14 0 488 116 476 116 476 54 488 54;#P hidden connect 14 0 13 0;#P hidden fasten 20 0 21 0 488 193 476 193 476 124 488 124;#P hidden connect 21 0 20 0;#P pop;