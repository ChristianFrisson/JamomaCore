max v2;#N vpatcher 598 68 1470 688;#P origin -116 -75;#P window setfont "Sans Serif" 9.;#P window linecount 1;#P hidden newex 286 323 50 196617 pvar key;#P number 67 73 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname mask;#P number 68 56 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname target;#P number 68 38 35 9 0 0 8288 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname key;#P hidden newex 311 348 53 196617 switch 3;#P hidden inlet 290 257 13 0;#P window linecount 2;#P hidden newex 485 589 313 196617 jmod.parameter.mxt $0_ /key/blue @repetitions 0 @type msg_float @range 0. 1. @description "blue level of the chromakey";#P objectname jmod.parameter.mxt[7];#P window linecount 1;#P hidden newex 484 561 40 196617 pvar B;#P window linecount 2;#P hidden newex 492 511 320 196617 jmod.parameter.mxt $0_ /key/green @repetitions 0 @type msg_float @range 0. 1. @description "green level of the chromakey";#P objectname jmod.parameter.mxt[6];#P window linecount 1;#P hidden newex 491 483 40 196617 pvar G;#P window linecount 2;#P hidden newex 500 430 310 196617 jmod.parameter.mxt $0_ /key/red @repetitions 0 @type msg_float @range 0. 1. @description "red level of the chromakey";#P objectname jmod.parameter.mxt[5];#P window linecount 1;#P hidden newex 499 402 40 196617 pvar R;#P hidden newex 293 558 40 196617 pvar B;#P hidden newex 238 558 40 196617 pvar G;#P hidden newex 194 558 40 196617 pvar R;#P hidden newex 196 484 57 196617 pvar color;#P hidden newex 194 531 93 196617 unpack 0. 0. 0.;#P hidden newex 194 508 77 196617 vexpr $i1/255.;#P toggle 70 91 15 0;#P objectname alphaignore;#P flonum 157 53 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname B;#P flonum 158 36 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname G;#P flonum 156 19 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname R;#P comment 140 55 13 196617 B;#B frgb 255 255 255;#P comment 141 38 13 196617 G;#B frgb 255 255 255;#P comment 141 21 13 196617 R;#B frgb 255 255 255;#P comment 1 91 65 196617 Mode :;#B frgb 255 255 255;#P comment 2 73 65 196617 Mask :;#B frgb 255 255 255;#P comment 1 56 65 196617 Target :;#B frgb 255 255 255;#P comment 1 39 65 196617 Key :;#B frgb 255 255 255;#P hidden newex 488 334 85 196617 pvar alphaignore;#P window linecount 2;#P hidden newex 488 354 251 196617 jmod.parameter.mxt $0_ /mode @repetitions 0 @type toggle @range 0 1 @description "keying mode";#P objectname jmod.parameter.mxt[4];#P window linecount 1;#P hidden newex 491 265 57 196617 pvar mask;#P window linecount 3;#P hidden newex 491 287 263 196617 jmod.parameter.mxt $0_ /mask @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as mask";#P objectname jmod.parameter.mxt[3];#P window linecount 1;#P hidden newex 489 198 62 196617 pvar target;#P window linecount 3;#P hidden newex 489 218 263 196617 jmod.parameter.mxt $0_ /target @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as target";#P objectname jmod.parameter.mxt[2];#P window linecount 1;#P hidden newex 488 129 50 196617 pvar key;#P window linecount 3;#P hidden newex 488 149 263 196617 jmod.parameter.mxt $0_ /key @repetitions 0 @type msg_int @range 1 3 @clipmode both @description "input used as key";#P objectname jmod.parameter.mxt[1];#P hidden inlet 239 257 13 0;#P user swatch 126 84 129 33;#P objectname color;#P user suckah 195 19 62 41;#P window linecount 1;#P hidden message 148 428 142 196617 /key/blue 0.;#P hidden newex 148 405 57 196617 prepend set;#P window linecount 2;#P hidden message 35 306 65 196617 \; max refresh;#P hidden comment 504 773 324 196617 If you need to send messages to or within the patch \, but it's not required that they be stored or retrieveable \, use jmod.message.;#B color 12;#P window linecount 1;#P hidden comment 485 758 300 196617 jmod.message:;#B color 12;#P window linecount 2;#P hidden comment 504 704 317 196617 Use this for any parameters that you'd like to be able to store and retrieve.;#B color 12;#P window linecount 1;#P hidden comment 485 689 235 196617 jmod.parameter:;#B color 12;#P hidden comment 587 914 241 196617 for html autodoc of module;#B color 12;#P hidden comment 587 869 241 196617 1 (default)/0;#B color 12;#P hidden comment 587 854 241 196617 1/0 (default);#B color 12;#P hidden comment 587 899 241 196617 none \, low \, high \, both (default);#B color 12;#P window linecount 0;#P hidden comment 587 884 241 196617;#B color 12;#P window linecount 1;#P hidden comment 587 839 241 196617 generic (default) \, msg_int \, msg_float \, menu \, toggle;#B color 12;#P hidden comment 504 914 79 196617 @description;#B color 12;#P hidden comment 504 869 79 196617 @repetitions;#B color 12;#P hidden comment 504 854 79 196617 @ramp;#B color 12;#P hidden comment 504 899 79 196617 @clipmode;#B color 12;#P hidden comment 504 884 79 196617 @range;#B color 12;#P hidden comment 504 839 79 196617 @type;#B color 12;#P hidden comment 485 824 235 196617 Attributes for jmod.parameter and jmod.message:;#B color 12;#P comment 2 22 65 196617 Tolerance :;#B frgb 255 255 255;#P hidden newex 484 59 46 196617 pvar tol;#P window linecount 2;#P hidden newex 484 81 338 196617 jmod.parameter.mxt $0_ /tolerance @repetitions 0 @type msg_float @range 0. 1. @clipmode both @description "Tolerance of the chromakey";#P objectname jmod.parameter.mxt;#P window linecount 1;#P hidden message 114 173 125 196617 /documentation/generate;#B color 3;#P window linecount 3;#P hidden newex 8 195 306 196617 jmod.hub $0_ jmod.keyscreen% @size 2U-half @module_type video @algorithm_type jitter @num_inputs 1 @num_outputs 1 @description "Choke chromakey 3 sources";#P objectname jmod.hub;#P window linecount 1;#P hidden comment 190 317 75 196617 VIDEO OUTPUT;#P hidden outlet 175 317 13 0;#P hidden inlet 190 258 13 0;#P hidden comment 211 240 71 196617 VIDEO INPUTs;#P hidden newex 175 276 106 196617 jmod.keyscreen%.alg;#P window linecount 2;#P hidden message 35 271 72 196617 \; jmod.init bang;#P window linecount 1;#P hidden comment 22 170 79 196617 command input;#P hidden outlet 8 257 13 0;#P hidden inlet 8 170 13 0;#P window linecount 3;#P hidden newex 314 195 79 196617 pattrstorage @autorestore 0 @savemode 0;#X client_rect 0 0 640 240;#X storage_rect 0 0 640 240;#P objectname jmod.keyscreen%;#P flonum 69 21 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname tol;#P bpatcher 2 0 255 119 0 0 jmod.gui.mxt 0 $0_;#P objectname jmod.gui.1Uh.v.mxb;#P hidden fasten 72 0 0 0 316 369 415 369 415 -13 7 -13;#P hidden connect 3 0 12 0;#P hidden fasten 13 0 12 0 119 192 13 192;#P hidden connect 12 0 4 0;#P hidden fasten 37 0 38 0 200 82 131 82;#P hidden fasten 12 1 35 0 161 253 153 253;#P hidden connect 35 0 36 0;#P hidden fasten 12 1 7 0 161 257 180 257;#P hidden connect 7 0 10 0;#P hidden connect 61 0 59 0;#P hidden connect 59 0 60 0;#P hidden connect 60 0 62 0;#P hidden connect 9 0 7 1;#P hidden connect 60 1 63 0;#P hidden connect 39 0 7 2;#P hidden connect 71 0 7 3;#P hidden connect 60 2 64 0;#P hidden connect 2 0 12 1;#P hidden connect 76 0 72 0;#P hidden connect 12 2 2 0;#P hidden connect 9 0 72 1;#P hidden connect 39 0 72 2;#P hidden connect 71 0 72 3;#P hidden fasten 14 0 15 0 489 116 477 116 477 54 489 54;#P hidden connect 15 0 14 0;#P hidden fasten 70 0 69 0 490 623 474 623 474 557 489 557;#P hidden connect 69 0 70 0;#P hidden fasten 40 0 41 0 493 182 481 182 481 124 493 124;#P hidden connect 41 0 40 0;#P hidden fasten 46 0 47 0 493 387 481 387 481 329 493 329;#P hidden connect 47 0 46 0;#P hidden fasten 42 0 43 0 494 251 482 251 482 193 494 193;#P hidden connect 43 0 42 0;#P hidden fasten 44 0 45 0 496 320 484 320 484 262 496 262;#P hidden connect 45 0 44 0;#P hidden fasten 68 0 67 0 497 545 481 545 481 479 496 479;#P hidden connect 67 0 68 0;#P hidden fasten 66 0 65 0 505 464 489 464 489 398 504 398;#P hidden connect 65 0 66 0;#P pop;