max v2;#N vpatcher 196 44 1108 751;#P origin -52 -169;#P window setfont "Sans Serif" 9.;#P newex 173 361 49 196617 jcom.out;#P inlet 243 273 13 0;#P inlet 170 274 13 0;#P window linecount 2;#P comment 185 274 65 196617 VIDEO INPUTs;#P window linecount 1;#P newex 170 305 83 196617 jcom.in 2;#P message 241 176 125 196617 /preset/store 1 default;#B color 3;#P window linecount 2;#P newex 485 592 313 196617 jcom.parameter key/blue @repetitions 0 @type msg_float @range 0. 1. @description "blue level of the chromakey";#P objectname key/blue;#P window linecount 1;#P newex 484 564 40 196617 pvar B;#P window linecount 2;#P newex 491 508 320 196617 jcom.parameter key/green @repetitions 0 @type msg_float @range 0. 1. @description "green level of the chromakey";#P objectname key/green;#P window linecount 1;#P newex 491 486 40 196617 pvar G;#P window linecount 2;#P newex 499 433 310 196617 jcom.parameter key/red @repetitions 0 @type msg_float @range 0. 1. @description "red level of the chromakey";#P objectname key/red;#P window linecount 1;#P newex 499 405 40 196617 pvar R;#P newex 293 561 40 196617 pvar B;#P newex 238 561 40 196617 pvar G;#P newex 194 561 40 196617 pvar R;#P newex 196 487 57 196617 pvar color;#P newex 194 534 93 196617 unpack 0. 0. 0.;#P newex 194 511 77 196617 vexpr $i1/255.;#P flonum 69 57 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname minkey;#P toggle 70 94 15 0;#P objectname alphaignore;#P flonum 157 56 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname B;#P flonum 158 39 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname G;#P flonum 156 22 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname R;#P comment 140 58 13 196617 B;#B frgb 255 255 255;#P comment 141 41 13 196617 G;#B frgb 255 255 255;#P comment 141 24 13 196617 R;#B frgb 255 255 255;#P comment 1 94 65 196617 Alpha :;#B frgb 255 255 255;#P comment 2 76 65 196617 Maximum :;#B frgb 255 255 255;#P flonum 69 75 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname maxkey;#P comment 1 59 65 196617 Minimum :;#B frgb 255 255 255;#P comment 1 42 65 196617 Fade :;#B frgb 255 255 255;#P flonum 68 41 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname fade;#P newex 488 337 85 196617 pvar alphaignore;#P window linecount 2;#P newex 488 357 275 196617 jcom.parameter alpha @repetitions 0 @type msg_toggle @range 0. 1. @description "alpha of the chromakey";#P objectname alpha;#P window linecount 1;#P newex 491 270 69 196617 pvar maxkey;#P window linecount 2;#P newex 491 290 311 196617 jcom.parameter maxkey @repetitions 0 @type msg_float @range 0. 10. @description "maxkey of the chromakey";#P objectname maxkey[1];#P window linecount 1;#P newex 489 201 66 196617 pvar minkey;#P window linecount 2;#P newex 489 221 308 196617 jcom.parameter minkey @repetitions 0 @type msg_float @range 0. 10. @description "minkey of the chromakey";#P objectname minkey[1];#P window linecount 1;#P newex 488 132 53 196617 pvar fade;#P window linecount 2;#P newex 488 152 295 196617 jcom.parameter fade @repetitions 0 @type msg_float @range 0. 10. @description "fade of the chromakey";#P objectname fade[1];#P user swatch 126 87 129 33;#P objectname color;#P user suckah 195 22 62 41;#P message 35 309 65 196617 \; max refresh;#P window linecount 1;#P comment 2 25 65 196617 Tolerance :;#B frgb 255 255 255;#P newex 484 62 46 196617 pvar tol;#P window linecount 2;#P newex 484 84 314 196617 jcom.parameter tolerance @repetitions 0 @type msg_float @range 0. 1. @description "Tolerance of the chromakey";#P objectname tolerance;#P window linecount 1;#P message 114 176 125 196617 /documentation/generate;#B color 3;#P window linecount 3;#P newex 8 204 326 196617 jcom.hub jmod.chromakey% @size 2U-half @module_type video @algorithm_type jitter @description "Simple 2-source chromakey : Keying based on chromatic distance";#P objectname jcom.hub;#P window linecount 1;#P comment 188 382 75 196617 VIDEO OUTPUT;#P outlet 173 382 13 0;#P newex 173 341 109 196617 jalg.chromakey%.mxt;#P window linecount 2;#P message 35 274 72 196617 \; jcom.init bang;#P window linecount 1;#P comment 22 173 79 196617 command input;#P outlet 8 260 13 0;#P inlet 8 173 13 0;#P flonum 69 24 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname tol;#P bpatcher 0 0 255 119 0 0 jcom.gui.mxt 0 $0_;#P objectname jcom.gui.1Uh.v.mxb;#P connect 2 0 9 0;#P fasten 10 0 9 0 119 195 13 195;#P fasten 51 0 9 0 246 195 13 195;#P connect 9 0 3 0;#P hidden fasten 15 0 16 0 200 85 131 85;#P connect 54 0 52 0;#P connect 52 2 6 0;#P connect 6 0 56 0;#P connect 56 0 7 0;#P connect 41 0 39 0;#P connect 39 0 40 0;#P connect 40 0 42 0;#P connect 52 0 6 1;#P connect 40 1 43 0;#P connect 55 0 52 1;#P connect 52 1 6 2;#P connect 40 2 44 0;#P fasten 11 0 12 0 489 119 477 119 477 57 489 57;#P connect 12 0 11 0;#P fasten 50 0 49 0 490 626 474 626 474 560 489 560;#P connect 49 0 50 0;#P fasten 17 0 18 0 493 185 481 185 481 127 493 127;#P connect 18 0 17 0;#P fasten 23 0 24 0 493 390 481 390 481 332 493 332;#P connect 24 0 23 0;#P fasten 19 0 20 0 494 254 482 254 482 196 494 196;#P connect 20 0 19 0;#P fasten 21 0 22 0 496 323 484 323 484 265 496 265;#P connect 22 0 21 0;#P fasten 48 0 47 0 496 548 481 548 481 482 496 482;#P connect 47 0 48 0;#P fasten 46 0 45 0 504 467 488 467 488 401 504 401;#P connect 45 0 46 0;#P pop;