max v2;#N vpatcher 315 161 1187 781;#P origin -23 -83;#P window setfont "Sans Serif" 9.;#P window linecount 2;#P newex 485 593 313 196617 jmod.parameter.mxt $0_ /key/blue @repetitions 0 @type msg_float @range 0. 1. @description "blue level of the chromakey";#P objectname jmod.parameter.mxt[7];#P window linecount 1;#P newex 484 565 40 196617 pvar B;#P window linecount 2;#P newex 492 515 320 196617 jmod.parameter.mxt $0_ /key/green @repetitions 0 @type msg_float @range 0. 1. @description "green level of the chromakey";#P objectname jmod.parameter.mxt[6];#P window linecount 1;#P newex 491 487 40 196617 pvar G;#P window linecount 2;#P newex 500 434 310 196617 jmod.parameter.mxt $0_ /key/red @repetitions 0 @type msg_float @range 0. 1. @description "red level of the chromakey";#P objectname jmod.parameter.mxt[5];#P window linecount 1;#P newex 499 406 40 196617 pvar R;#P newex 293 562 40 196617 pvar B;#P newex 238 562 40 196617 pvar G;#P newex 194 562 40 196617 pvar R;#P newex 196 488 57 196617 pvar color;#P newex 194 535 93 196617 unpack 0. 0. 0.;#P newex 194 512 77 196617 vexpr $i1/255.;#P flonum 69 58 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname minkey;#P toggle 70 95 15 0;#P objectname alphaignore;#P flonum 157 57 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname B;#P flonum 158 40 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname G;#P flonum 156 23 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname R;#P comment 140 59 13 196617 B;#B frgb 255 255 255;#P comment 141 42 13 196617 G;#B frgb 255 255 255;#P comment 141 25 13 196617 R;#B frgb 255 255 255;#P comment 1 95 65 196617 Alpha :;#B frgb 255 255 255;#P comment 2 77 65 196617 Maximum :;#B frgb 255 255 255;#P flonum 69 76 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname maxkey;#P comment 1 60 65 196617 Minimum :;#B frgb 255 255 255;#P comment 1 43 65 196617 Fade :;#B frgb 255 255 255;#P flonum 68 42 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname fade;#P newex 488 338 85 196617 pvar alphaignore;#P window linecount 2;#P newex 488 358 275 196617 jmod.parameter.mxt $0_ /alpha @repetitions 0 @type toggle @range 0. 1. @description "alpha of the chromakey";#P objectname jmod.parameter.mxt[4];#P window linecount 1;#P newex 491 271 69 196617 pvar maxkey;#P window linecount 2;#P newex 491 291 311 196617 jmod.parameter.mxt $0_ /maxkey @repetitions 0 @type msg_float @range 0. 10. @description "maxkey of the chromakey";#P objectname jmod.parameter.mxt[3];#P window linecount 1;#P newex 489 202 66 196617 pvar minkey;#P window linecount 2;#P newex 489 222 308 196617 jmod.parameter.mxt $0_ /minkey @repetitions 0 @type msg_float @range 0. 10. @description "minkey of the chromakey";#P objectname jmod.parameter.mxt[2];#P window linecount 1;#P newex 488 133 53 196617 pvar fade;#P window linecount 2;#P newex 488 153 295 196617 jmod.parameter.mxt $0_ /fade @repetitions 0 @type msg_float @range 0. 10. @description "fade of the chromakey";#P objectname jmod.parameter.mxt[1];#P inlet 273 253 13 0;#P user swatch 126 88 129 33;#P objectname color;#P user suckah 195 23 62 41;#P window linecount 1;#P message 148 432 142 196617 /minkey 0.4;#P newex 148 409 57 196617 prepend set;#P window linecount 2;#P message 35 310 65 196617 \; max refresh;#P comment 504 777 324 196617 If you need to send messages to or within the patch \, but it's not required that they be stored or retrieveable \, use jmod.message.;#B color 12;#P window linecount 1;#P comment 485 762 300 196617 jmod.message:;#B color 12;#P window linecount 2;#P comment 504 708 317 196617 Use this for any parameters that you'd like to be able to store and retrieve.;#B color 12;#P window linecount 1;#P comment 485 693 235 196617 jmod.parameter:;#B color 12;#P comment 587 918 241 196617 for html autodoc of module;#B color 12;#P comment 587 873 241 196617 1 (default)/0;#B color 12;#P comment 587 858 241 196617 1/0 (default);#B color 12;#P comment 587 903 241 196617 none \, low \, high \, both (default);#B color 12;#P window linecount 0;#P comment 587 888 241 196617;#B color 12;#P window linecount 1;#P comment 587 843 241 196617 generic (default) \, msg_int \, msg_float \, menu \, toggle;#B color 12;#P comment 504 918 79 196617 @description;#B color 12;#P comment 504 873 79 196617 @repetitions;#B color 12;#P comment 504 858 79 196617 @ramp;#B color 12;#P comment 504 903 79 196617 @clipmode;#B color 12;#P comment 504 888 79 196617 @range;#B color 12;#P comment 504 843 79 196617 @type;#B color 12;#P comment 485 828 235 196617 Attributes for jmod.parameter and jmod.message:;#B color 12;#P comment 2 26 65 196617 Tolerance :;#B frgb 255 255 255;#P newex 484 63 46 196617 pvar tol;#P window linecount 2;#P newex 484 85 314 196617 jmod.parameter.mxt $0_ /tolerance @repetitions 0 @type msg_float @range 0. 1. @description "Tolerance of the chromakey";#P objectname jmod.parameter.mxt;#P window linecount 1;#P message 114 177 125 196617 /documentation/generate;#B color 3;#P window linecount 3;#P newex 8 199 326 196617 jmod.hub $0_ jmod.chromakey% @size 2U-half @module_type video @algorithm_type jitter @num_inputs 3 @num_outputs 1 @description "Simple 2-source chromakey : Keying based on chromatic distance";#P objectname jmod.hub;#P window linecount 1;#P comment 190 321 75 196617 VIDEO OUTPUT;#P outlet 175 321 13 0;#P inlet 224 254 13 0;#P window linecount 2;#P comment 239 254 65 196617 VIDEO INPUTs;#P window linecount 1;#P newex 175 280 109 196617 jmod.chromakey%.alg;#P window linecount 2;#P message 35 275 72 196617 \; jmod.init bang;#P window linecount 1;#P comment 22 174 79 196617 command input;#P outlet 8 261 13 0;#P inlet 8 174 13 0;#P window linecount 3;#P newex 333 199 79 196617 pattrstorage @autorestore 0 @savemode 0;#X client_rect 0 0 640 240;#X storage_rect 0 0 640 240;#P objectname jmod.chromakey%;#P window linecount 1;#P comment 257 280 174 196617 <- substitute for desired algorithm;#B frgb 102 102 204;#P flonum 69 25 35 9 0 0 8224 3 255 255 255 221 221 221 222 222 222 0 0 0;#P objectname tol;#P bpatcher 0 1 255 119 0 0 jmod.gui.mxt 0 $0_;#P objectname jmod.gui.1Uh.v.mxb;#P hidden fasten 8 0 0 0 180 303 448 303 448 17 5 17;#P fasten 14 0 13 0 119 196 13 196;#P connect 4 0 13 0;#P connect 13 0 5 0;#P hidden fasten 38 0 39 0 200 86 131 86;#P fasten 13 1 36 0 171 257 153 257;#P connect 36 0 37 0;#P fasten 13 1 8 0 171 261 180 261;#P connect 8 0 11 0;#P connect 65 0 63 0;#P connect 63 0 64 0;#P connect 64 0 66 0;#P connect 10 0 8 1;#P connect 64 1 67 0;#P connect 40 0 8 2;#P connect 64 2 68 0;#P connect 3 0 13 1;#P connect 13 2 3 0;#P fasten 15 0 16 0 489 120 477 120 477 58 489 58;#P connect 16 0 15 0;#P fasten 74 0 73 0 490 627 474 627 474 561 489 561;#P connect 73 0 74 0;#P fasten 41 0 42 0 493 186 481 186 481 128 493 128;#P connect 42 0 41 0;#P fasten 47 0 48 0 493 391 481 391 481 333 493 333;#P connect 48 0 47 0;#P fasten 43 0 44 0 494 255 482 255 482 197 494 197;#P connect 44 0 43 0;#P fasten 45 0 46 0 496 324 484 324 484 266 496 266;#P connect 46 0 45 0;#P fasten 72 0 71 0 497 549 481 549 481 483 496 483;#P connect 71 0 72 0;#P fasten 70 0 69 0 505 468 489 468 489 402 504 402;#P connect 69 0 70 0;#P pop;