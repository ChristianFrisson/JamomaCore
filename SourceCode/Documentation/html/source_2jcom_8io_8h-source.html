<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Jamoma: /Users/tim/dev/Jamoma/SourceCode/Framework/source/jcom.io.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>/Users/tim/dev/Jamoma/SourceCode/Framework/source/jcom.io.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment"> * jcom.io.h</span>
<a name="l00003"></a>00003 <span class="comment"> * shared code for jcom.in and jcom.out objects</span>
<a name="l00004"></a>00004 <span class="comment"> * By Tim Place, Copyright ï¿½ 2006</span>
<a name="l00005"></a>00005 <span class="comment"> * </span>
<a name="l00006"></a>00006 <span class="comment"> * License: This code is licensed under the terms of the GNU LGPL</span>
<a name="l00007"></a>00007 <span class="comment"> * http://www.gnu.org/licenses/lgpl.html </span>
<a name="l00008"></a>00008 <span class="comment"> */</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef __JCOM_IO_H__</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define __JCOM_IO_H__</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "tt_audio_base.h"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "tt_audio_signal.h"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "tt_crossfade.h"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "tt_gain.h"</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include "tt_ramp.h"</span>
<a name="l00018"></a>00018 <span class="preprocessor">#define MAX_NUM_CHANNELS 32</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 
<a name="l00022"></a>00022 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__in.html">_in</a>{     
<a name="l00023"></a>00023         <a class="code" href="struct__jcom__core__subscriber__common.html">t_jcom_core_subscriber_common</a>   common;
<a name="l00024"></a><a class="code" href="struct__in.html#b6128cce621339f12506d84f0fa55b10">00024</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__in.html#b6128cce621339f12506d84f0fa55b10" title="jcom.out object for sending messages to">out_object</a>;                                    
<a name="l00025"></a>00025         <span class="keywordtype">void</span>                    *inlet[MAX_NUM_CHANNELS];
<a name="l00026"></a>00026         <span class="keywordtype">void</span>                    *outlet[MAX_NUM_CHANNELS];
<a name="l00027"></a><a class="code" href="struct__in.html#70c630d0c9df862196281dcddf318cd8">00027</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__in.html#70c630d0c9df862196281dcddf318cd8" title="dumpout outlet">dumpout</a>;                                               
<a name="l00028"></a><a class="code" href="struct__in.html#b9864805a19a6a5cbda847b6769b466a">00028</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__in.html#b9864805a19a6a5cbda847b6769b466a" title="alogorithm outlet">algout</a>;                                                
<a name="l00029"></a><a class="code" href="struct__in.html#a52dff74d7b2011fc5905275dfd73cd6">00029</a>         t_symbol                *<a class="code" href="struct__in.html#a52dff74d7b2011fc5905275dfd73cd6" title="the algorithm type">attr_algorithm_type</a>;                   
<a name="l00030"></a>00030         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#1af0695e417d9d42e3665ac0664a145e" title="spec&amp;#39;d as an argument">num_inputs</a>;                                             
<a name="l00031"></a>00031         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#6785e02002132219c5c4ee929e4d2d3f" title="cached vector_size of the audio signals">vector_size</a>;                                    
<a name="l00032"></a>00032         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#e718dd25d6d39ae74f7cd2e63dc2cb21" title="for poly~-based algorithms, the last target number used">last_target</a>;                                    
<a name="l00033"></a><a class="code" href="struct__in.html#761d01cc16ec4d835ca7cdc77d68a330">00033</a>         tt_audio_signal *<a class="code" href="struct__in.html#761d01cc16ec4d835ca7cdc77d68a330" title="last vector of audio samples for each channel (used by jcom.out~)">signal_in</a>[MAX_NUM_CHANNELS];   
<a name="l00034"></a>00034         <span class="keywordtype">float</span>                   *out_vectors[MAX_NUM_CHANNELS];
<a name="l00035"></a>00035         <span class="keywordtype">float</span>                   *remote_vectors[MAX_NUM_CHANNELS];
<a name="l00036"></a>00036         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#916f9e9c256c16b68233875e8ec2c7cf" title="bypass flag for the module">attr_bypass</a>;                                    
<a name="l00037"></a>00037         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#fd4eac75013a272e2d9761517f46995e" title="mute flag for the module">attr_mute</a>;                                              
<a name="l00038"></a>00038         <span class="keywordtype">long</span>                    <a class="code" href="struct__in.html#a4513b62b74f1bac7306b1dc3170e1f1" title="freeze flag for video modules">attr_freeze</a>;                                    
<a name="l00039"></a>00039 } <a class="code" href="struct__in.html">t_in</a>;
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 
<a name="l00043"></a>00043 <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct__out.html">_out</a>{
<a name="l00044"></a>00044         <a class="code" href="struct__jcom__core__subscriber__common.html">t_jcom_core_subscriber_common</a>   common;
<a name="l00045"></a><a class="code" href="struct__out.html#d27e9616e6576f54fd104df01e2bae39">00045</a>         <a class="code" href="struct__in.html">t_in</a>                    *<a class="code" href="struct__out.html#d27e9616e6576f54fd104df01e2bae39" title="jcom.in object paired with this jcom.out object">in_object</a>;                                             
<a name="l00046"></a><a class="code" href="struct__out.html#c183317f103fe84844b6ef60e030a72f">00046</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__out.html#c183317f103fe84844b6ef60e030a72f" title="jcom.meter~ objects in the gui">meter_object</a>[MAX_NUM_CHANNELS]; 
<a name="l00047"></a>00047         <span class="keywordtype">short</span>                   num_meter_objects;
<a name="l00048"></a><a class="code" href="struct__out.html#0ba5b0a336751d6b522c60ee0c999e5b">00048</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__out.html#0ba5b0a336751d6b522c60ee0c999e5b" title="clock for sending messages to the meters">clock</a>;                                                 
<a name="l00049"></a>00049         <span class="keywordtype">short</span>                   <a class="code" href="struct__out.html#819a1b1a818d1cba3ea4af71e9d1e399" title="is the clock currently scheduled to fire?">clock_is_set</a>;                                   
<a name="l00050"></a>00050         <span class="keywordtype">void</span>                    *inlet[MAX_NUM_CHANNELS];
<a name="l00051"></a>00051         <span class="keywordtype">void</span>                    *outlet[MAX_NUM_CHANNELS];
<a name="l00052"></a><a class="code" href="struct__out.html#2572101e5263f2e0e6d07957b7f26c52">00052</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__out.html#2572101e5263f2e0e6d07957b7f26c52" title="dumpout outlet">dumpout</a>;                                               
<a name="l00053"></a><a class="code" href="struct__out.html#e5553b6692699f9990e013a240cca3b0">00053</a>         t_symbol                *<a class="code" href="struct__out.html#e5553b6692699f9990e013a240cca3b0" title="default is &amp;#39;poly&amp;#39;, also we need a &amp;#39;blue&amp;#39; type (maybe a better name...">attr_algorithm_type</a>;                   
<a name="l00054"></a>00054         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#2a74cb90280bc54cf322b2bb42af48d0" title="spec&amp;#39;d as an argument">num_outputs</a>;                                    
<a name="l00055"></a>00055         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#0ca0bd95957224364b54149f327a5f6c" title="cached vector_size of the audio signals">vector_size</a>;                                    
<a name="l00056"></a>00056 
<a name="l00057"></a>00057         tt_audio_signal *signal_in;
<a name="l00058"></a>00058         tt_audio_signal *signal_out;
<a name="l00059"></a>00059         tt_audio_signal *signal_temp;
<a name="l00060"></a>00060         <span class="keywordtype">float</span>                   <a class="code" href="struct__out.html#c8fcc8d50afc838be1d81ed4893d9b06" title="The peak amplitude of the envelope for the meter from the last vector.">peakamp</a>[MAX_NUM_CHANNELS];              
<a name="l00061"></a>00061                                                                                                         <span class="comment">/* The crossfade and gain objects can be shared for all channels</span>
<a name="l00062"></a>00062 <span class="comment">                                                                                                           because the object's don't need an independent state and do not</span>
<a name="l00063"></a>00063 <span class="comment">                                                                                                           rely internally on any history.  </span>
<a name="l00064"></a>00064 <span class="comment">                                                                                                        */</span>
<a name="l00065"></a><a class="code" href="struct__out.html#a50b16241ec384ef36c9a0ff2817a6a2">00065</a>         <span class="keywordtype">float</span>                   *<a class="code" href="struct__out.html#a50b16241ec384ef36c9a0ff2817a6a2" title="buffers of the last output for access by jcom.receive~">out_vectors</a>[MAX_NUM_CHANNELS]; 
<a name="l00066"></a><a class="code" href="struct__out.html#0690dac219d8d2bb16acc510183b7dbe">00066</a>         tt_crossfade    *<a class="code" href="struct__out.html#0690dac219d8d2bb16acc510183b7dbe" title="implements the &amp;#39;mix&amp;#39; and &amp;#39;bypass&amp;#39; params">xfade</a>;                                                 
<a name="l00067"></a><a class="code" href="struct__out.html#4c58935d6ae2cc1fcd7017e1f852e381">00067</a>         tt_copy                 *<a class="code" href="struct__out.html#4c58935d6ae2cc1fcd7017e1f852e381" title="simple vector copy">copy</a>;                                                  
<a name="l00068"></a><a class="code" href="struct__out.html#a68f8ee0577ddd10096b6f778ab04db9">00068</a>         tt_gain                 *<a class="code" href="struct__out.html#a68f8ee0577ddd10096b6f778ab04db9" title="implements the &amp;#39;gain&amp;#39; param">gain</a>;                                                  
<a name="l00069"></a><a class="code" href="struct__out.html#a98e27b4ca913c0cab78f25af0b8719b">00069</a>         tt_ramp                 *<a class="code" href="struct__out.html#a98e27b4ca913c0cab78f25af0b8719b" title="ramps to drive smooth audio for the above params">ramp_gain</a>;                                             
<a name="l00070"></a><a class="code" href="struct__out.html#aa2915572ff91e27d9206dcdb8158841">00070</a>         tt_ramp                 *<a class="code" href="struct__out.html#aa2915572ff91e27d9206dcdb8158841" title="The type of xfade to use.">ramp_xfade</a>;                                    
<a name="l00071"></a>00071         
<a name="l00072"></a>00072         <span class="keywordtype">float</span>                   <a class="code" href="struct__out.html#d2522e0e302716572e7ed5518ed6f003" title="The mix percent, stored in percent.">attr_mix</a>;                                               
<a name="l00073"></a>00073         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#74eb6764d4ca9282b185794b10b4b1a0" title="the bypass indicator for the module">attr_bypass</a>;                                    
<a name="l00074"></a>00074         <span class="keywordtype">float</span>                   <a class="code" href="struct__out.html#574a7d0dd902b1deea3711baeff5b856" title="The gain parameter, stored in midi values.">attr_gain</a>;                                              
<a name="l00075"></a>00075         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#a8e9c10d712111b4f9efd3529f0bf8a6" title="Disable updating meters.">attr_defeat_meters</a>;                             
<a name="l00076"></a>00076         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#9105e6a12e4483d99a93628bd839c2d8" title="The preview flag for video modules.">attr_preview</a>;                                   
<a name="l00077"></a>00077         <span class="keywordtype">long</span>                    <a class="code" href="struct__out.html#4b200de8b79f3c2e6167842db508933c" title="The mute flag for a module.">attr_mute</a>;                                              
<a name="l00078"></a><a class="code" href="struct__out.html#b6886cf2cbf062ba14456f1829f52bef">00078</a>         <span class="keywordtype">void</span>                    *<a class="code" href="struct__out.html#b6886cf2cbf062ba14456f1829f52bef" title="The preview object to send to when preview is enabled.">preview_object</a>;                                
<a name="l00079"></a>00079         
<a name="l00080"></a><a class="code" href="struct__out.html#376d1260fc58d06ab60d714dbf973978">00080</a>         t_symbol                *<a class="code" href="struct__out.html#376d1260fc58d06ab60d714dbf973978" title="used by /video/freeze...">last_msg</a>[MAX_NUM_CHANNELS];    
<a name="l00081"></a>00081         <span class="keywordtype">short</span>                   last_argc[MAX_NUM_CHANNELS];
<a name="l00082"></a>00082         t_atom                  last_argv[MAX_NUM_CHANNELS][10];
<a name="l00083"></a>00083 } <a class="code" href="struct__out.html">t_out</a>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="preprocessor">#endif // #ifndef __JCOM_IO_H__</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Apr 24 11:09:30 2008 for Jamoma by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
