<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Jamoma: /Users/tim/dev/Jamoma/SourceCode/Framework/source/jcom.core.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>/Users/tim/dev/Jamoma/SourceCode/Framework/source/jcom.core.h</h1><a href="jcom_8core_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment"> * jcom.core</span>
<a name="l00003"></a>00003 <span class="comment"> * shared code used by the jamoma core externals</span>
<a name="l00004"></a>00004 <span class="comment"> * By Tim Place, Copyright ï¿½ 2006</span>
<a name="l00005"></a>00005 <span class="comment"> * </span>
<a name="l00006"></a>00006 <span class="comment"> * License: This code is licensed under the terms of the GNU LGPL</span>
<a name="l00007"></a>00007 <span class="comment"> * http://www.gnu.org/licenses/lgpl.html </span>
<a name="l00008"></a>00008 <span class="comment"> */</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#ifndef __JMOD_CORE_H__</span>
<a name="l00011"></a>00011 <span class="preprocessor"></span><span class="preprocessor">#define __JMOD_CORE_H__</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="preprocessor">#include "ext.h"</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include "ext_obex.h"</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include "ext_critical.h"</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include "z_dsp.h"</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifdef WIN_VERSION</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define snprintf _snprintf</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="comment">// Prototypes</span>
<a name="l00023"></a>00023 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
<a name="l00025"></a>00025 <span class="preprocessor">#endif</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00027"></a><a class="code" href="jcom_8core_8h.html#74877bfef9bd2dc836243706757f28e9">00027</a> <span class="keyword">typedef</span> void (*<a class="code" href="jcom_8core_8h.html#74877bfef9bd2dc836243706757f28e9">t_receive_obex_callback</a>)(<span class="keywordtype">void</span> *x, t_symbol *msg, <span class="keywordtype">long</span> argc, t_atom *argv);
<a name="l00028"></a><a class="code" href="jcom_8core_8h.html#28cbca2cb0f3814f919cdaa4d4136369">00028</a> <span class="keyword">typedef</span> void (*<a class="code" href="jcom_8core_8h.html#28cbca2cb0f3814f919cdaa4d4136369">t_subscribe_method</a>)(<span class="keywordtype">void</span> *x);
<a name="l00029"></a>00029 
<a name="l00036"></a><a class="code" href="structt__jcom__core__subscriber__common.html">00036</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_jcom_core_subscriber_common{
<a name="l00037"></a><a class="code" href="structt__jcom__core__subscriber__common.html#d4fe28de0e477c191d1506c904887c86">00037</a>         t_pxobject                      ob;                                             
<a name="l00038"></a><a class="code" href="structt__jcom__core__subscriber__common.html#87998c77e5f20ce10696a65b23519860">00038</a>         <span class="keywordtype">void</span>                            *obex;                                  
<a name="l00039"></a><a class="code" href="structt__jcom__core__subscriber__common.html#eb8de33fcd92e878f399af82147f6164">00039</a>         t_object                        *container;                             
<a name="l00040"></a><a class="code" href="structt__jcom__core__subscriber__common.html#54febeef364c68d12d41633db58206c6">00040</a>         t_object                        *hub;                                   
<a name="l00041"></a><a class="code" href="structt__jcom__core__subscriber__common.html#6716b0d42e8f13a1b0545b8e97d5e8e8">00041</a>         t_symbol                        *attr_name;                             
<a name="l00042"></a><a class="code" href="structt__jcom__core__subscriber__common.html#cdc997be4e8e96e365fd08e5098f0ae5">00042</a>         <span class="keywordtype">bool</span>                            has_wildcard;                   
<a name="l00043"></a><a class="code" href="structt__jcom__core__subscriber__common.html#db8a5b54d6105d75c0921b97c91f46e7">00043</a>         t_symbol                        *module_name;                   
<a name="l00044"></a><a class="code" href="structt__jcom__core__subscriber__common.html#5633d8a6ee19ce73ca0cf5e622d49df8">00044</a>         t_symbol                        *subscriber_type;               
<a name="l00045"></a><a class="code" href="structt__jcom__core__subscriber__common.html#58f92e063140eb5615192ad55b2f67aa">00045</a>         <a class="code" href="jcom_8core_8h.html#28cbca2cb0f3814f919cdaa4d4136369">t_subscribe_method</a>      custom_subscribe;               
<a name="l00046"></a><a class="code" href="structt__jcom__core__subscriber__common.html#011aad7cb219f90ac6a1ee91b91db994">00046</a>         t_object                        *obj_hub_broadcast;             
<a name="l00047"></a>00047 } <a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a>;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 
<a name="l00054"></a><a class="code" href="structt__jcom__core__subscriber__extended.html">00054</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>_jcom_core_subscriber_extended{
<a name="l00055"></a>00055 <span class="comment">//#ifdef JCOM_AUDIO_OBJECT</span>
<a name="l00056"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#d9af52b5d21af1b57c3e94e96f1505a5">00056</a>         t_pxobject                      ob;                                             
<a name="l00057"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#e3a484289affe591e754909f5605c1ee">00057</a>         <span class="keywordtype">void</span>                            *obex;                                  
<a name="l00058"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#09d77e5958bf1ee33bed13c92ba909a4">00058</a>         t_object                        *container;                             
<a name="l00059"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#127b75b6e2f0ba5284045d0a513fc77b">00059</a>         t_object                        *hub;                                   
<a name="l00060"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#3d341212c7898bc7135a47c11e789238">00060</a>         t_symbol                        *attr_name;                             
<a name="l00061"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#39573231b8b31486e9bf596ccc920e7f">00061</a>         <span class="keywordtype">bool</span>                            has_wildcard;                   
<a name="l00062"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#d7a15edaf8f9a7ee6847a9dda8c0239f">00062</a>         t_symbol                        *module_name;                   
<a name="l00063"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#4b5ba4457084572c1cfbd1d7e5cc89a2">00063</a>         t_symbol                        *subscriber_type;               
<a name="l00064"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#08e7a83b3deac176571c455f201287be">00064</a>         <a class="code" href="jcom_8core_8h.html#28cbca2cb0f3814f919cdaa4d4136369">t_subscribe_method</a>      custom_subscribe;               
<a name="l00065"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#994977508f7608f057320a903ef8d8de">00065</a>         t_object                        *obj_hub_broadcast;             
<a name="l00066"></a>00066         <span class="comment">// extensions begin here</span>
<a name="l00067"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#03ba214b959da910d16973b7c2c0b7e2">00067</a>         t_symbol                        *attr_clipmode;                 
<a name="l00068"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#f8cf9a32a54cacb4a61119a2d89870e3">00068</a>         t_symbol                        *attr_description;              
<a name="l00069"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#6a37c1ba31713c46beb318b0fc494816">00069</a>         <span class="keywordtype">float</span>                           attr_range[2];                  
<a name="l00070"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#8c314195e4087ef1f73edbe850466b72">00070</a>         <span class="keywordtype">long</span>                            attr_range_len;                 
<a name="l00071"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#33c1405945232f5f3c538e2a8aee0f87">00071</a>         <span class="keywordtype">long</span>                            attr_repetitions;               
<a name="l00072"></a><a class="code" href="structt__jcom__core__subscriber__extended.html#24ece2368f06656b32c9eb44bb5a3706">00072</a>         t_symbol                        *attr_type;                             
<a name="l00073"></a>00073 } <a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a>;
<a name="l00074"></a>00074                                 
<a name="l00075"></a>00075 
<a name="l00083"></a>00083 t_object *<a class="code" href="jcom_8core_8cpp.html#899eb26c3bb71df7dfbb613471fe4817" title="Register (or unregister) a client (such as jcom.parameter or jcom.in~) with the jcom...">jcom_core_subscribe</a>(t_object *x, t_symbol *name, t_object *container, t_symbol *object_type);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 
<a name="l00090"></a>00090 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#3ca364feb1e565f69c2f41eb7d3d9544" title="Unsubscribe a client from the hub.">jcom_core_unsubscribe</a>(t_object *hub, <span class="keywordtype">void</span> *<span class="keywordtype">object</span>);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092 
<a name="l00097"></a>00097 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#c318e773fa561f4780c2cde43b11ce70" title="Utility function to perform an atom copy.">jcom_core_atom_copy</a>(t_atom *dst, t_atom *src);
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00106"></a>00106 <span class="keywordtype">bool</span> <a class="code" href="jcom_8core_8cpp.html#aedde172f9a4eb2f8149e3bf084d21dc" title="Utility function to compare two t_atom&amp;#39;s.">jcom_core_atom_compare</a>(t_symbol *<a class="code" href="jcom_8change_8cpp.html#7aead736a07eaf25623ad7bfa1f0ee2d">type</a>, t_atom *a1, t_atom *a2);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00111"></a>00111 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#c99cd1c6229a0f392fe9cb6c123fac71" title="Utility for writing newline terminated text to a file with the Max API.">jcom_core_file_writeline</a>(t_filehandle *fh, <span class="keywordtype">long</span> *the_eof, <span class="keywordtype">char</span> *the_text);
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 
<a name="l00117"></a>00117 <span class="keywordtype">bool</span> <a class="code" href="jcom_8core_8cpp.html#0f533bb0ff7e0005c6526828b8fd05af" title="Compares two strings.">jcom_core_string_compare</a>(<span class="keywordtype">char</span> *s1, <span class="keywordtype">char</span> *s2);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00127"></a>00127 <span class="keywordtype">bool</span> <a class="code" href="jcom_8core_8cpp.html#038bc9472cc4dc721fc87b315ed022dd" title="Load obex externals for use within other externals.">jcom_core_loadextern</a>(t_symbol *objectname, <span class="keywordtype">long</span> argc, t_atom *argv, t_object **<span class="keywordtype">object</span>);
<a name="l00128"></a>00128 <span class="comment">//bool jcom_core_loadextern(t_symbol *objectname, t_symbol *argument, t_object **object);</span>
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 
<a name="l00136"></a>00136 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#a9a9f72933af0f474286bd9bdece3e1f" title="Translates a Max path+filename combo into a correct absolutepath.">jcom_core_getfilepath</a>(<span class="keywordtype">short</span> in_path, <span class="keywordtype">char</span> *in_filename, <span class="keywordtype">char</span> *out_filepath);
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 
<a name="l00145"></a>00145 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#f618e5775359dc336ddf9012e269adf1" title="Add methods and attributes that are common to all subscribers.">jcom_core_subscriber_classinit_common</a>(t_class *c, t_object *attr, <span class="keywordtype">long</span> offset, <span class="keywordtype">bool</span> define_name = <span class="keyword">true</span>);
<a name="l00146"></a>00146 
<a name="l00153"></a>00153 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#c09b65a446811748eb6c87ef66282378" title="Add methods and attributes that are common to extended subscribers (such as parameter...">jcom_core_subscriber_classinit_extended</a>(t_class *c, t_object *attr, <span class="keywordtype">long</span> offset, <span class="keywordtype">bool</span> define_name = <span class="keyword">true</span>);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 
<a name="l00158"></a>00158 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#6571b67bed511c2c7b2dd766f575206d" title="Call this when initing a new common-based instance to set defaults.">jcom_core_subscriber_new_common</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x, t_symbol *name, t_symbol *subscriber_type);
<a name="l00159"></a>00159 
<a name="l00162"></a>00162 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#052b1b29d6d44fbaaa77e4e982415b1a" title="Call this when initing a new extended-based instance to set defaults.">jcom_core_subscriber_new_extended</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, t_symbol *name, t_symbol *subscriber_type);
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 
<a name="l00168"></a>00168 t_max_err <a class="code" href="jcom_8core_8cpp.html#f48f7007dd0c41cc3e28f88dde0d86d5" title="Attribute setter used for the parameter name as referenced in jcom_core_subscriber_attributes_common...">jcom_core_subscriber_attribute_common_setname</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> argc, t_atom *argv);
<a name="l00169"></a>00169 
<a name="l00170"></a>00170 
<a name="l00173"></a>00173 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#2bd99dcff8035c73e14c23fe4546bda0" title="Subscribe to the hub.">jcom_core_subscriber_subscribe</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x);
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 
<a name="l00178"></a>00178 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#ad39edf132023e60fb369f468898e7e7" title="Receive notification that the hub has been freed, so we shouldn&amp;#39;t call it anymore...">jcom_core_subscriber_hubrelease</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x);
<a name="l00179"></a>00179 
<a name="l00182"></a>00182 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#e82a5dd7acf79f11b151f8d3b92513ae" title="Provide a function for doing additional setup at subscription time.">jcom_core_subscriber_setcustomsubscribe_method</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x, <a class="code" href="jcom_8core_8h.html#28cbca2cb0f3814f919cdaa4d4136369">t_subscribe_method</a> meth);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 
<a name="l00188"></a>00188 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#0bd61b1ba1c88f697cd631058056198f" title="This should be called by subscribers when they are being freed.">jcom_core_subscriber_common_free</a>(<a class="code" href="structt__jcom__core__subscriber__common.html" title="shared common subscriber data members !!! WARNING !!! This struct MUST be the first...">t_jcom_core_subscriber_common</a> *x);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00193"></a>00193 <span class="keywordtype">void</span> <a class="code" href="jcom_8core_8cpp.html#50f8746f000c59715fe0c3dad0bce94e" title="This method is called when the jcom.receive in a subscriber receives the hub&amp;#39;s...">jcom_core_broadcast_callback</a>(<span class="keywordtype">void</span> *z, t_symbol *msg, <span class="keywordtype">long</span> argc, t_atom *argv);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 t_max_err <a class="code" href="jcom_8core_8cpp.html#94964819acfbf91271ccaf6798131585">jcom_core_attr_getname</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> *argc, t_atom **argv);
<a name="l00198"></a>00198 t_max_err <a class="code" href="jcom_8core_8cpp.html#50a3e9c1bc004f646d14434480bf7756">jcom_core_attr_setrange</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> argc, t_atom *argv);
<a name="l00199"></a>00199 t_max_err <a class="code" href="jcom_8core_8cpp.html#9889e79a3b23f7cb68cf597ad80b7f19">jcom_core_attr_getrange</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> *argc, t_atom **argv);
<a name="l00200"></a>00200 t_max_err <a class="code" href="jcom_8core_8cpp.html#09d417c46f84d571fc9de268ba2b72f6">jcom_core_attr_getrepetitions</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> *argc, t_atom **argv);
<a name="l00201"></a>00201 t_max_err <a class="code" href="jcom_8core_8cpp.html#33e1a539d66fb376302bcc62e35d2a58">jcom_core_attr_getclipmode</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> *argc, t_atom **argv);
<a name="l00202"></a>00202 t_max_err <a class="code" href="jcom_8core_8cpp.html#d6804b9af1db2915e814c7e777d9eb63">jcom_core_attr_getdescription</a>(<a class="code" href="structt__jcom__core__subscriber__extended.html" title="shared extended subscriber data members an extended subscriber is something such...">t_jcom_core_subscriber_extended</a> *x, <span class="keywordtype">void</span> *attr, <span class="keywordtype">long</span> *argc, t_atom **argv);
<a name="l00203"></a>00203 
<a name="l00204"></a>00204 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>}
<a name="l00206"></a>00206 <span class="preprocessor">#endif</span>
<a name="l00207"></a>00207 <span class="preprocessor"></span>
<a name="l00208"></a>00208 <span class="preprocessor">#endif // #ifndef __JMOD_CORE_H__</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu May 8 12:08:20 2008 for Jamoma by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
