max v2;#N vpatcher 158 44 1245 796;#P origin 0 -233;#P user hint 45 25 98 39 "ViMiC render type" 4000 1000 0 65535 65535 52428 9 3 0 1 0 0 0;#P window setfont "Sans Serif" 9.;#P newex 610 501 68 196617 pvar order 2;#P window linecount 2;#P newex 685 494 338 196617 jcom.parameter reflections/order @type msg_int @range 0 2 @repetitions 0 @clipmode both @description "order of early reflections";#P objectname reflections/order;#P user ubumenu 128 24 22 196617 0 0 1 0;#X setrgb 181 181 181 25 25 25 50 50 50 4 4 4 141 141 141 112 112 112;#X add 0;#X add 1;#X add 2;#X prefix_set 0 0 <none> 0;#P objectname order;#P window linecount 1;#N vpatcher 433 172 832 476;#P origin 12 23;#P window setfont "Sans Serif" 9.;#P window linecount 0;#P newex 95 686 32 196617 print;#P window linecount 2;#P newex 716 52 467 196617 jcom.parameter reflections/lowpass/frequency @type msg_int @range 0 16000 @clipmode low @repetitions 0 @ramp linear.sched @description "damping frequency of the early reflections";#P objectname reflections/lowpass/frequency;#P window linecount 1;#P newex 716 30 94 196617 pvar early_lowcut;#P number 367 259 47 9 10 0 8225 3 181 181 181 221 221 221 222 222 222 0 0 0;#P objectname early_lowcut;#P comment 235 261 131 196617 low cut for early refletions;#B frgb 149 149 149;#P comment 360 92 56 196617 gain;#B frgb 181 181 181;#P newex 484 436 144 196617 jcom.list2parameter 3;#P newex 650 461 80 196617 pvar roomsizeZ;#P newex 567 461 81 196617 pvar roomsizeY;#P flonum 379 241 28 9 0. 40. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname roomsizeZ;#P flonum 349 242 28 9 0. 40. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname roomsizeY;#P newex 484 461 81 196617 pvar roomsizeX;#P flonum 319 242 28 9 0. 40. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname roomsizeX;#P window linecount 2;#P newex 637 428 362 196617 jcom.parameter room/size @type msg_list @ramp linear.sched @range 0. 40. @repetitions 0 @clipmode both @description "Size of the virtual room in XYZ";#P objectname room/size;#P window linecount 1;#P comment 235 244 81 196617 Roomsize x/y/z;#B frgb 149 149 149;#P message 637 285 14 196617 1;#N thispatcher;#Q end;#P newobj 600 347 61 196617 thispatcher;#P newex 510 274 27 196617 t b i;#P newex 497 294 40 196617 uzi;#P window linecount 2;#P hidden newex 635 315 216 196617 sprintf script new microphone%ld newex 391 200 270 196617 jcom.sur.vimic_mic.mxt;#P window linecount 1;#P newex 510 252 171 196617 jcom.oscroute microphones/amount;#P inlet 510 235 15 0;#P comment 17 243 201 196617 power law for attenuation due to distance:;#B frgb 149 149 149;#P comment 6 261 211 196617 power law for attenuation due to directivity:;#B frgb 149 149 149;#P number 216 259 17 9 0 4 8227 3 181 181 181 221 221 221 222 222 222 0 0 0;#P objectname dirPow;#P number 216 241 17 9 0 4 8227 3 181 181 181 221 221 221 222 222 222 0 0 0;#P objectname disPow;#P newex 475 169 66 196617 pvar dirPow;#P newex 476 107 66 196617 pvar disPow;#P window linecount 2;#P newex 475 189 403 196617 jcom.parameter microphones/direct/power @type msg_int @repetitions 0 @range 0 4 @clipmode low @description "power law for attenuation due to microphone directivity";#P objectname microphones/direct/power;#P newex 476 129 359 196617 jcom.parameter room/distance/power @type msg_int @range 0 4 @clipmode low @repetitions 0 @description "power law for attenuation due to distance";#P objectname room/distance/power;#P window linecount 1;#P comment 209 92 87 196617 Azimut/Elevation;#B frgb 181 181 181;#P comment 176 92 14 196617 Z;#B frgb 181 181 181;#P comment 142 92 14 196617 Y;#B frgb 181 181 181;#P comment 104 91 14 196617 X;#B frgb 181 181 181;#P comment 296 93 56 196617 directivity;#B frgb 181 181 181;#P comment 220 79 87 196617 Steering;#B frgb 181 181 181;#P comment 101 78 99 196617 Microphone position;#B frgb 181 181 181;#P bpatcher 8 222 384 15 0 0 jcom.sur.vimic_mic.mxt 0 8;#P objectname jcom.sur.vimic_mic.mxt[4];#P bpatcher 8 205 384 15 0 0 jcom.sur.vimic_mic.mxt 0 7;#P objectname jcom.sur.vimic_mic.mxt[5];#P bpatcher 8 189 384 15 0 0 jcom.sur.vimic_mic.mxt 0 6;#P objectname jcom.sur.vimic_mic.mxt[6];#P bpatcher 8 172 384 15 0 0 jcom.sur.vimic_mic.mxt 0 5;#P objectname jcom.sur.vimic_mic.mxt[7];#P bpatcher 8 156 384 15 0 0 jcom.sur.vimic_mic.mxt 0 4;#P objectname jcom.sur.vimic_mic.mxt[2];#P bpatcher 8 139 384 15 0 0 jcom.sur.vimic_mic.mxt 0 3;#P objectname jcom.sur.vimic_mic.mxt[3];#P bpatcher 8 123 384 15 0 0 jcom.sur.vimic_mic.mxt 0 2;#P objectname jcom.sur.vimic_mic.mxt[1];#P bpatcher 8 106 384 15 0 0 jcom.sur.vimic_mic.mxt 0 1;#P objectname jcom.sur.vimic_mic.mxt;#P comment 28 54 103 196617 report state of ViMiC;#B frgb 181 181 181;#P hidden newex 451 37 74 196617 pvar allreport;#P window linecount 2;#P hidden newex 449 57 296 196617 jcom.message report_all @type msg_int @range 0 1 @clipmode both @description "report inner state of the vimic module";#P objectname direct/gain[2];#P button 11 52 15 0;#P objectname allreport;#P flonum 38 346 29 9 0 0 8224 3 181 181 181 221 221 221 222 222 222 0 0 0;#P objectname bb6;#P flonum 38 328 29 9 0 0 8224 3 181 181 181 221 221 221 222 222 222 0 0 0;#P objectname bb5;#P window linecount 1;#P hidden newex 59 632 117 196617 loadmess patcher ViMiC;#P hidden newex 14 634 40 196617 t front;#P hidden newex 14 608 151 196617 jcom.oscroute /open_inspector;#P hidden inlet 14 581 15 0;#N thispatcher;#Q end;#P hidden newobj 21 764 61 196617 thispatcher;#P hidden message 351 362 214 196617 window size 100 100 400 615 \, window exec;#N thispatcher;#Q window flags nogrow close zoom nofloat;#Q window size 433 172 832 476;#Q window title;#Q window exec;#Q savewindow 1;#Q end;#P hidden newobj 256 357 59 196617 thispatcher;#P hidden newex 99 435 88 196617 bgcolor 80 80 80;#P window linecount 3;#P hidden message -27 269 100 196617 window flags nogrow \, savewindow 1 \, window exec;#P hidden message 336 276 80 196617 window flags grow \, window exec;#P window setfont "Sans Serif" 18.;#P window linecount 1;#P comment 127 22 211 196626 Extended settings;#B frgb 181 181 181;#P user panel 5 75 394 167;#X brgb 80 80 80;#X frgb 255 255 255;#X border 2;#X rounded 0;#X shadow 0;#X done;#P connect 8 0 9 0;#P connect 9 0 10 0;#P connect 11 0 7 0;#P hidden connect 10 0 7 0;#P connect 10 0 62 0;#P hidden connect 2 0 5 0;#P hidden connect 3 0 5 0;#P hidden connect 6 0 5 0;#P hidden connect 16 0 15 0;#P fasten 34 0 36 0 480 220 472 220 472 165 480 165;#P connect 36 0 34 0;#P fasten 33 0 35 0 481 161 472 161 472 103 481 103;#P connect 35 0 33 0;#P fasten 51 0 56 0 489 483 481 483 481 429 489 429;#P connect 56 0 51 0;#P connect 45 0 44 0;#P fasten 54 0 56 1 572 487 475 487 475 424 502 424;#P connect 41 0 42 0;#P connect 42 0 45 0;#P fasten 55 0 56 2 655 486 470 486 470 419 515 419;#P connect 45 1 44 1;#P connect 56 1 54 0;#P connect 43 0 46 0;#P connect 49 0 56 10;#P lcolor 15;#P connect 47 0 43 0;#P connect 56 10 49 0;#P lcolor 15;#P connect 56 2 55 0;#P fasten 61 0 60 0 721 86 707 86 707 25 721 25;#P connect 60 0 61 0;#P pop;#P newobj 157 334 67 196617 p inspector;#B color 4;#P objectname inspector;#P newex 626 320 62 196617 prepend set;#P newex 697 372 27 196617 - 1;#P newex 696 301 27 196617 + 1;#P newex 696 353 51 196617 route set;#P newex 614 454 102 196617 pvar render_mode 2;#P window linecount 2;#P newex 722 448 242 196617 jcom.parameter rendermode @type msg_symbol @repetitions 0 @description "Rendertype of ViMiC";#P objectname rendermode;#P user ubumenu 42 24 63 196617 0 0 1 0;#X setrgb 181 181 181 25 25 25 50 50 50 4 4 4 141 141 141 112 112 112;#X add ViMiC;#X add Panning;#X prefix_set 0 0 <none> 0;#P objectname render_mode;#P window linecount 1;#N vpatcher 497 319 1097 719;#P outlet 56 179 15 0;#P button 137 29 15 0;#P window setfont "Sans Serif" 9.;#P hidden message 60 91 64 196617 rgb2 66 0 2;#P hidden message 221 89 92 196617 frgb 181 181 181;#P hidden message 138 91 75 196617 brgb 47 46 36;#P newex 83 58 50 196617 deferlow;#P newex 83 30 48 196617 loadbang;#P connect 3 0 6 0;#P connect 2 0 6 0;#P connect 4 0 6 0;#P connect 1 0 4 0;#P connect 0 0 1 0;#P connect 5 0 1 0;#P connect 1 0 2 0;#P connect 1 0 3 0;#P pop;#P newobj 322 6 46 196617 p colors;#N thispatcher;#Q end;#P hidden newobj 322 52 61 196617 thispatcher;#N vpatcher 188 431 335 589;#P button 41 33 15 0;#P window setfont "Sans Serif" 9.;#P newex 41 54 50 196617 deferlow;#P newex 41 75 50 196617 t front;#P outlet 41 103 15 0;#P inlet 41 15 15 0;#P connect 0 0 4 0;#P connect 4 0 3 0;#P connect 3 0 2 0;#P connect 2 0 1 0;#P pop;#P hidden newobj 322 30 14 196617 p;#P bpatcher 153 39 100 12 0 0 jcom.textslider.mxt 1 0. 0. 1. @size 100 12 @text early reflections;#P bpatcher 153 24 100 13 0 0 jcom.textslider.mxt 1 0. 0. 1. @size 100 12 @text direct sound @frgb;#P user ubumenu 106 24 22 196617 0 0 1 0;#X setrgb 181 181 181 25 25 25 50 50 50 4 4 4 141 141 141 112 112 112;#X add 1;#X add 2;#X add 3;#X add 4;#X add 5;#X add 6;#X add 7;#X add 8;#X add 9;#X add 10;#X add 11;#X add 12;#X add 13;#X add 14;#X add 15;#X add 16;#X add 17;#X add 18;#X add 19;#X add 20;#X add 21;#X add 22;#X add 23;#X add 24;#X prefix_set 0 0 <none> 0;#P objectname mics;#P window linecount 2;#P newex 696 320 369 196617 jcom.parameter microphones/amount @type msg_int @range 1 32 @repetitions 0 @clipmode low @description "Amount of used virtual microphones";#P objectname microphones/amount;#P window linecount 1;#P newex 696 281 64 196617 pvar mics 2;#P comment 5 26 34 196617 setup:;#B frgb 149 149 149;#P hidden newex 157 254 151 196617 jcom.oscroute /open_inspector;#P newex 157 313 44 196617 pcontrol;#P newex 157 292 41 196617 t open;#P outlet 47 609 15 0;#P newex 47 552 417 196617 jcom.multi.in~;#P newex 606 388 63 196617 pvar report;#P toggle 122 5 13 0;#P objectname report;#P window linecount 2;#P newex 606 408 279 196617 jcom.message report @type msg_int @range 0 1 @clipmode both @description "report changes inside the vimic module";#P objectname direct/gain[1];#P newex 520 47 347 196617 jcom.parameter reflections/gain @type msg_float @range 0. 1. @clipmode low @ramp linear.sched @description "gain of the early reflections";#P objectname reflections/gain;#P newex 520 13 343 196617 jcom.parameter direct/gain @type msg_float @range 0. 1. @clipmode low @ramp linear.sched @description "gain of the direct sound component";#P objectname direct/gain;#P window linecount 1;#P newex 439 179 144 196617 jcom.list2parameter 3;#P newex 552 202 54 196617 pvar posZ;#P newex 496 203 55 196617 pvar posY;#P newex 439 204 55 196617 pvar posX;#P window linecount 3;#P newex 610 161 444 196617 jcom.parameter source/position/absolute @type msg_list @ramp linear.sched @range -20. 20. @repetitions 0 @clipmode both @description "Sourceposition in the virtual room in XYZ with 0/0/0 in the middle of the room";#P objectname source/position/absolute;#P flonum 126 42 26 9 -20. 20. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname posZ;#P flonum 100 42 27 9 -20. 20. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname posY;#P flonum 73 42 27 9 -20. 20. 8227 3 181 181 181 221 221 221 255 255 255 0 0 0;#P objectname posX;#P window linecount 1;#P newex 380 309 47 196617 pcontrol;#P newex 247 286 143 196617 jcom.algorithm_control~.mxt;#P message 105 81 191 196617 /preset/store 1 default \, /preset/write;#B color 3;#P newex 37 466 222 196617 jcom.out~ 17;#P newex 133 232 58 196617 jcom.in~ 1;#P message 113 103 125 196617 /documentation/generate;#B color 3;#P window linecount 2;#P message 113 176 65 196617 \; max refresh;#P newex 15 137 323 196617 jcom.hub jmod.sur.vimic~ @inspector 1 @size 1U-half @module_type audio.ambisonic @description "Virtual Microphone Control (ViMiC)";#P objectname jcom.hub;#P window linecount 1;#P comment 29 104 79 196617 command input;#P inlet 15 104 13 0;#P message 244 103 31 196617 /init;#P inlet 133 213 13 0;#P comment 1 43 75 196617 Position x/y/z;#B frgb 149 149 149;#P newex 133 359 313 196617 jalg.sur.vimic_8_1~.mxt;#P outlet 15 180 13 0;#P comment 38 660 101 196617 multicable output;#P user hint 130 24 149 40 "order of early reflections" 4000 1000 0 65535 65535 52428 9 3 0 1 0 0 0;#P user hint 106 25 125 41 "number of microphones" 4000 1000 0 65535 65535 52428 9 3 0 1 0 0 0;#P user hint 476 121 520 139 "ViMiC render type" 4000 1000 0 65535 65535 52428 9 3 0 1 0 0 0;#P bpatcher 0 0 256 60 0 0 jcom.gui.mxt 0 $0_;#P objectname jmod.gui.1Uh.a.stereo.mxt;#P fasten 17 0 12 0 110 124 20 124;#P connect 10 0 12 0;#P fasten 14 0 12 0 118 124 20 124;#P fasten 9 0 12 0 249 125 20 125;#P connect 12 0 5 0;#P connect 16 1 33 0;#P connect 33 0 34 0;#P connect 6 0 16 1;#P connect 16 2 33 1;#P connect 6 1 16 2;#P connect 16 3 33 2;#P connect 6 2 16 3;#P connect 16 4 33 3;#P connect 6 3 16 4;#P connect 16 5 33 4;#P connect 6 4 16 5;#P connect 16 6 33 5;#P connect 6 5 16 6;#P connect 16 7 33 6;#P connect 8 0 15 0;#P connect 15 0 6 0;#P connect 6 6 16 7;#P connect 16 8 33 7;#P connect 6 7 16 8;#P connect 16 9 33 8;#P hidden connect 46 0 42 0;#P hidden connect 28 0 42 0;#P hidden connect 46 0 43 0;#P hidden connect 29 0 43 0;#P connect 15 1 37 0;#P fasten 37 0 35 0 162 278 162 278;#P connect 35 0 36 0;#P connect 36 0 54 0;#P connect 6 8 16 9;#P connect 16 10 33 9;#P connect 6 9 16 10;#P connect 16 11 33 10;#P connect 16 12 33 11;#P connect 6 10 16 11;#P connect 16 13 33 12;#P connect 6 11 16 12;#P connect 16 14 33 13;#P connect 6 12 16 13;#P connect 16 15 33 14;#P connect 6 13 16 14;#P fasten 37 1 18 0 303 278 252 278;#P connect 6 14 16 15;#P connect 46 0 44 0;#P hidden connect 44 0 45 0;#P connect 18 1 19 0;#P connect 18 0 6 1;#P fasten 19 0 6 1 385 338 441 338;#P fasten 24 0 27 0 444 226 436 226 436 172 444 172;#P connect 27 0 24 0;#P connect 15 0 33 31;#P fasten 25 0 27 1 501 230 430 230 430 167 457 167;#P fasten 26 0 27 2 557 234 425 234 425 162 470 162;#P connect 27 1 25 0;#P hidden connect 42 0 28 0;#P hidden connect 43 0 29 0;#P connect 27 2 26 0;#P connect 23 0 27 10;#P lcolor 15;#P connect 32 0 30 0;#P connect 27 10 23 0;#P lcolor 15;#P fasten 56 0 57 0 690 527 606 527 606 495 615 495;#P fasten 48 0 49 0 727 480 608 480 608 445 619 445;#P connect 52 0 53 0;#P connect 57 1 56 0;#P connect 53 0 39 0;#P connect 39 0 51 0;#P connect 51 0 40 0;#P connect 40 0 50 0;#P connect 50 0 52 0;#P connect 49 1 48 0;#P pop;